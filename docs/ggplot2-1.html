<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />



<meta name="date" content="2022-11-20" />

<title>ggplot2 (Getting started)</title>

<script src="site_libs/header-attrs-2.19/header-attrs.js"></script>
<script src="site_libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
<link href="site_libs/bootstrap-5.2.2/bootstrap.min.css" rel="stylesheet" />
<script src="site_libs/bootstrap-5.2.2/bootstrap.bundle.min.js"></script>
<script src="site_libs/bs3compat-0.4.2/transition.js"></script>
<script src="site_libs/bs3compat-0.4.2/tabs.js"></script>
<script src="site_libs/bs3compat-0.4.2/bs3compat.js"></script>
<script src="site_libs/jqueryui-1.11.4/jquery-ui.min.js"></script>
<link href="site_libs/tocify-1.9.1/jquery.tocify.css" rel="stylesheet" />
<script src="site_libs/tocify-1.9.1/jquery.tocify.js"></script>
<script src="site_libs/navigation-1.1/tabsets.js"></script>
<script src="site_libs/navigation-1.1/codefolding.js"></script>
<script src="site_libs/navigation-1.1/sourceembed.js"></script>
<link href="site_libs/highlightjs-9.12.0/textmate.css" rel="stylesheet" />
<script src="site_libs/highlightjs-9.12.0/highlight.js"></script>
<link href="site_libs/pagedtable-1.1/css/pagedtable.css" rel="stylesheet" />
<script src="site_libs/pagedtable-1.1/js/pagedtable.js"></script>
<link href="site_libs/font-awesome-5.1.0/css/all.css" rel="stylesheet" />
<link href="site_libs/font-awesome-5.1.0/css/v4-shims.css" rel="stylesheet" />

<style type="text/css">
  code{white-space: pre-wrap;}
  span.smallcaps{font-variant: small-caps;}
  span.underline{text-decoration: underline;}
  div.column{display: inline-block; vertical-align: top; width: 50%;}
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
  ul.task-list{list-style: none;}
    </style>

<style type="text/css">code{white-space: pre;}</style>
<script type="text/javascript">
if (window.hljs) {
  hljs.configure({languages: []});
  hljs.initHighlightingOnLoad();
  if (document.readyState && document.readyState === "complete") {
    window.setTimeout(function() { hljs.initHighlighting(); }, 0);
  }
}
</script>




<style type="text/css">
#rmd-source-code {
  display: none;
}
</style>





<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
img {
  max-width:100%;
}
.tabbed-pane {
  padding-top: 12px;
}
.html-widget {
  margin-bottom: 20px;
}
button.code-folding-btn:focus {
  outline: none;
}
summary {
  display: list-item;
}
details > summary > p:only-child {
  display: inline;
}
pre code {
  padding: 0;
}
</style>


<style type="text/css">
.dropdown-submenu {
  position: relative;
}
.dropdown-submenu>.dropdown-menu {
  top: 0;
  left: 100%;
  margin-top: -6px;
  margin-left: -1px;
  border-radius: 0 6px 6px 6px;
}
.dropdown-submenu:hover>.dropdown-menu {
  display: block;
}
.dropdown-submenu>a:after {
  display: block;
  content: " ";
  float: right;
  width: 0;
  height: 0;
  border-color: transparent;
  border-style: solid;
  border-width: 5px 0 5px 5px;
  border-left-color: #cccccc;
  margin-top: 5px;
  margin-right: -10px;
}
.dropdown-submenu:hover>a:after {
  border-left-color: #adb5bd;
}
.dropdown-submenu.pull-left {
  float: none;
}
.dropdown-submenu.pull-left>.dropdown-menu {
  left: -100%;
  margin-left: 10px;
  border-radius: 6px 0 6px 6px;
}
</style>

<script type="text/javascript">
// manage active state of menu based on current page
$(document).ready(function () {
  // active menu anchor
  href = window.location.pathname
  href = href.substr(href.lastIndexOf('/') + 1)
  if (href === "")
    href = "index.html";
  var menuAnchor = $('a[href="' + href + '"]');

  // mark the anchor link active (and if it's in a dropdown, also mark that active)
  var dropdown = menuAnchor.closest('li.dropdown');
  if (window.bootstrap) { // Bootstrap 4+
    menuAnchor.addClass('active');
    dropdown.find('> .dropdown-toggle').addClass('active');
  } else { // Bootstrap 3
    menuAnchor.parent().addClass('active');
    dropdown.addClass('active');
  }

  // Navbar adjustments
  var navHeight = $(".navbar").first().height() + 15;
  var style = document.createElement('style');
  var pt = "padding-top: " + navHeight + "px; ";
  var mt = "margin-top: -" + navHeight + "px; ";
  var css = "";
  // offset scroll position for anchor links (for fixed navbar)
  for (var i = 1; i <= 6; i++) {
    css += ".section h" + i + "{ " + pt + mt + "}\n";
  }
  style.innerHTML = "body {" + pt + "padding-bottom: 40px; }\n" + css;
  document.head.appendChild(style);
});
</script>

<!-- tabsets -->

<style type="text/css">
.tabset-dropdown > .nav-tabs {
  display: inline-table;
  max-height: 500px;
  min-height: 44px;
  overflow-y: auto;
  border: 1px solid #ddd;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs > li.active:before, .tabset-dropdown > .nav-tabs.nav-tabs-open:before {
  content: "\e259";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li.active:before {
  content: "\e258";
  font-family: 'Glyphicons Halflings';
  border: none;
}

.tabset-dropdown > .nav-tabs > li.active {
  display: block;
}

.tabset-dropdown > .nav-tabs > li > a,
.tabset-dropdown > .nav-tabs > li > a:focus,
.tabset-dropdown > .nav-tabs > li > a:hover {
  border: none;
  display: inline-block;
  border-radius: 4px;
  background-color: transparent;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li {
  display: block;
  float: none;
}

.tabset-dropdown > .nav-tabs > li {
  display: none;
}
</style>

<!-- code folding -->
<style type="text/css">
.code-folding-btn { margin-bottom: 4px; }
</style>



<style type="text/css">

#TOC {
  margin: 25px 0px 20px 0px;
}
@media (max-width: 768px) {
#TOC {
  position: relative;
  width: 100%;
}
}

@media print {
.toc-content {
  /* see https://github.com/w3c/csswg-drafts/issues/4434 */
  float: right;
}
}

.toc-content {
  padding-left: 30px;
  padding-right: 40px;
}

div.main-container {
  max-width: 1200px;
}

div.tocify {
  width: 20%;
  max-width: 260px;
  max-height: 85%;
}

@media (min-width: 768px) and (max-width: 991px) {
  div.tocify {
    width: 25%;
  }
}

@media (max-width: 767px) {
  div.tocify {
    width: 100%;
    max-width: none;
  }
}

.tocify ul, .tocify li {
  line-height: 20px;
}

.tocify-subheader .tocify-item {
  font-size: 0.90em;
}

.tocify .list-group-item {
  border-radius: 0px;
}


</style>



</head>

<body>


<div class="container-fluid main-container">


<!-- setup 3col/9col grid for toc_float and main content  -->
<div class="row">
<div class="col-xs-12 col-sm-4 col-md-3">
<div id="TOC" class="tocify">
</div>
</div>

<div class="toc-content col-xs-12 col-sm-8 col-md-9">




<div class="navbar navbar-default  navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-bs-toggle="collapse" data-target="#navbar" data-bs-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html">rtraining notebooks</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="reference/index.html">Reference</a>
</li>
<li>
  <a href="news/index.html">Changelog</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Analysis
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="FaultTree.html">FaultTree.widget Test</a>
    </li>
    <li>
      <a href="advanced-r-1.html">Advanced R Workbook (Foundations)</a>
    </li>
    <li>
      <a href="advanced-r-2.html">Advanced R Workbook (Functional programming)</a>
    </li>
    <li>
      <a href="advanced-r-3.html">Advanced R Workbook (Object-oriented programming)</a>
    </li>
    <li>
      <a href="ggplot2-1.html">ggplot2 (Getting started)</a>
    </li>
    <li>
      <a href="ggplot2-2.html">ggplot2 (Layers)</a>
    </li>
    <li>
      <a href="ggplot2-3.html">ggplot2 (Scales)</a>
    </li>
    <li>
      <a href="ggplot2-4.html">ggplot2 (Grammar)</a>
    </li>
    <li>
      <a href="ggplot2-5.html">ggplot2 (Extending)</a>
    </li>
    <li>
      <a href="r-setup-log.html">R Setup Log</a>
    </li>
    <li>
      <a href="r-training-log.html">R Training Log</a>
    </li>
  </ul>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/jabenninghoff/rtraining/">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

<div id="header">

<div class="btn-group pull-right float-right">
<button type="button" class="btn btn-default btn-xs btn-secondary btn-sm dropdown-toggle" data-toggle="dropdown" data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false"><span>Code</span> <span class="caret"></span></button>
<ul class="dropdown-menu dropdown-menu-right" style="min-width: 50px;">
<li><a id="rmd-show-all-code" href="#">Show All Code</a></li>
<li><a id="rmd-hide-all-code" href="#">Hide All Code</a></li>
<li role="separator" class="divider"></li>
<li><a id="rmd-download-source" href="#">Download Rmd</a></li>
</ul>
</div>



<h1 class="title toc-ignore">ggplot2 (Getting started)</h1>
<h4 class="date">2022-11-20</h4>

</div>


<p>Workbook for completing quizzes and exercises from the “Getting
started” chapters of <a
href="https://ggplot2-book.org/index.html">ggplot2: Elegant Graphics for
Data Analysis</a>, third edition, with comparisons to solutions from <a
href="https://ggplot2-book-solutions-3ed.netlify.app">Solutions to
ggplot2: Elegant Graphics for Data Analysis</a>.</p>
<pre class="r"><code>library(ggplot2)
library(dplyr)
library(modelr)
library(jbplot)

knitr::opts_chunk$set(
  comment = &quot;#&gt;&quot;,
  fig.align = &quot;center&quot;
)</code></pre>
<div id="introduction" class="section level1">
<h1>Introduction</h1>
<p>This workbook includes answers and solutions to the quizzes and
exercises from <a href="https://ggplot2-book.org/index.html">ggplot2:
Elegant Graphics for Data Analysis</a> and <a
href="https://ggplot2-book-solutions-3ed.netlify.app">Solutions to
ggplot2: Elegant Graphics for Data Analysis</a>, organized by chapter.
It includes excerpts from both books, copied here.</p>
<p><strong>WARNING, SPOILERS!</strong> If you haven’t read the ggplot2
book and intend to complete the quizzes and exercises, don’t read this
notebook. It contains my (potentially wrong) answers to both.</p>
</div>
<div id="first-steps" class="section level1">
<h1>2 First steps</h1>
<p>The goal of this chapter is to teach you how to produce useful
graphics with ggplot2 as quickly as possible. You’ll learn the basics of
ggplot() along with some useful “recipes” to make the most important
plots. ggplot() allows you to make complex plots with just a few lines
of code because it’s based on a rich underlying theory, the grammar of
graphics. Here we’ll skip the theory and focus on the practice, and in
later chapters you’ll learn how to use the full expressive power of the
grammar.</p>
<div id="exercises" class="section level2">
<h2>2.2.1 Exercises</h2>
<ol style="list-style-type: decimal">
<li>List five functions that you could use to get more information about
the <code>mpg</code> dataset.</li>
</ol>
<p>Answer:</p>
<p>Five common base R functions I use to interrogate dataframes are:</p>
<ol style="list-style-type: decimal">
<li><code>summary()</code></li>
<li><code>hist()</code></li>
<li><code>plot()</code></li>
<li><code>lm()</code></li>
<li><code>View()</code></li>
</ol>
<p>GG Solutions:</p>
<ul>
<li><code>help(mpg)</code>: Documentation of dataset</li>
<li><code>dim(mpg)</code>: Dimensions of dataset</li>
<li><code>summary(mpg)</code>: Summary measures of dataset</li>
<li><code>str(mpg)</code>: Display of the internal structure of
dataset</li>
<li><code>glimpse(mpg)</code>: <code>dplyr</code> version of
<code>str(mpg)</code></li>
</ul>
<hr />
<ol start="2" style="list-style-type: decimal">
<li>How can you find out what other datasets are included with
ggplot2?</li>
</ol>
<p>Answer: use <code>data(package = "ggplot2")</code>, which returns the
following:</p>
<pre><code>Data sets in package ‘ggplot2’:

diamonds                      Prices of over 50,000 round cut diamonds
economics                     US economic time series
economics_long                US economic time series
faithfuld                     2d density estimate of Old Faithful data
luv_colours                   &#39;colors()&#39; in Luv space
midwest                       Midwest demographics
mpg                           Fuel economy data from 1999 to 2008 for 38 popular models of
                              cars
msleep                        An updated and expanded version of the mammals sleep dataset
presidential                  Terms of 12 presidents from Eisenhower to Trump
seals                         Vector field of seal movements
txhousing                     Housing sales in TX</code></pre>
<p>GG Solutions:</p>
<p><code>data(package = "ggplot2")</code> loads the available data sets
in ggplot2. Alternatively,if you have internet access, go to <a
href="https://ggplot2.tidyverse.org/reference/index.html#section-data"
class="uri">https://ggplot2.tidyverse.org/reference/index.html#section-data</a></p>
<hr />
<ol start="3" style="list-style-type: decimal">
<li>Apart from the US, most countries use fuel consumption (fuel
consumed over fixed distance) rather than fuel economy (distance
travelled with fixed amount of fuel). How could you convert
<code>cty</code> and <code>hwy</code> into the European standard of
l/100km?</li>
</ol>
<p>Answer: to convert miles/gallon to liters/100km, we use the
formula:</p>
<p><span class="math inline">\(\frac{1}{miles/gallon} \times
\frac{3.78541}{1.609344 \div 100} = l/100km\)</span></p>
<pre class="r"><code>mpg_l100km &lt;- function(x) {
  (1 / x) * 3.78541 / (1.609344 / 100)
}

# Need to use ggplot2::mpg to disambiguate for build_analysis_site()
ggplot2::mpg |&gt;
  mutate(cty = mpg_l100km(cty), hwy = mpg_l100km(hwy))</code></pre>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":["manufacturer"],"name":[1],"type":["chr"],"align":["left"]},{"label":["model"],"name":[2],"type":["chr"],"align":["left"]},{"label":["displ"],"name":[3],"type":["dbl"],"align":["right"]},{"label":["year"],"name":[4],"type":["int"],"align":["right"]},{"label":["cyl"],"name":[5],"type":["int"],"align":["right"]},{"label":["trans"],"name":[6],"type":["chr"],"align":["left"]},{"label":["drv"],"name":[7],"type":["chr"],"align":["left"]},{"label":["cty"],"name":[8],"type":["dbl"],"align":["right"]},{"label":["hwy"],"name":[9],"type":["dbl"],"align":["right"]},{"label":["fl"],"name":[10],"type":["chr"],"align":["left"]},{"label":["class"],"name":[11],"type":["chr"],"align":["left"]}],"data":[{"1":"audi","2":"a4","3":"1.8","4":"1999","5":"4","6":"auto(l5)","7":"f","8":"13.067471","9":"8.110844","10":"p","11":"compact"},{"1":"audi","2":"a4","3":"1.8","4":"1999","5":"4","6":"manual(m5)","7":"f","8":"11.200689","9":"8.110844","10":"p","11":"compact"},{"1":"audi","2":"a4","3":"2.0","4":"2008","5":"4","6":"manual(m6)","7":"f","8":"11.760724","9":"7.587564","10":"p","11":"compact"},{"1":"audi","2":"a4","3":"2.0","4":"2008","5":"4","6":"auto(av)","7":"f","8":"11.200689","9":"7.840482","10":"p","11":"compact"},{"1":"audi","2":"a4","3":"2.8","4":"1999","5":"6","6":"auto(l5)","7":"f","8":"14.700905","9":"9.046710","10":"p","11":"compact"},{"1":"audi","2":"a4","3":"2.8","4":"1999","5":"6","6":"manual(m5)","7":"f","8":"13.067471","9":"9.046710","10":"p","11":"compact"},{"1":"audi","2":"a4","3":"3.1","4":"2008","5":"6","6":"auto(av)","7":"f","8":"13.067471","9":"8.711647","10":"p","11":"compact"},{"1":"audi","2":"a4 quattro","3":"1.8","4":"1999","5":"4","6":"manual(m5)","7":"4","8":"13.067471","9":"9.046710","10":"p","11":"compact"},{"1":"audi","2":"a4 quattro","3":"1.8","4":"1999","5":"4","6":"auto(l5)","7":"4","8":"14.700905","9":"9.408579","10":"p","11":"compact"},{"1":"audi","2":"a4 quattro","3":"2.0","4":"2008","5":"4","6":"manual(m6)","7":"4","8":"11.760724","9":"8.400517","10":"p","11":"compact"},{"1":"audi","2":"a4 quattro","3":"2.0","4":"2008","5":"4","6":"auto(s6)","7":"4","8":"12.379709","9":"8.711647","10":"p","11":"compact"},{"1":"audi","2":"a4 quattro","3":"2.8","4":"1999","5":"6","6":"auto(l5)","7":"4","8":"15.680965","9":"9.408579","10":"p","11":"compact"},{"1":"audi","2":"a4 quattro","3":"2.8","4":"1999","5":"6","6":"manual(m5)","7":"4","8":"13.836145","9":"9.408579","10":"p","11":"compact"},{"1":"audi","2":"a4 quattro","3":"3.1","4":"2008","5":"6","6":"auto(s6)","7":"4","8":"13.836145","9":"9.408579","10":"p","11":"compact"},{"1":"audi","2":"a4 quattro","3":"3.1","4":"2008","5":"6","6":"manual(m6)","7":"4","8":"15.680965","9":"9.408579","10":"p","11":"compact"},{"1":"audi","2":"a6 quattro","3":"2.8","4":"1999","5":"6","6":"auto(l5)","7":"4","8":"15.680965","9":"9.800603","10":"p","11":"midsize"},{"1":"audi","2":"a6 quattro","3":"3.1","4":"2008","5":"6","6":"auto(s6)","7":"4","8":"13.836145","9":"9.408579","10":"p","11":"midsize"},{"1":"audi","2":"a6 quattro","3":"4.2","4":"2008","5":"8","6":"auto(s6)","7":"4","8":"14.700905","9":"10.226716","10":"p","11":"midsize"},{"1":"chevrolet","2":"c1500 suburban 2wd","3":"5.3","4":"2008","5":"8","6":"auto(l4)","7":"r","8":"16.801034","9":"11.760724","10":"r","11":"suv"},{"1":"chevrolet","2":"c1500 suburban 2wd","3":"5.3","4":"2008","5":"8","6":"auto(l4)","7":"r","8":"21.383134","9":"15.680965","10":"e","11":"suv"},{"1":"chevrolet","2":"c1500 suburban 2wd","3":"5.3","4":"2008","5":"8","6":"auto(l4)","7":"r","8":"16.801034","9":"11.760724","10":"r","11":"suv"},{"1":"chevrolet","2":"c1500 suburban 2wd","3":"5.7","4":"1999","5":"8","6":"auto(l4)","7":"r","8":"18.093421","9":"13.836145","10":"r","11":"suv"},{"1":"chevrolet","2":"c1500 suburban 2wd","3":"6.0","4":"2008","5":"8","6":"auto(l4)","7":"r","8":"19.601206","9":"13.836145","10":"r","11":"suv"},{"1":"chevrolet","2":"corvette","3":"5.7","4":"1999","5":"8","6":"manual(m6)","7":"r","8":"14.700905","9":"9.046710","10":"p","11":"2seater"},{"1":"chevrolet","2":"corvette","3":"5.7","4":"1999","5":"8","6":"auto(l4)","7":"r","8":"15.680965","9":"10.226716","10":"p","11":"2seater"},{"1":"chevrolet","2":"corvette","3":"6.2","4":"2008","5":"8","6":"manual(m6)","7":"r","8":"14.700905","9":"9.046710","10":"p","11":"2seater"},{"1":"chevrolet","2":"corvette","3":"6.2","4":"2008","5":"8","6":"auto(s6)","7":"r","8":"15.680965","9":"9.408579","10":"p","11":"2seater"},{"1":"chevrolet","2":"corvette","3":"7.0","4":"2008","5":"8","6":"manual(m6)","7":"r","8":"15.680965","9":"9.800603","10":"p","11":"2seater"},{"1":"chevrolet","2":"k1500 tahoe 4wd","3":"5.3","4":"2008","5":"8","6":"auto(l4)","7":"4","8":"16.801034","9":"12.379709","10":"r","11":"suv"},{"1":"chevrolet","2":"k1500 tahoe 4wd","3":"5.3","4":"2008","5":"8","6":"auto(l4)","7":"4","8":"21.383134","9":"16.801034","10":"e","11":"suv"},{"1":"chevrolet","2":"k1500 tahoe 4wd","3":"5.7","4":"1999","5":"8","6":"auto(l4)","7":"4","8":"21.383134","9":"15.680965","10":"r","11":"suv"},{"1":"chevrolet","2":"k1500 tahoe 4wd","3":"6.5","4":"1999","5":"8","6":"auto(l4)","7":"4","8":"16.801034","9":"13.836145","10":"d","11":"suv"},{"1":"chevrolet","2":"malibu","3":"2.4","4":"1999","5":"4","6":"auto(l4)","7":"f","8":"12.379709","9":"8.711647","10":"r","11":"midsize"},{"1":"chevrolet","2":"malibu","3":"2.4","4":"2008","5":"4","6":"auto(l4)","7":"f","8":"10.691567","9":"7.840482","10":"r","11":"midsize"},{"1":"chevrolet","2":"malibu","3":"3.1","4":"1999","5":"6","6":"auto(l4)","7":"f","8":"13.067471","9":"9.046710","10":"r","11":"midsize"},{"1":"chevrolet","2":"malibu","3":"3.5","4":"2008","5":"6","6":"auto(l4)","7":"f","8":"13.067471","9":"8.110844","10":"r","11":"midsize"},{"1":"chevrolet","2":"malibu","3":"3.6","4":"2008","5":"6","6":"auto(s6)","7":"f","8":"13.836145","9":"9.046710","10":"r","11":"midsize"},{"1":"dodge","2":"caravan 2wd","3":"2.4","4":"1999","5":"4","6":"auto(l3)","7":"f","8":"13.067471","9":"9.800603","10":"r","11":"minivan"},{"1":"dodge","2":"caravan 2wd","3":"3.0","4":"1999","5":"6","6":"auto(l4)","7":"f","8":"13.836145","9":"9.800603","10":"r","11":"minivan"},{"1":"dodge","2":"caravan 2wd","3":"3.3","4":"1999","5":"6","6":"auto(l4)","7":"f","8":"14.700905","9":"10.691567","10":"r","11":"minivan"},{"1":"dodge","2":"caravan 2wd","3":"3.3","4":"1999","5":"6","6":"auto(l4)","7":"f","8":"14.700905","9":"10.691567","10":"r","11":"minivan"},{"1":"dodge","2":"caravan 2wd","3":"3.3","4":"2008","5":"6","6":"auto(l4)","7":"f","8":"13.836145","9":"9.800603","10":"r","11":"minivan"},{"1":"dodge","2":"caravan 2wd","3":"3.3","4":"2008","5":"6","6":"auto(l4)","7":"f","8":"13.836145","9":"9.800603","10":"r","11":"minivan"},{"1":"dodge","2":"caravan 2wd","3":"3.3","4":"2008","5":"6","6":"auto(l4)","7":"f","8":"21.383134","9":"13.836145","10":"e","11":"minivan"},{"1":"dodge","2":"caravan 2wd","3":"3.8","4":"1999","5":"6","6":"auto(l4)","7":"f","8":"15.680965","9":"10.691567","10":"r","11":"minivan"},{"1":"dodge","2":"caravan 2wd","3":"3.8","4":"1999","5":"6","6":"auto(l4)","7":"f","8":"15.680965","9":"11.200689","10":"r","11":"minivan"},{"1":"dodge","2":"caravan 2wd","3":"3.8","4":"2008","5":"6","6":"auto(l6)","7":"f","8":"14.700905","9":"10.226716","10":"r","11":"minivan"},{"1":"dodge","2":"caravan 2wd","3":"4.0","4":"2008","5":"6","6":"auto(l6)","7":"f","8":"14.700905","9":"10.226716","10":"r","11":"minivan"},{"1":"dodge","2":"dakota pickup 4wd","3":"3.7","4":"2008","5":"6","6":"manual(m6)","7":"4","8":"15.680965","9":"12.379709","10":"r","11":"pickup"},{"1":"dodge","2":"dakota pickup 4wd","3":"3.7","4":"2008","5":"6","6":"auto(l4)","7":"4","8":"16.801034","9":"13.067471","10":"r","11":"pickup"},{"1":"dodge","2":"dakota pickup 4wd","3":"3.9","4":"1999","5":"6","6":"auto(l4)","7":"4","8":"18.093421","9":"13.836145","10":"r","11":"pickup"},{"1":"dodge","2":"dakota pickup 4wd","3":"3.9","4":"1999","5":"6","6":"manual(m5)","7":"4","8":"16.801034","9":"13.836145","10":"r","11":"pickup"},{"1":"dodge","2":"dakota pickup 4wd","3":"4.7","4":"2008","5":"8","6":"auto(l5)","7":"4","8":"16.801034","9":"12.379709","10":"r","11":"pickup"},{"1":"dodge","2":"dakota pickup 4wd","3":"4.7","4":"2008","5":"8","6":"auto(l5)","7":"4","8":"16.801034","9":"12.379709","10":"r","11":"pickup"},{"1":"dodge","2":"dakota pickup 4wd","3":"4.7","4":"2008","5":"8","6":"auto(l5)","7":"4","8":"26.134941","9":"19.601206","10":"e","11":"pickup"},{"1":"dodge","2":"dakota pickup 4wd","3":"5.2","4":"1999","5":"8","6":"manual(m5)","7":"4","8":"21.383134","9":"13.836145","10":"r","11":"pickup"},{"1":"dodge","2":"dakota pickup 4wd","3":"5.2","4":"1999","5":"8","6":"auto(l4)","7":"4","8":"21.383134","9":"15.680965","10":"r","11":"pickup"},{"1":"dodge","2":"durango 4wd","3":"3.9","4":"1999","5":"6","6":"auto(l4)","7":"4","8":"18.093421","9":"13.836145","10":"r","11":"suv"},{"1":"dodge","2":"durango 4wd","3":"4.7","4":"2008","5":"8","6":"auto(l5)","7":"4","8":"18.093421","9":"13.836145","10":"r","11":"suv"},{"1":"dodge","2":"durango 4wd","3":"4.7","4":"2008","5":"8","6":"auto(l5)","7":"4","8":"26.134941","9":"19.601206","10":"e","11":"suv"},{"1":"dodge","2":"durango 4wd","3":"4.7","4":"2008","5":"8","6":"auto(l5)","7":"4","8":"18.093421","9":"13.836145","10":"r","11":"suv"},{"1":"dodge","2":"durango 4wd","3":"5.2","4":"1999","5":"8","6":"auto(l4)","7":"4","8":"21.383134","9":"14.700905","10":"r","11":"suv"},{"1":"dodge","2":"durango 4wd","3":"5.7","4":"2008","5":"8","6":"auto(l5)","7":"4","8":"18.093421","9":"13.067471","10":"r","11":"suv"},{"1":"dodge","2":"durango 4wd","3":"5.9","4":"1999","5":"8","6":"auto(l4)","7":"4","8":"21.383134","9":"15.680965","10":"r","11":"suv"},{"1":"dodge","2":"ram 1500 pickup 4wd","3":"4.7","4":"2008","5":"8","6":"manual(m6)","7":"4","8":"19.601206","9":"14.700905","10":"r","11":"pickup"},{"1":"dodge","2":"ram 1500 pickup 4wd","3":"4.7","4":"2008","5":"8","6":"auto(l5)","7":"4","8":"26.134941","9":"19.601206","10":"e","11":"pickup"},{"1":"dodge","2":"ram 1500 pickup 4wd","3":"4.7","4":"2008","5":"8","6":"auto(l5)","7":"4","8":"18.093421","9":"13.836145","10":"r","11":"pickup"},{"1":"dodge","2":"ram 1500 pickup 4wd","3":"4.7","4":"2008","5":"8","6":"auto(l5)","7":"4","8":"18.093421","9":"13.836145","10":"r","11":"pickup"},{"1":"dodge","2":"ram 1500 pickup 4wd","3":"4.7","4":"2008","5":"8","6":"manual(m6)","7":"4","8":"19.601206","9":"14.700905","10":"r","11":"pickup"},{"1":"dodge","2":"ram 1500 pickup 4wd","3":"4.7","4":"2008","5":"8","6":"manual(m6)","7":"4","8":"26.134941","9":"19.601206","10":"e","11":"pickup"},{"1":"dodge","2":"ram 1500 pickup 4wd","3":"5.2","4":"1999","5":"8","6":"auto(l4)","7":"4","8":"21.383134","9":"15.680965","10":"r","11":"pickup"},{"1":"dodge","2":"ram 1500 pickup 4wd","3":"5.2","4":"1999","5":"8","6":"manual(m5)","7":"4","8":"21.383134","9":"14.700905","10":"r","11":"pickup"},{"1":"dodge","2":"ram 1500 pickup 4wd","3":"5.7","4":"2008","5":"8","6":"auto(l5)","7":"4","8":"18.093421","9":"13.836145","10":"r","11":"pickup"},{"1":"dodge","2":"ram 1500 pickup 4wd","3":"5.9","4":"1999","5":"8","6":"auto(l4)","7":"4","8":"21.383134","9":"15.680965","10":"r","11":"pickup"},{"1":"ford","2":"expedition 2wd","3":"4.6","4":"1999","5":"8","6":"auto(l4)","7":"r","8":"21.383134","9":"13.836145","10":"r","11":"suv"},{"1":"ford","2":"expedition 2wd","3":"5.4","4":"1999","5":"8","6":"auto(l4)","7":"r","8":"21.383134","9":"13.836145","10":"r","11":"suv"},{"1":"ford","2":"expedition 2wd","3":"5.4","4":"2008","5":"8","6":"auto(l6)","7":"r","8":"19.601206","9":"13.067471","10":"r","11":"suv"},{"1":"ford","2":"explorer 4wd","3":"4.0","4":"1999","5":"6","6":"auto(l5)","7":"4","8":"16.801034","9":"13.836145","10":"r","11":"suv"},{"1":"ford","2":"explorer 4wd","3":"4.0","4":"1999","5":"6","6":"manual(m5)","7":"4","8":"15.680965","9":"12.379709","10":"r","11":"suv"},{"1":"ford","2":"explorer 4wd","3":"4.0","4":"1999","5":"6","6":"auto(l5)","7":"4","8":"16.801034","9":"13.836145","10":"r","11":"suv"},{"1":"ford","2":"explorer 4wd","3":"4.0","4":"2008","5":"6","6":"auto(l5)","7":"4","8":"18.093421","9":"12.379709","10":"r","11":"suv"},{"1":"ford","2":"explorer 4wd","3":"4.6","4":"2008","5":"8","6":"auto(l6)","7":"4","8":"18.093421","9":"12.379709","10":"r","11":"suv"},{"1":"ford","2":"explorer 4wd","3":"5.0","4":"1999","5":"8","6":"auto(l4)","7":"4","8":"18.093421","9":"13.836145","10":"r","11":"suv"},{"1":"ford","2":"f150 pickup 4wd","3":"4.2","4":"1999","5":"6","6":"auto(l4)","7":"4","8":"16.801034","9":"13.836145","10":"r","11":"pickup"},{"1":"ford","2":"f150 pickup 4wd","3":"4.2","4":"1999","5":"6","6":"manual(m5)","7":"4","8":"16.801034","9":"13.836145","10":"r","11":"pickup"},{"1":"ford","2":"f150 pickup 4wd","3":"4.6","4":"1999","5":"8","6":"manual(m5)","7":"4","8":"18.093421","9":"14.700905","10":"r","11":"pickup"},{"1":"ford","2":"f150 pickup 4wd","3":"4.6","4":"1999","5":"8","6":"auto(l4)","7":"4","8":"18.093421","9":"14.700905","10":"r","11":"pickup"},{"1":"ford","2":"f150 pickup 4wd","3":"4.6","4":"2008","5":"8","6":"auto(l4)","7":"4","8":"18.093421","9":"13.836145","10":"r","11":"pickup"},{"1":"ford","2":"f150 pickup 4wd","3":"5.4","4":"1999","5":"8","6":"auto(l4)","7":"4","8":"21.383134","9":"15.680965","10":"r","11":"pickup"},{"1":"ford","2":"f150 pickup 4wd","3":"5.4","4":"2008","5":"8","6":"auto(l4)","7":"4","8":"18.093421","9":"13.836145","10":"r","11":"pickup"},{"1":"ford","2":"mustang","3":"3.8","4":"1999","5":"6","6":"manual(m5)","7":"r","8":"13.067471","9":"9.046710","10":"r","11":"subcompact"},{"1":"ford","2":"mustang","3":"3.8","4":"1999","5":"6","6":"auto(l4)","7":"r","8":"13.067471","9":"9.408579","10":"r","11":"subcompact"},{"1":"ford","2":"mustang","3":"4.0","4":"2008","5":"6","6":"manual(m5)","7":"r","8":"13.836145","9":"9.046710","10":"r","11":"subcompact"},{"1":"ford","2":"mustang","3":"4.0","4":"2008","5":"6","6":"auto(l5)","7":"r","8":"14.700905","9":"9.800603","10":"r","11":"subcompact"},{"1":"ford","2":"mustang","3":"4.6","4":"1999","5":"8","6":"auto(l4)","7":"r","8":"15.680965","9":"11.200689","10":"r","11":"subcompact"},{"1":"ford","2":"mustang","3":"4.6","4":"1999","5":"8","6":"manual(m5)","7":"r","8":"15.680965","9":"10.691567","10":"r","11":"subcompact"},{"1":"ford","2":"mustang","3":"4.6","4":"2008","5":"8","6":"manual(m5)","7":"r","8":"15.680965","9":"10.226716","10":"r","11":"subcompact"},{"1":"ford","2":"mustang","3":"4.6","4":"2008","5":"8","6":"auto(l5)","7":"r","8":"15.680965","9":"10.691567","10":"r","11":"subcompact"},{"1":"ford","2":"mustang","3":"5.4","4":"2008","5":"8","6":"manual(m6)","7":"r","8":"16.801034","9":"11.760724","10":"p","11":"subcompact"},{"1":"honda","2":"civic","3":"1.6","4":"1999","5":"4","6":"manual(m5)","7":"f","8":"8.400517","9":"7.127711","10":"r","11":"subcompact"},{"1":"honda","2":"civic","3":"1.6","4":"1999","5":"4","6":"auto(l4)","7":"f","8":"9.800603","9":"7.350452","10":"r","11":"subcompact"},{"1":"honda","2":"civic","3":"1.6","4":"1999","5":"4","6":"manual(m5)","7":"f","8":"9.408579","9":"7.350452","10":"r","11":"subcompact"},{"1":"honda","2":"civic","3":"1.6","4":"1999","5":"4","6":"manual(m5)","7":"f","8":"10.226716","9":"8.110844","10":"p","11":"subcompact"},{"1":"honda","2":"civic","3":"1.6","4":"1999","5":"4","6":"auto(l4)","7":"f","8":"9.800603","9":"7.350452","10":"r","11":"subcompact"},{"1":"honda","2":"civic","3":"1.8","4":"2008","5":"4","6":"manual(m5)","7":"f","8":"9.046710","9":"6.918073","10":"r","11":"subcompact"},{"1":"honda","2":"civic","3":"1.8","4":"2008","5":"4","6":"auto(l5)","7":"f","8":"9.408579","9":"6.533735","10":"r","11":"subcompact"},{"1":"honda","2":"civic","3":"1.8","4":"2008","5":"4","6":"auto(l5)","7":"f","8":"9.800603","9":"6.533735","10":"c","11":"subcompact"},{"1":"honda","2":"civic","3":"2.0","4":"2008","5":"4","6":"manual(m6)","7":"f","8":"11.200689","9":"8.110844","10":"p","11":"subcompact"},{"1":"hyundai","2":"sonata","3":"2.4","4":"1999","5":"4","6":"auto(l4)","7":"f","8":"13.067471","9":"9.046710","10":"r","11":"midsize"},{"1":"hyundai","2":"sonata","3":"2.4","4":"1999","5":"4","6":"manual(m5)","7":"f","8":"13.067471","9":"8.711647","10":"r","11":"midsize"},{"1":"hyundai","2":"sonata","3":"2.4","4":"2008","5":"4","6":"auto(l4)","7":"f","8":"11.200689","9":"7.840482","10":"r","11":"midsize"},{"1":"hyundai","2":"sonata","3":"2.4","4":"2008","5":"4","6":"manual(m5)","7":"f","8":"11.200689","9":"7.587564","10":"r","11":"midsize"},{"1":"hyundai","2":"sonata","3":"2.5","4":"1999","5":"6","6":"auto(l4)","7":"f","8":"13.067471","9":"9.046710","10":"r","11":"midsize"},{"1":"hyundai","2":"sonata","3":"2.5","4":"1999","5":"6","6":"manual(m5)","7":"f","8":"13.067471","9":"9.046710","10":"r","11":"midsize"},{"1":"hyundai","2":"sonata","3":"3.3","4":"2008","5":"6","6":"auto(l5)","7":"f","8":"12.379709","9":"8.400517","10":"r","11":"midsize"},{"1":"hyundai","2":"tiburon","3":"2.0","4":"1999","5":"4","6":"auto(l4)","7":"f","8":"12.379709","9":"9.046710","10":"r","11":"subcompact"},{"1":"hyundai","2":"tiburon","3":"2.0","4":"1999","5":"4","6":"manual(m5)","7":"f","8":"12.379709","9":"8.110844","10":"r","11":"subcompact"},{"1":"hyundai","2":"tiburon","3":"2.0","4":"2008","5":"4","6":"manual(m5)","7":"f","8":"11.760724","9":"8.400517","10":"r","11":"subcompact"},{"1":"hyundai","2":"tiburon","3":"2.0","4":"2008","5":"4","6":"auto(l4)","7":"f","8":"11.760724","9":"8.711647","10":"r","11":"subcompact"},{"1":"hyundai","2":"tiburon","3":"2.7","4":"2008","5":"6","6":"auto(l4)","7":"f","8":"13.836145","9":"9.800603","10":"r","11":"subcompact"},{"1":"hyundai","2":"tiburon","3":"2.7","4":"2008","5":"6","6":"manual(m6)","7":"f","8":"14.700905","9":"9.800603","10":"r","11":"subcompact"},{"1":"hyundai","2":"tiburon","3":"2.7","4":"2008","5":"6","6":"manual(m5)","7":"f","8":"13.836145","9":"9.800603","10":"r","11":"subcompact"},{"1":"jeep","2":"grand cherokee 4wd","3":"3.0","4":"2008","5":"6","6":"auto(l5)","7":"4","8":"13.836145","9":"10.691567","10":"d","11":"suv"},{"1":"jeep","2":"grand cherokee 4wd","3":"3.7","4":"2008","5":"6","6":"auto(l5)","7":"4","8":"15.680965","9":"12.379709","10":"r","11":"suv"},{"1":"jeep","2":"grand cherokee 4wd","3":"4.0","4":"1999","5":"6","6":"auto(l4)","7":"4","8":"15.680965","9":"11.760724","10":"r","11":"suv"},{"1":"jeep","2":"grand cherokee 4wd","3":"4.7","4":"1999","5":"8","6":"auto(l4)","7":"4","8":"16.801034","9":"13.836145","10":"r","11":"suv"},{"1":"jeep","2":"grand cherokee 4wd","3":"4.7","4":"2008","5":"8","6":"auto(l5)","7":"4","8":"26.134941","9":"19.601206","10":"e","11":"suv"},{"1":"jeep","2":"grand cherokee 4wd","3":"4.7","4":"2008","5":"8","6":"auto(l5)","7":"4","8":"16.801034","9":"12.379709","10":"r","11":"suv"},{"1":"jeep","2":"grand cherokee 4wd","3":"5.7","4":"2008","5":"8","6":"auto(l5)","7":"4","8":"18.093421","9":"13.067471","10":"r","11":"suv"},{"1":"jeep","2":"grand cherokee 4wd","3":"6.1","4":"2008","5":"8","6":"auto(l5)","7":"4","8":"21.383134","9":"16.801034","10":"p","11":"suv"},{"1":"land rover","2":"range rover","3":"4.0","4":"1999","5":"8","6":"auto(l4)","7":"4","8":"21.383134","9":"15.680965","10":"p","11":"suv"},{"1":"land rover","2":"range rover","3":"4.2","4":"2008","5":"8","6":"auto(s6)","7":"4","8":"19.601206","9":"13.067471","10":"r","11":"suv"},{"1":"land rover","2":"range rover","3":"4.4","4":"2008","5":"8","6":"auto(s6)","7":"4","8":"19.601206","9":"13.067471","10":"r","11":"suv"},{"1":"land rover","2":"range rover","3":"4.6","4":"1999","5":"8","6":"auto(l4)","7":"4","8":"21.383134","9":"15.680965","10":"p","11":"suv"},{"1":"lincoln","2":"navigator 2wd","3":"5.4","4":"1999","5":"8","6":"auto(l4)","7":"r","8":"21.383134","9":"13.836145","10":"r","11":"suv"},{"1":"lincoln","2":"navigator 2wd","3":"5.4","4":"1999","5":"8","6":"auto(l4)","7":"r","8":"21.383134","9":"14.700905","10":"p","11":"suv"},{"1":"lincoln","2":"navigator 2wd","3":"5.4","4":"2008","5":"8","6":"auto(l6)","7":"r","8":"19.601206","9":"13.067471","10":"r","11":"suv"},{"1":"mercury","2":"mountaineer 4wd","3":"4.0","4":"1999","5":"6","6":"auto(l5)","7":"4","8":"16.801034","9":"13.836145","10":"r","11":"suv"},{"1":"mercury","2":"mountaineer 4wd","3":"4.0","4":"2008","5":"6","6":"auto(l5)","7":"4","8":"18.093421","9":"12.379709","10":"r","11":"suv"},{"1":"mercury","2":"mountaineer 4wd","3":"4.6","4":"2008","5":"8","6":"auto(l6)","7":"4","8":"18.093421","9":"12.379709","10":"r","11":"suv"},{"1":"mercury","2":"mountaineer 4wd","3":"5.0","4":"1999","5":"8","6":"auto(l4)","7":"4","8":"18.093421","9":"13.836145","10":"r","11":"suv"},{"1":"nissan","2":"altima","3":"2.4","4":"1999","5":"4","6":"manual(m5)","7":"f","8":"11.200689","9":"8.110844","10":"r","11":"compact"},{"1":"nissan","2":"altima","3":"2.4","4":"1999","5":"4","6":"auto(l4)","7":"f","8":"12.379709","9":"8.711647","10":"r","11":"compact"},{"1":"nissan","2":"altima","3":"2.5","4":"2008","5":"4","6":"auto(av)","7":"f","8":"10.226716","9":"7.587564","10":"r","11":"midsize"},{"1":"nissan","2":"altima","3":"2.5","4":"2008","5":"4","6":"manual(m6)","7":"f","8":"10.226716","9":"7.350452","10":"r","11":"midsize"},{"1":"nissan","2":"altima","3":"3.5","4":"2008","5":"6","6":"manual(m6)","7":"f","8":"12.379709","9":"8.711647","10":"p","11":"midsize"},{"1":"nissan","2":"altima","3":"3.5","4":"2008","5":"6","6":"auto(av)","7":"f","8":"12.379709","9":"9.046710","10":"p","11":"midsize"},{"1":"nissan","2":"maxima","3":"3.0","4":"1999","5":"6","6":"auto(l4)","7":"f","8":"13.067471","9":"9.046710","10":"r","11":"midsize"},{"1":"nissan","2":"maxima","3":"3.0","4":"1999","5":"6","6":"manual(m5)","7":"f","8":"12.379709","9":"9.408579","10":"r","11":"midsize"},{"1":"nissan","2":"maxima","3":"3.5","4":"2008","5":"6","6":"auto(av)","7":"f","8":"12.379709","9":"9.408579","10":"p","11":"midsize"},{"1":"nissan","2":"pathfinder 4wd","3":"3.3","4":"1999","5":"6","6":"auto(l4)","7":"4","8":"16.801034","9":"13.836145","10":"r","11":"suv"},{"1":"nissan","2":"pathfinder 4wd","3":"3.3","4":"1999","5":"6","6":"manual(m5)","7":"4","8":"15.680965","9":"13.836145","10":"r","11":"suv"},{"1":"nissan","2":"pathfinder 4wd","3":"4.0","4":"2008","5":"6","6":"auto(l5)","7":"4","8":"16.801034","9":"11.760724","10":"p","11":"suv"},{"1":"nissan","2":"pathfinder 4wd","3":"5.6","4":"2008","5":"8","6":"auto(s5)","7":"4","8":"19.601206","9":"13.067471","10":"p","11":"suv"},{"1":"pontiac","2":"grand prix","3":"3.1","4":"1999","5":"6","6":"auto(l4)","7":"f","8":"13.067471","9":"9.046710","10":"r","11":"midsize"},{"1":"pontiac","2":"grand prix","3":"3.8","4":"1999","5":"6","6":"auto(l4)","7":"f","8":"14.700905","9":"9.046710","10":"p","11":"midsize"},{"1":"pontiac","2":"grand prix","3":"3.8","4":"1999","5":"6","6":"auto(l4)","7":"f","8":"13.836145","9":"8.711647","10":"r","11":"midsize"},{"1":"pontiac","2":"grand prix","3":"3.8","4":"2008","5":"6","6":"auto(l4)","7":"f","8":"13.067471","9":"8.400517","10":"r","11":"midsize"},{"1":"pontiac","2":"grand prix","3":"5.3","4":"2008","5":"8","6":"auto(s4)","7":"f","8":"14.700905","9":"9.408579","10":"p","11":"midsize"},{"1":"subaru","2":"forester awd","3":"2.5","4":"1999","5":"4","6":"manual(m5)","7":"4","8":"13.067471","9":"9.408579","10":"r","11":"suv"},{"1":"subaru","2":"forester awd","3":"2.5","4":"1999","5":"4","6":"auto(l4)","7":"4","8":"13.067471","9":"9.800603","10":"r","11":"suv"},{"1":"subaru","2":"forester awd","3":"2.5","4":"2008","5":"4","6":"manual(m5)","7":"4","8":"11.760724","9":"8.711647","10":"r","11":"suv"},{"1":"subaru","2":"forester awd","3":"2.5","4":"2008","5":"4","6":"manual(m5)","7":"4","8":"12.379709","9":"9.408579","10":"p","11":"suv"},{"1":"subaru","2":"forester awd","3":"2.5","4":"2008","5":"4","6":"auto(l4)","7":"4","8":"11.760724","9":"9.046710","10":"r","11":"suv"},{"1":"subaru","2":"forester awd","3":"2.5","4":"2008","5":"4","6":"auto(l4)","7":"4","8":"13.067471","9":"10.226716","10":"p","11":"suv"},{"1":"subaru","2":"impreza awd","3":"2.2","4":"1999","5":"4","6":"auto(l4)","7":"4","8":"11.200689","9":"9.046710","10":"r","11":"subcompact"},{"1":"subaru","2":"impreza awd","3":"2.2","4":"1999","5":"4","6":"manual(m5)","7":"4","8":"12.379709","9":"9.046710","10":"r","11":"subcompact"},{"1":"subaru","2":"impreza awd","3":"2.5","4":"1999","5":"4","6":"manual(m5)","7":"4","8":"12.379709","9":"9.046710","10":"r","11":"subcompact"},{"1":"subaru","2":"impreza awd","3":"2.5","4":"1999","5":"4","6":"auto(l4)","7":"4","8":"12.379709","9":"9.046710","10":"r","11":"subcompact"},{"1":"subaru","2":"impreza awd","3":"2.5","4":"2008","5":"4","6":"auto(s4)","7":"4","8":"11.760724","9":"9.408579","10":"p","11":"compact"},{"1":"subaru","2":"impreza awd","3":"2.5","4":"2008","5":"4","6":"auto(s4)","7":"4","8":"11.760724","9":"8.711647","10":"r","11":"compact"},{"1":"subaru","2":"impreza awd","3":"2.5","4":"2008","5":"4","6":"manual(m5)","7":"4","8":"12.379709","9":"9.408579","10":"p","11":"compact"},{"1":"subaru","2":"impreza awd","3":"2.5","4":"2008","5":"4","6":"manual(m5)","7":"4","8":"11.760724","9":"8.711647","10":"r","11":"compact"},{"1":"toyota","2":"4runner 4wd","3":"2.7","4":"1999","5":"4","6":"manual(m5)","7":"4","8":"15.680965","9":"11.760724","10":"r","11":"suv"},{"1":"toyota","2":"4runner 4wd","3":"2.7","4":"1999","5":"4","6":"auto(l4)","7":"4","8":"14.700905","9":"11.760724","10":"r","11":"suv"},{"1":"toyota","2":"4runner 4wd","3":"3.4","4":"1999","5":"6","6":"auto(l4)","7":"4","8":"15.680965","9":"12.379709","10":"r","11":"suv"},{"1":"toyota","2":"4runner 4wd","3":"3.4","4":"1999","5":"6","6":"manual(m5)","7":"4","8":"15.680965","9":"13.836145","10":"r","11":"suv"},{"1":"toyota","2":"4runner 4wd","3":"4.0","4":"2008","5":"6","6":"auto(l5)","7":"4","8":"14.700905","9":"11.760724","10":"r","11":"suv"},{"1":"toyota","2":"4runner 4wd","3":"4.7","4":"2008","5":"8","6":"auto(l5)","7":"4","8":"16.801034","9":"13.836145","10":"r","11":"suv"},{"1":"toyota","2":"camry","3":"2.2","4":"1999","5":"4","6":"manual(m5)","7":"f","8":"11.200689","9":"8.110844","10":"r","11":"midsize"},{"1":"toyota","2":"camry","3":"2.2","4":"1999","5":"4","6":"auto(l4)","7":"f","8":"11.200689","9":"8.711647","10":"r","11":"midsize"},{"1":"toyota","2":"camry","3":"2.4","4":"2008","5":"4","6":"manual(m5)","7":"f","8":"11.200689","9":"7.587564","10":"r","11":"midsize"},{"1":"toyota","2":"camry","3":"2.4","4":"2008","5":"4","6":"auto(l5)","7":"f","8":"11.200689","9":"7.587564","10":"r","11":"midsize"},{"1":"toyota","2":"camry","3":"3.0","4":"1999","5":"6","6":"auto(l4)","7":"f","8":"13.067471","9":"9.046710","10":"r","11":"midsize"},{"1":"toyota","2":"camry","3":"3.0","4":"1999","5":"6","6":"manual(m5)","7":"f","8":"13.067471","9":"9.046710","10":"r","11":"midsize"},{"1":"toyota","2":"camry","3":"3.5","4":"2008","5":"6","6":"auto(s6)","7":"f","8":"12.379709","9":"8.400517","10":"r","11":"midsize"},{"1":"toyota","2":"camry solara","3":"2.2","4":"1999","5":"4","6":"auto(l4)","7":"f","8":"11.200689","9":"8.711647","10":"r","11":"compact"},{"1":"toyota","2":"camry solara","3":"2.2","4":"1999","5":"4","6":"manual(m5)","7":"f","8":"11.200689","9":"8.110844","10":"r","11":"compact"},{"1":"toyota","2":"camry solara","3":"2.4","4":"2008","5":"4","6":"manual(m5)","7":"f","8":"11.200689","9":"7.587564","10":"r","11":"compact"},{"1":"toyota","2":"camry solara","3":"2.4","4":"2008","5":"4","6":"auto(s5)","7":"f","8":"10.691567","9":"7.587564","10":"r","11":"compact"},{"1":"toyota","2":"camry solara","3":"3.0","4":"1999","5":"6","6":"auto(l4)","7":"f","8":"13.067471","9":"9.046710","10":"r","11":"compact"},{"1":"toyota","2":"camry solara","3":"3.0","4":"1999","5":"6","6":"manual(m5)","7":"f","8":"13.067471","9":"9.046710","10":"r","11":"compact"},{"1":"toyota","2":"camry solara","3":"3.3","4":"2008","5":"6","6":"auto(s5)","7":"f","8":"13.067471","9":"8.711647","10":"r","11":"compact"},{"1":"toyota","2":"corolla","3":"1.8","4":"1999","5":"4","6":"auto(l3)","7":"f","8":"9.800603","9":"7.840482","10":"r","11":"compact"},{"1":"toyota","2":"corolla","3":"1.8","4":"1999","5":"4","6":"auto(l4)","7":"f","8":"9.800603","9":"7.127711","10":"r","11":"compact"},{"1":"toyota","2":"corolla","3":"1.8","4":"1999","5":"4","6":"manual(m5)","7":"f","8":"9.046710","9":"6.720413","10":"r","11":"compact"},{"1":"toyota","2":"corolla","3":"1.8","4":"2008","5":"4","6":"manual(m5)","7":"f","8":"8.400517","9":"6.357148","10":"r","11":"compact"},{"1":"toyota","2":"corolla","3":"1.8","4":"2008","5":"4","6":"auto(l4)","7":"f","8":"9.046710","9":"6.720413","10":"r","11":"compact"},{"1":"toyota","2":"land cruiser wagon 4wd","3":"4.7","4":"1999","5":"8","6":"auto(l4)","7":"4","8":"21.383134","9":"15.680965","10":"r","11":"suv"},{"1":"toyota","2":"land cruiser wagon 4wd","3":"5.7","4":"2008","5":"8","6":"auto(s6)","7":"4","8":"18.093421","9":"13.067471","10":"r","11":"suv"},{"1":"toyota","2":"toyota tacoma 4wd","3":"2.7","4":"1999","5":"4","6":"manual(m5)","7":"4","8":"15.680965","9":"11.760724","10":"r","11":"pickup"},{"1":"toyota","2":"toyota tacoma 4wd","3":"2.7","4":"1999","5":"4","6":"auto(l4)","7":"4","8":"14.700905","9":"11.760724","10":"r","11":"pickup"},{"1":"toyota","2":"toyota tacoma 4wd","3":"2.7","4":"2008","5":"4","6":"manual(m5)","7":"4","8":"13.836145","9":"10.691567","10":"r","11":"pickup"},{"1":"toyota","2":"toyota tacoma 4wd","3":"3.4","4":"1999","5":"6","6":"manual(m5)","7":"4","8":"15.680965","9":"13.836145","10":"r","11":"pickup"},{"1":"toyota","2":"toyota tacoma 4wd","3":"3.4","4":"1999","5":"6","6":"auto(l4)","7":"4","8":"15.680965","9":"12.379709","10":"r","11":"pickup"},{"1":"toyota","2":"toyota tacoma 4wd","3":"4.0","4":"2008","5":"6","6":"manual(m6)","7":"4","8":"15.680965","9":"13.067471","10":"r","11":"pickup"},{"1":"toyota","2":"toyota tacoma 4wd","3":"4.0","4":"2008","5":"6","6":"auto(l5)","7":"4","8":"14.700905","9":"11.760724","10":"r","11":"pickup"},{"1":"volkswagen","2":"gti","3":"2.0","4":"1999","5":"4","6":"manual(m5)","7":"f","8":"11.200689","9":"8.110844","10":"r","11":"compact"},{"1":"volkswagen","2":"gti","3":"2.0","4":"1999","5":"4","6":"auto(l4)","7":"f","8":"12.379709","9":"9.046710","10":"r","11":"compact"},{"1":"volkswagen","2":"gti","3":"2.0","4":"2008","5":"4","6":"manual(m6)","7":"f","8":"11.200689","9":"8.110844","10":"p","11":"compact"},{"1":"volkswagen","2":"gti","3":"2.0","4":"2008","5":"4","6":"auto(s6)","7":"f","8":"10.691567","9":"8.110844","10":"p","11":"compact"},{"1":"volkswagen","2":"gti","3":"2.8","4":"1999","5":"6","6":"manual(m5)","7":"f","8":"13.836145","9":"9.800603","10":"r","11":"compact"},{"1":"volkswagen","2":"jetta","3":"1.9","4":"1999","5":"4","6":"manual(m5)","7":"f","8":"7.127711","9":"5.345783","10":"d","11":"compact"},{"1":"volkswagen","2":"jetta","3":"2.0","4":"1999","5":"4","6":"manual(m5)","7":"f","8":"11.200689","9":"8.110844","10":"r","11":"compact"},{"1":"volkswagen","2":"jetta","3":"2.0","4":"1999","5":"4","6":"auto(l4)","7":"f","8":"12.379709","9":"9.046710","10":"r","11":"compact"},{"1":"volkswagen","2":"jetta","3":"2.0","4":"2008","5":"4","6":"auto(s6)","7":"f","8":"10.691567","9":"8.110844","10":"p","11":"compact"},{"1":"volkswagen","2":"jetta","3":"2.0","4":"2008","5":"4","6":"manual(m6)","7":"f","8":"11.200689","9":"8.110844","10":"p","11":"compact"},{"1":"volkswagen","2":"jetta","3":"2.5","4":"2008","5":"5","6":"auto(s6)","7":"f","8":"11.200689","9":"8.110844","10":"r","11":"compact"},{"1":"volkswagen","2":"jetta","3":"2.5","4":"2008","5":"5","6":"manual(m5)","7":"f","8":"11.200689","9":"8.110844","10":"r","11":"compact"},{"1":"volkswagen","2":"jetta","3":"2.8","4":"1999","5":"6","6":"auto(l4)","7":"f","8":"14.700905","9":"10.226716","10":"r","11":"compact"},{"1":"volkswagen","2":"jetta","3":"2.8","4":"1999","5":"6","6":"manual(m5)","7":"f","8":"13.836145","9":"9.800603","10":"r","11":"compact"},{"1":"volkswagen","2":"new beetle","3":"1.9","4":"1999","5":"4","6":"manual(m5)","7":"f","8":"6.720413","9":"5.345783","10":"d","11":"subcompact"},{"1":"volkswagen","2":"new beetle","3":"1.9","4":"1999","5":"4","6":"auto(l4)","7":"f","8":"8.110844","9":"5.736938","10":"d","11":"subcompact"},{"1":"volkswagen","2":"new beetle","3":"2.0","4":"1999","5":"4","6":"manual(m5)","7":"f","8":"11.200689","9":"8.110844","10":"r","11":"subcompact"},{"1":"volkswagen","2":"new beetle","3":"2.0","4":"1999","5":"4","6":"auto(l4)","7":"f","8":"12.379709","9":"9.046710","10":"r","11":"subcompact"},{"1":"volkswagen","2":"new beetle","3":"2.5","4":"2008","5":"5","6":"manual(m5)","7":"f","8":"11.760724","9":"8.400517","10":"r","11":"subcompact"},{"1":"volkswagen","2":"new beetle","3":"2.5","4":"2008","5":"5","6":"auto(s6)","7":"f","8":"11.760724","9":"8.110844","10":"r","11":"subcompact"},{"1":"volkswagen","2":"passat","3":"1.8","4":"1999","5":"4","6":"manual(m5)","7":"f","8":"11.200689","9":"8.110844","10":"p","11":"midsize"},{"1":"volkswagen","2":"passat","3":"1.8","4":"1999","5":"4","6":"auto(l5)","7":"f","8":"13.067471","9":"8.110844","10":"p","11":"midsize"},{"1":"volkswagen","2":"passat","3":"2.0","4":"2008","5":"4","6":"auto(s6)","7":"f","8":"12.379709","9":"8.400517","10":"p","11":"midsize"},{"1":"volkswagen","2":"passat","3":"2.0","4":"2008","5":"4","6":"manual(m6)","7":"f","8":"11.200689","9":"8.110844","10":"p","11":"midsize"},{"1":"volkswagen","2":"passat","3":"2.8","4":"1999","5":"6","6":"auto(l5)","7":"f","8":"14.700905","9":"9.046710","10":"p","11":"midsize"},{"1":"volkswagen","2":"passat","3":"2.8","4":"1999","5":"6","6":"manual(m5)","7":"f","8":"13.067471","9":"9.046710","10":"p","11":"midsize"},{"1":"volkswagen","2":"passat","3":"3.6","4":"2008","5":"6","6":"auto(s6)","7":"f","8":"13.836145","9":"9.046710","10":"p","11":"midsize"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
<p>GG Solutions:</p>
<ul>
<li><p>According to <a
href="https://www.asknumbers.com/mpg-to-L100km.aspx">asknumbers</a>, you
divide 235.214583 by the mpg values in <code>cty</code> and
<code>hwy</code> to convert them into the European standard of
l/100km.</p></li>
<li><p>Function to convert into European standard (Rademaker,
2016):</p></li>
</ul>
<pre class="r"><code># nolint start: object_name_linter.
mpgTol100km &lt;- function(milespergallon) {
  GalloLiter &lt;- 3.785411784
  MileKilometer &lt;- 1.609344

  l100km &lt;- (100 * GalloLiter) / (milespergallon * MileKilometer)
  l100km
}
# nolint end</code></pre>
<hr />
<ol start="4" style="list-style-type: decimal">
<li>Which manufacturer has the most models in this dataset? Which model
has the most variations? Does your answer change if you remove the
redundant specification of drive train (e.g. “pathfinder 4wd”, “a4
quattro”) from the model name?</li>
</ol>
<p>Answer: we can generate a dataframe with manufacturers, models, and
variations using:</p>
<pre class="r"><code>mpg_summary &lt;- ggplot2::mpg |&gt;
  count(manufacturer, model) |&gt;
  rename(variations = n)

mpg_summary</code></pre>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":["manufacturer"],"name":[1],"type":["chr"],"align":["left"]},{"label":["model"],"name":[2],"type":["chr"],"align":["left"]},{"label":["variations"],"name":[3],"type":["int"],"align":["right"]}],"data":[{"1":"audi","2":"a4","3":"7"},{"1":"audi","2":"a4 quattro","3":"8"},{"1":"audi","2":"a6 quattro","3":"3"},{"1":"chevrolet","2":"c1500 suburban 2wd","3":"5"},{"1":"chevrolet","2":"corvette","3":"5"},{"1":"chevrolet","2":"k1500 tahoe 4wd","3":"4"},{"1":"chevrolet","2":"malibu","3":"5"},{"1":"dodge","2":"caravan 2wd","3":"11"},{"1":"dodge","2":"dakota pickup 4wd","3":"9"},{"1":"dodge","2":"durango 4wd","3":"7"},{"1":"dodge","2":"ram 1500 pickup 4wd","3":"10"},{"1":"ford","2":"expedition 2wd","3":"3"},{"1":"ford","2":"explorer 4wd","3":"6"},{"1":"ford","2":"f150 pickup 4wd","3":"7"},{"1":"ford","2":"mustang","3":"9"},{"1":"honda","2":"civic","3":"9"},{"1":"hyundai","2":"sonata","3":"7"},{"1":"hyundai","2":"tiburon","3":"7"},{"1":"jeep","2":"grand cherokee 4wd","3":"8"},{"1":"land rover","2":"range rover","3":"4"},{"1":"lincoln","2":"navigator 2wd","3":"3"},{"1":"mercury","2":"mountaineer 4wd","3":"4"},{"1":"nissan","2":"altima","3":"6"},{"1":"nissan","2":"maxima","3":"3"},{"1":"nissan","2":"pathfinder 4wd","3":"4"},{"1":"pontiac","2":"grand prix","3":"5"},{"1":"subaru","2":"forester awd","3":"6"},{"1":"subaru","2":"impreza awd","3":"8"},{"1":"toyota","2":"4runner 4wd","3":"6"},{"1":"toyota","2":"camry","3":"7"},{"1":"toyota","2":"camry solara","3":"7"},{"1":"toyota","2":"corolla","3":"5"},{"1":"toyota","2":"land cruiser wagon 4wd","3":"2"},{"1":"toyota","2":"toyota tacoma 4wd","3":"7"},{"1":"volkswagen","2":"gti","3":"5"},{"1":"volkswagen","2":"jetta","3":"9"},{"1":"volkswagen","2":"new beetle","3":"6"},{"1":"volkswagen","2":"passat","3":"7"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
<p>The model with the most variations is the Dodge Caravan 2wd.</p>
<pre class="r"><code>mpg_summary |&gt;
  arrange(variations) |&gt;
  tail(1)</code></pre>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":["manufacturer"],"name":[1],"type":["chr"],"align":["left"]},{"label":["model"],"name":[2],"type":["chr"],"align":["left"]},{"label":["variations"],"name":[3],"type":["int"],"align":["right"]}],"data":[{"1":"dodge","2":"caravan 2wd","3":"11"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
<p>The manufacturer with the most models is Toyota.</p>
<pre class="r"><code>mpg_summary |&gt;
  count(manufacturer) |&gt;
  arrange(n) |&gt;
  tail(1)</code></pre>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":["manufacturer"],"name":[1],"type":["chr"],"align":["left"]},{"label":["n"],"name":[2],"type":["int"],"align":["right"]}],"data":[{"1":"toyota","2":"6"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
<p>If we first remove the redundant drive train from the summary, we
get:</p>
<pre class="r"><code>mpg_summary2 &lt;- ggplot2::mpg |&gt;
  mutate(model = gsub(&quot; (quattro)|(2wd)|(4wd)|(awd)$&quot;, &quot;&quot;, model)) |&gt;
  count(manufacturer, model) |&gt;
  rename(variations = n)

mpg_summary2</code></pre>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":["manufacturer"],"name":[1],"type":["chr"],"align":["left"]},{"label":["model"],"name":[2],"type":["chr"],"align":["left"]},{"label":["variations"],"name":[3],"type":["int"],"align":["right"]}],"data":[{"1":"audi","2":"a4","3":"15"},{"1":"audi","2":"a6","3":"3"},{"1":"chevrolet","2":"c1500 suburban","3":"5"},{"1":"chevrolet","2":"corvette","3":"5"},{"1":"chevrolet","2":"k1500 tahoe","3":"4"},{"1":"chevrolet","2":"malibu","3":"5"},{"1":"dodge","2":"caravan","3":"11"},{"1":"dodge","2":"dakota pickup","3":"9"},{"1":"dodge","2":"durango","3":"7"},{"1":"dodge","2":"ram 1500 pickup","3":"10"},{"1":"ford","2":"expedition","3":"3"},{"1":"ford","2":"explorer","3":"6"},{"1":"ford","2":"f150 pickup","3":"7"},{"1":"ford","2":"mustang","3":"9"},{"1":"honda","2":"civic","3":"9"},{"1":"hyundai","2":"sonata","3":"7"},{"1":"hyundai","2":"tiburon","3":"7"},{"1":"jeep","2":"grand cherokee","3":"8"},{"1":"land rover","2":"range rover","3":"4"},{"1":"lincoln","2":"navigator","3":"3"},{"1":"mercury","2":"mountaineer","3":"4"},{"1":"nissan","2":"altima","3":"6"},{"1":"nissan","2":"maxima","3":"3"},{"1":"nissan","2":"pathfinder","3":"4"},{"1":"pontiac","2":"grand prix","3":"5"},{"1":"subaru","2":"forester","3":"6"},{"1":"subaru","2":"impreza","3":"8"},{"1":"toyota","2":"4runner","3":"6"},{"1":"toyota","2":"camry","3":"7"},{"1":"toyota","2":"camry solara","3":"7"},{"1":"toyota","2":"corolla","3":"5"},{"1":"toyota","2":"land cruiser wagon","3":"2"},{"1":"toyota","2":"toyota tacoma","3":"7"},{"1":"volkswagen","2":"gti","3":"5"},{"1":"volkswagen","2":"jetta","3":"9"},{"1":"volkswagen","2":"new beetle","3":"6"},{"1":"volkswagen","2":"passat","3":"7"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
<p>The model with the most variations has changed to the Audi A4.</p>
<pre class="r"><code>mpg_summary2 |&gt;
  arrange(variations) |&gt;
  tail(1)</code></pre>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":["manufacturer"],"name":[1],"type":["chr"],"align":["left"]},{"label":["model"],"name":[2],"type":["chr"],"align":["left"]},{"label":["variations"],"name":[3],"type":["int"],"align":["right"]}],"data":[{"1":"audi","2":"a4","3":"15"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
<p>The manufacturer with the most models is still Toyota.</p>
<pre class="r"><code>mpg_summary2 |&gt;
  count(manufacturer) |&gt;
  arrange(n) |&gt;
  tail(1)</code></pre>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":["manufacturer"],"name":[1],"type":["chr"],"align":["left"]},{"label":["n"],"name":[2],"type":["int"],"align":["right"]}],"data":[{"1":"toyota","2":"6"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
<p>GG Solutions:</p>
<p>Not included here because I believe the answer to question 4 in <a
href="https://ggplot2-book-solutions-3ed.netlify.app/first-steps.html#exercises-1">2.2
Exercises</a> is incorrect, as it counts variants by manufacturer, not
models by manufacturer.</p>
<hr />
</div>
<div id="exercises-1" class="section level2">
<h2>2.3.1 Exercises</h2>
<ol style="list-style-type: decimal">
<li>How would you describe the relationship between <code>cty</code> and
<code>hwy</code>? Do you have any concerns about drawing conclusions
from that plot?</li>
</ol>
<p>Answer: we can explore the relationship using a scatterplot:</p>
<pre class="r"><code>ggplot(ggplot2::mpg, aes(cty, hwy)) +
  geom_point()</code></pre>
<p><img src="ggplot2-1_files/figure-html/unnamed-chunk-9-1.png" width="768" style="display: block; margin: auto;" /></p>
<p>There is a strong correlation between <code>cty</code> and
<code>hwy</code>, which is expected since these are both measures of
fuel efficiency of the same car.</p>
<p>GG Solutions:</p>
<ul>
<li>The plot shows a strongly linear relationship, which tells me that
<code>cty</code> and <code>hwy</code> are highly correlated variables.
The only concern I have is that the points seem to be overlapping.</li>
<li>There is not much insight to be gained except that cars which are
fuel efficient on a highway are also fuel efficient in cities. This
relationship is probably a function of speed (Rademaker, 2016)</li>
</ul>
<hr />
<ol start="2" style="list-style-type: decimal">
<li>What does
<code>ggplot(mpg, aes(model, manufacturer)) + geom_point()</code> show?
Is it useful? How could you modify the data to make it more
informative?</li>
</ol>
<p>Answer: this plot shows each model as a point for each manufacturer,
which is not particularly useful, although it does allow for a quick
count of models by manufacturer. A bar chart showing count of models by
manufacturer would be more useful.</p>
<pre class="r"><code>ggplot(ggplot2::mpg, aes(model, manufacturer)) +
  geom_point()</code></pre>
<p><img src="ggplot2-1_files/figure-html/unnamed-chunk-10-1.png" width="768" style="display: block; margin: auto;" /></p>
<p>GG Solutions:</p>
<ul>
<li>The plot shows the manufacturer of each model. Its not very readable
since there are too many models and this clutters up the x-axis with too
many ticks! I would just plot 20 or so models so that the graph is more
readable. See below:</li>
</ul>
<pre class="r"><code>ggplot2::mpg %&gt;%
  head(25) %&gt;%
  ggplot(aes(model, manufacturer)) +
  geom_point()</code></pre>
<p><img src="ggplot2-1_files/figure-html/unnamed-chunk-11-1.png" width="768" style="display: block; margin: auto;" /></p>
<ul>
<li>A possible alternative would be to look total number of observations
for each manufacturer-model combination using geom_bar(). (Rademaker,
2016)</li>
</ul>
<pre class="r"><code>df &lt;- ggplot2::mpg %&gt;%
  transmute(&quot;man_mod&quot; = paste(manufacturer, model, sep = &quot; &quot;))
ggplot(df, aes(man_mod)) +
  geom_bar() +
  coord_flip()</code></pre>
<p><img src="ggplot2-1_files/figure-html/unnamed-chunk-12-1.png" width="768" style="display: block; margin: auto;" /></p>
<p>Note: I prefer my solution for this exercise.</p>
<hr />
<ol start="3" style="list-style-type: decimal">
<li><p>Describe the data, aesthetic mappings and layers used for each of
the following plots. You’ll need to guess a little because you haven’t
seen all the datasets and functions yet, but use your common sense! See
if you can predict what the plot will look like before running the
code.</p>
<ol style="list-style-type: decimal">
<li><code>ggplot(mpg, aes(cty, hwy)) + geom_point()</code></li>
<li><code>ggplot(diamonds, aes(carat, price)) + geom_point()</code></li>
<li><code>ggplot(economics, aes(date, unemploy)) + geom_line()</code></li>
<li><code>ggplot(mpg, aes(cty)) + geom_histogram()</code></li>
</ol></li>
</ol>
<p>Answer:</p>
<ol style="list-style-type: decimal">
<li><code>ggplot(mpg, aes(cty, hwy)) + geom_point()</code> - scatterplot
of city mpg against highway mpg</li>
<li><code>ggplot(diamonds, aes(carat, price)) + geom_point()</code> -
scatterplot of diamond weight in carats against price</li>
<li><code>ggplot(economics, aes(date, unemploy)) + geom_line()</code> -
a line plot showing the unemployment rate over time</li>
<li><code>ggplot(mpg, aes(cty)) + geom_histogram()</code> - a histogram
of city mpg</li>
</ol>
<pre class="r"><code>ggplot(ggplot2::mpg, aes(cty, hwy)) +
  geom_point()</code></pre>
<p><img src="ggplot2-1_files/figure-html/unnamed-chunk-13-1.png" width="768" style="display: block; margin: auto;" /></p>
<pre class="r"><code>ggplot(diamonds, aes(carat, price)) +
  geom_point()</code></pre>
<p><img src="ggplot2-1_files/figure-html/unnamed-chunk-13-2.png" width="768" style="display: block; margin: auto;" /></p>
<pre class="r"><code>ggplot(economics, aes(date, unemploy)) +
  geom_line()</code></pre>
<p><img src="ggplot2-1_files/figure-html/unnamed-chunk-13-3.png" width="768" style="display: block; margin: auto;" /></p>
<pre class="r"><code>ggplot(ggplot2::mpg, aes(cty)) +
  geom_histogram()</code></pre>
<pre><code>#&gt; `stat_bin()` using `bins = 30`. Pick better value with `binwidth`.</code></pre>
<p><img src="ggplot2-1_files/figure-html/unnamed-chunk-13-4.png" width="768" style="display: block; margin: auto;" /></p>
<p>In general, my guesses are correct (given my existing experience with
ggplot), except for the economics plot, which appears to show the number
of unemployed people instead of an employment rate.</p>
<p>GG Solutions: (Rademaker, 2016)</p>
<ol style="list-style-type: decimal">
<li><code>ggplot(mpg, aes(cty, hwy)) + geom_point()</code></li>
</ol>
<ul>
<li><em>Data</em>: <code>mpg</code></li>
<li><em>Aesthetic</em>: highway miles per gallon is mapped to y position
and city miles per gallon is mapped to x position.</li>
<li><em>Layer</em>: points</li>
</ul>
<ol start="2" style="list-style-type: decimal">
<li><code>ggplot(diamonds, aes(carat, price)) + geom_point()</code></li>
</ol>
<ul>
<li><em>Data</em>: <code>diamonds</code></li>
<li><em>Aesthetic</em>: price in US dollars is mapped to y position,
weight of the diamond is mapped to x position.</li>
<li><em>Layer</em>: points</li>
</ul>
<ol start="3" style="list-style-type: decimal">
<li><code>ggplot(economics, aes(date, unemploy)) + geom_line()</code></li>
</ol>
<ul>
<li><em>Data</em>: <code>economics</code></li>
<li><em>Aesthetic</em>: median duration of unemployment, in weeks, is
mapped to y position and month of data collection is mapped to x
position.</li>
<li><em>Layer</em>: line</li>
</ul>
<hr />
</div>
<div id="exercises-2" class="section level2">
<h2>2.4.1 Exercises</h2>
<ol style="list-style-type: decimal">
<li>Experiment with the colour, shape and size aesthetics. What happens
when you map them to continuous values? What about categorical values?
What happens when you use more than one aesthetic in a plot?</li>
</ol>
<p>Answer: observations based on the plots below:</p>
<ul>
<li>Using a continuous variable with shape generates an error</li>
<li>Using a categorical variable with shape for more than 6 values
generates a warning</li>
<li>Using a continuous variable with size works well</li>
<li>Using a categorical variable with size generates a warning</li>
<li>Using a continuous variable with color creates a gradient</li>
<li>Using a categorical variable with color creates a discrete
mapping</li>
<li>Multiple aesthetics can overload the plot</li>
</ul>
<pre class="r"><code># continuous
ggplot(ggplot2::mpg, aes(displ, hwy, color = cyl)) +
  geom_point()</code></pre>
<p><img src="ggplot2-1_files/figure-html/unnamed-chunk-14-1.png" width="768" style="display: block; margin: auto;" /></p>
<pre class="r"><code># categorical
ggplot(ggplot2::mpg, aes(displ, hwy, color = drv)) +
  geom_point()</code></pre>
<p><img src="ggplot2-1_files/figure-html/unnamed-chunk-14-2.png" width="768" style="display: block; margin: auto;" /></p>
<pre class="r"><code># multiple
ggplot2::mpg |&gt;
  mutate(year = as.factor(year)) |&gt;
  ggplot(aes(displ, hwy, color = drv, size = cyl, shape = year)) +
  geom_point()</code></pre>
<p><img src="ggplot2-1_files/figure-html/unnamed-chunk-14-3.png" width="768" style="display: block; margin: auto;" /></p>
<p>GG Solutions offers a similar and less complete answer.</p>
<hr />
<ol start="2" style="list-style-type: decimal">
<li>What happens if you map a continuous variable to shape? Why? What
happens if you map <code>trans</code> to shape? Why?</li>
</ol>
<p>Answer: As noted above, using a continuous variable with shape
generates an error, because plots must have discrete shapes. Using a
categorical variable with shape for more than 6 values (like
<code>trans</code>) generates a warning, since (as the error notes) many
different shapes can be hard to distinguish on a plot.</p>
<p>GG Solutions presents a similar answer.</p>
<hr />
<ol start="3" style="list-style-type: decimal">
<li>How is drive train related to fuel economy? How is drive train
related to engine size and class?</li>
</ol>
<p>Answer: The plots below show that:</p>
<ul>
<li>Front wheel drive is correlated with higher fuel economy</li>
<li>Front wheel drive is correlated with smaller displacement, rear
wheel drive is correlated with larger displacement, and four wheel drive
is not correlated with displacement</li>
<li>Some classes only have a single drive train:
<ul>
<li>Two seaters only have rear wheel drive</li>
<li>Minivans only have front wheel drive</li>
<li>Pickups only have four wheel drive</li>
</ul></li>
</ul>
<pre class="r"><code>ggplot(ggplot2::mpg, aes(hwy, drv)) +
  geom_point()</code></pre>
<p><img src="ggplot2-1_files/figure-html/unnamed-chunk-15-1.png" width="768" style="display: block; margin: auto;" /></p>
<pre class="r"><code>ggplot(ggplot2::mpg, aes(displ, drv)) +
  geom_point()</code></pre>
<p><img src="ggplot2-1_files/figure-html/unnamed-chunk-15-2.png" width="768" style="display: block; margin: auto;" /></p>
<pre class="r"><code>ggplot(ggplot2::mpg, aes(class, drv)) +
  geom_point()</code></pre>
<p><img src="ggplot2-1_files/figure-html/unnamed-chunk-15-3.png" width="768" style="display: block; margin: auto;" /></p>
<p>GG Solutions presents a similar answer using bar charts, and compares
engine size and class together in a single plot.</p>
<p>Note: GG Solutions does not explore the relationship between drive
train and class.</p>
<hr />
</div>
<div id="exercises-3" class="section level2">
<h2>2.5.1 Exercises</h2>
<ol style="list-style-type: decimal">
<li>What happens if you try to facet by a continuous variable like
<code>hwy</code>? What about <code>cyl</code>? What’s the key
difference?</li>
</ol>
<p>Answer: faceting on a continuous variable creates a facet for each
unique value in the data frame, which holds true for both
<code>hwy</code> and <code>cyl</code>. The key difference is that
<code>cyl</code> has fewer unique values, making the plot more readable
and useful.</p>
<pre class="r"><code>ggplot(ggplot2::mpg, aes(displ, cty)) +
  geom_point() +
  facet_wrap(vars(hwy))</code></pre>
<p><img src="ggplot2-1_files/figure-html/unnamed-chunk-16-1.png" width="768" style="display: block; margin: auto;" /></p>
<pre class="r"><code>ggplot(ggplot2::mpg, aes(displ, cty)) +
  geom_point() +
  facet_wrap(vars(cyl))</code></pre>
<p><img src="ggplot2-1_files/figure-html/unnamed-chunk-16-2.png" width="768" style="display: block; margin: auto;" /></p>
<p>GG Solutions:</p>
<ul>
<li>The key difference is <code>hwy</code> is a continuous variable that
has 27 unique values, so you get 27 different subsets. However,
<code>cly</code> is a categorical variable and has 4 unique values, so
<code>cyl</code> only has 4 different subsets. It is less cluttered when
you try to facet.</li>
<li>(Rademaker, 2016) Faceting by a continuous variable works but
becomes hard to read and interpret when the variable that we facet by
has too many levels.</li>
</ul>
<hr />
<ol start="2" style="list-style-type: decimal">
<li>Use faceting to explore the 3-way relationship between fuel economy,
engine size, and number of cylinders. How does faceting by number of
cylinders change your assessment of the relationship between engine size
and fuel economy?</li>
</ol>
<p>Answer: engines with fewer cylinders have a stronger relationship
between displacement and fuel economy (where larger engines have poorer
fuel economy), strongest with 4 cylinders, unclear with 5 (due to
limited data), weaker with 6, and no apparent relationship with 8.</p>
<pre class="r"><code>ggplot(ggplot2::mpg, aes(displ, hwy)) +
  geom_point() +
  geom_smooth(method = &quot;lm&quot;, formula = y ~ x) +
  facet_wrap(vars(cyl))</code></pre>
<p><img src="ggplot2-1_files/figure-html/unnamed-chunk-17-1.png" width="768" style="display: block; margin: auto;" /></p>
<p>GG Solutions:</p>
<ul>
<li>When I initially plot engine size and fuel economy, I see an overall
decreasing linear relationship. Upon faceting, I see that the decreasing
relationship is mostly seen in the 4 cylinder subset. In the other
cylinder subsets, we see a flat relationship - as engine displacement
increases, fuel economy remains constant.</li>
</ul>
<hr />
<ol start="3" style="list-style-type: decimal">
<li>Read the documentation for <code>facet_wrap()</code>. What arguments
can you use to control how many rows and columns appear in the
output?</li>
</ol>
<p>Answer: use <code>nrow</code> and <code>ncol</code>.</p>
<p>GG Solutions:</p>
<ul>
<li>I can use the arguments <code>nrow, ncol</code> to control how many
rows and columns appear in the output.</li>
</ul>
<hr />
<ol start="4" style="list-style-type: decimal">
<li>What does the <code>scales</code> argument to
<code>facet_wrap()</code> do? When might you use it?</li>
</ol>
<p>Answer: the <code>scales</code> argument determines whether scales
are fixed (the default) or free on one or both dimensions. Using
<code>scales = "free"</code> is helpful when comparing relationships
when scale is less important, as shown in this reworked example of
exercise 2, which focuses on the smoothed plot:</p>
<pre class="r"><code>ggplot(ggplot2::mpg, aes(displ, hwy)) +
  geom_point() +
  geom_smooth(method = &quot;lm&quot;, formula = y ~ x) +
  facet_wrap(vars(cyl), scales = &quot;free&quot;)</code></pre>
<p><img src="ggplot2-1_files/figure-html/unnamed-chunk-18-1.png" width="768" style="display: block; margin: auto;" /></p>
<p>GG Solutions:</p>
<ul>
<li>It allows users to decide whether scales should be fixed. I would
use it whenever different subsets of the data are on vastly different
scales.</li>
<li>(Rademaker, 2016) If we want to compare across facets,
<code>scales = "fixed"</code> is more appropriate. If our focus is on
individual patterns within each facet, setting
<code>scales = "free"</code> might be more appropriate.</li>
</ul>
<hr />
</div>
<div id="exercises-4" class="section level2">
<h2>2.6.6 Exercises</h2>
<ol style="list-style-type: decimal">
<li>What’s the problem with the plot created by
<code>ggplot(mpg, aes(cty, hwy)) + geom_point()</code>? Which of the
geoms described above is most effective at remedying the problem?</li>
</ol>
<p>Answer: as noted in GG Solutions, the problem is overplotting, which
<code>geom_jitter</code> fixes:</p>
<pre class="r"><code>ggplot(ggplot2::mpg, aes(cty, hwy)) +
  geom_point() +
  geom_jitter()</code></pre>
<p><img src="ggplot2-1_files/figure-html/unnamed-chunk-19-1.png" width="768" style="display: block; margin: auto;" /></p>
<p>GG Solutions:</p>
<ul>
<li>The problem is overplotting.</li>
</ul>
<p>Solution 1. Use <code>geom_jitter</code> to add random noise to the
data and avoid overplotting.</p>
<p>Solution 2. (Rademaker, 2016) Set opacity with <code>alpha</code></p>
<hr />
<ol start="2" style="list-style-type: decimal">
<li><p>One challenge with
<code>ggplot(mpg, aes(class, hwy)) + geom_boxplot()</code> is that the
ordering of <code>class</code> is alphabetical, which is not terribly
useful. How could you change the factor levels to be more
informative?</p>
<p>Rather than reordering the factor by hand, you can do it
automatically based on the data:
<code>ggplot(mpg, aes(reorder(class, hwy), hwy)) + geom_boxplot()</code>.
What does <code>reorder()</code> do? Read the documentation.</p></li>
</ol>
<p>Answer: as noted in the exercise, ordering of <code>class</code> by
<code>hwy</code> is more informative. <code>reorder()</code> reorders
levels based on the second, numeric value, by default using the
mean.</p>
<pre class="r"><code>ggplot(ggplot2::mpg, aes(class, hwy)) +
  geom_boxplot()</code></pre>
<p><img src="ggplot2-1_files/figure-html/unnamed-chunk-20-1.png" width="768" style="display: block; margin: auto;" /></p>
<pre class="r"><code>ggplot(ggplot2::mpg, aes(reorder(class, hwy), hwy)) +
  geom_boxplot()</code></pre>
<p><img src="ggplot2-1_files/figure-html/unnamed-chunk-20-2.png" width="768" style="display: block; margin: auto;" /></p>
<p>GG Solutions takes a similar approach but instead uses
<code>mutate(class = factor(class), class = fct_reorder(class, hwy))</code>.</p>
<hr />
<ol start="3" style="list-style-type: decimal">
<li>Explore the distribution of the carat variable in the
<code>diamonds</code> dataset. What <code>binwidth</code> reveals the
most interesting patterns?</li>
</ol>
<p>Answer: using trial and error, <code>binwidth = 0.01</code> reveals
that carat weight is skewed towards round numbers (1, 1.25, 1.5, 2,
etc.). Using the smaller <code>binwidth = 0.005</code> doesn’t improve
the pattern, and makes it harder to see.</p>
<pre class="r"><code>ggplot(diamonds, aes(carat)) +
  geom_histogram(binwidth = 0.1)</code></pre>
<p><img src="ggplot2-1_files/figure-html/unnamed-chunk-21-1.png" width="768" style="display: block; margin: auto;" /></p>
<pre class="r"><code>ggplot(diamonds, aes(carat)) +
  geom_histogram(binwidth = 0.01)</code></pre>
<p><img src="ggplot2-1_files/figure-html/unnamed-chunk-21-2.png" width="768" style="display: block; margin: auto;" /></p>
<pre class="r"><code>ggplot(diamonds, aes(carat)) +
  geom_histogram(binwidth = 0.005)</code></pre>
<p><img src="ggplot2-1_files/figure-html/unnamed-chunk-21-3.png" width="768" style="display: block; margin: auto;" /></p>
<p>GG Solutions:</p>
<ul>
<li>This is a subjective answer, but <code>binwidth</code> of 0.2 or 0.3
reveals that the distribution of carat is heavily skewed to the right.
This means that most diamonds carats are between 0 and 1.</li>
</ul>
<hr />
<ol start="4" style="list-style-type: decimal">
<li>Explore the distribution of the price variable in the
<code>diamonds</code> data. How does the distribution vary by cut?</li>
</ol>
<p>Answer: a boxplot of price by cut shows that better cuts aren’t
necessarily more expensive.</p>
<p>However, as noted in my <a href="r-training-log.html">R Training
Log</a>:</p>
<blockquote>
<p><a
href="https://r4ds.had.co.nz/exploratory-data-analysis.html#patterns-and-models">7.6
Patterns and models</a> covers models and residuals, here showing how to
reveal the expected relationship between cut and price:</p>
</blockquote>
<p>We can remove the relationship between carats and price, and redo the
boxplot:</p>
<pre class="r"><code>ggplot(diamonds, aes(cut, price)) +
  geom_boxplot()</code></pre>
<p><img src="ggplot2-1_files/figure-html/unnamed-chunk-22-1.png" width="768" style="display: block; margin: auto;" /></p>
<pre class="r"><code># remove carat weight as a confounding variable
mod &lt;- lm(log(price) ~ log(carat), data = diamonds)

diamonds2 &lt;- diamonds |&gt;
  add_residuals(mod) |&gt;
  mutate(resid = exp(resid))

ggplot(data = diamonds2) +
  geom_boxplot(mapping = aes(x = cut, y = resid))</code></pre>
<p><img src="ggplot2-1_files/figure-html/unnamed-chunk-22-2.png" width="768" style="display: block; margin: auto;" /></p>
<p>GG Solutions uses both a boxplot and a frequency polygon to compare
cuts, and concludes:</p>
<ul>
<li>(Rademaker, 2016) Fair quality diamonds are more expensive then
others. Possible reason is they are bigger.</li>
</ul>
<hr />
<ol start="5" style="list-style-type: decimal">
<li>You now know (at least) three ways to compare the distributions of
subgroups: <code>geom_violin()</code>, <code>geom_freqpoly()</code> and
the colour aesthetic, or <code>geom_histogram()</code> and faceting.
What are the strengths and weaknesses of each approach? What other
approaches could you try?</li>
</ol>
<p>Answer: Violin plots convey the most information but require an
understanding of probability density. Frequency polygons allow for
direct comparison on the same plot - in contrast, faceted histograms
provide a better visualization of each variable, but make comparison
more difficult. Other approaches include comparing boxplots, multiple
density plots, or side-by-side histograms - a bar plot showing multiple
variables for each bin.</p>
<p>GG Solutions:</p>
<ul>
<li>According to the book, <code>geom_violin()</code> shows a compact
representation of the “density” of the distribution, highlighting the
areas where more points are found. Its weakness is that violin plots
rely on the calculation of a density estimate, which is hard to
interpret.</li>
<li>According to the book, <code>geom_freqploy()</code> bins the data,
then counts the number of observations in each bin using lines. One
possible weakness is that you have to select the width of the bins
yourself by experimentation.</li>
<li>According to the book, <code>geom_histogram()</code> and faceting
makes it easier to see the distribution of each group, but makes
comparisons between groups a little harder.</li>
</ul>
<hr />
<ol start="6" style="list-style-type: decimal">
<li>Read the documentation for <code>geom_bar()</code>. What does the
<code>weight</code> aesthetic do?</li>
</ol>
<p>Answer: for <code>geom_bar()</code>, the <code>weight</code>
aesthetic changes the height of the bar from the number of cases in each
group to the sum of the weights.</p>
<p>GG Solutions:</p>
<ul>
<li>The <code>weight</code> aesthetic converts the number of cases to a
weight and makes the height of the bar proportional to the sum of the
weights. See below:</li>
</ul>
<pre class="r"><code>g &lt;- ggplot(ggplot2::mpg, aes(class))
# Number of cars in each class:
g + geom_bar()</code></pre>
<p><img src="ggplot2-1_files/figure-html/unnamed-chunk-23-1.png" width="768" style="display: block; margin: auto;" /></p>
<pre class="r"><code># Total engine displacement of each class
g + geom_bar(aes(weight = displ))</code></pre>
<p><img src="ggplot2-1_files/figure-html/unnamed-chunk-23-2.png" width="768" style="display: block; margin: auto;" /></p>
<hr />
<ol start="7" style="list-style-type: decimal">
<li>Using the techniques already discussed in this chapter, come up with
three ways to visualise a 2d categorical distribution. Try them out by
visualising the distribution of <code>model</code> and
<code>manufacturer</code>, <code>trans</code> and <code>class</code>,
and <code>cyl</code> and <code>trans</code>.</li>
</ol>
<p>Answer: three ways to visualize categorical distributions:</p>
<ul>
<li>Bar charts</li>
<li>A scatterplot using alpha</li>
<li>A scatterplot using size</li>
</ul>
<pre class="r"><code>ggplot2::mpg[c(&quot;manufacturer&quot;, &quot;model&quot;)] |&gt;
  unique() |&gt;
  ggplot(aes(manufacturer)) +
  geom_bar(color = &quot;black&quot;, fill = &quot;white&quot;, width = 0.8) +
  coord_flip() +
  scale_x_discrete(limits = rev) +
  labs(x = &quot;&quot;, y = &quot;models&quot;) +
  theme_quo()</code></pre>
<p><img src="ggplot2-1_files/figure-html/unnamed-chunk-24-1.png" width="768" style="display: block; margin: auto;" /></p>
<pre class="r"><code>ggplot2::mpg |&gt;
  ggplot(aes(trans, class)) +
  geom_point(alpha = 0.1) +
  scale_y_discrete(limits = rev) +
  labs(x = &quot;&quot;, y = &quot;&quot;) +
  theme_quo()</code></pre>
<p><img src="ggplot2-1_files/figure-html/unnamed-chunk-24-2.png" width="768" style="display: block; margin: auto;" /></p>
<pre class="r"><code>ggplot2::mpg |&gt;
  count(trans, cyl) |&gt;
  ggplot(aes(cyl, trans, size = n)) +
  geom_point() +
  scale_y_discrete(limits = rev) +
  labs(x = &quot;cylinders&quot;, y = &quot;&quot;, size = &quot;count&quot;) +
  theme_quo(minor.x = FALSE)</code></pre>
<p><img src="ggplot2-1_files/figure-html/unnamed-chunk-24-3.png" width="768" style="display: block; margin: auto;" /></p>
<p>GG Solutions does not provide an answer.</p>
<hr />
</div>
</div>

<div id="rmd-source-code">LS0tCnRpdGxlOiBnZ3Bsb3QyIChHZXR0aW5nIHN0YXJ0ZWQpCmRhdGU6ICcyMDIyLTExLTIwJwpvdXRwdXQ6CiAgaHRtbF9kb2N1bWVudDoKICAgIHRoZW1lOgogICAgICB2ZXJzaW9uOiA1CiAgICB0b2M6IHllcwogICAgdG9jX2Zsb2F0OgogICAgICBjb2xsYXBzZWQ6IHllcwogICAgICBzbW9vdGhfc2Nyb2xsOiBubwotLS0KCldvcmtib29rIGZvciBjb21wbGV0aW5nIHF1aXp6ZXMgYW5kIGV4ZXJjaXNlcyBmcm9tIHRoZSAiR2V0dGluZyBzdGFydGVkIiBjaGFwdGVycyBvZiBbZ2dwbG90MjogRWxlZ2FudCBHcmFwaGljcyBmb3IgRGF0YSBBbmFseXNpc10oaHR0cHM6Ly9nZ3Bsb3QyLWJvb2sub3JnL2luZGV4Lmh0bWwpLCB0aGlyZCBlZGl0aW9uLCB3aXRoIGNvbXBhcmlzb25zIHRvIHNvbHV0aW9ucyBmcm9tIFtTb2x1dGlvbnMgdG8gZ2dwbG90MjogRWxlZ2FudCBHcmFwaGljcyBmb3IgRGF0YSBBbmFseXNpc10oaHR0cHM6Ly9nZ3Bsb3QyLWJvb2stc29sdXRpb25zLTNlZC5uZXRsaWZ5LmFwcCkuCgpgYGB7ciBzZXR1cCwgbWVzc2FnZSA9IEZBTFNFLCB3YXJuaW5nID0gRkFMU0V9CmxpYnJhcnkoZ2dwbG90MikKbGlicmFyeShkcGx5cikKbGlicmFyeShtb2RlbHIpCmxpYnJhcnkoamJwbG90KQoKa25pdHI6Om9wdHNfY2h1bmskc2V0KAogIGNvbW1lbnQgPSAiIz4iLAogIGZpZy5hbGlnbiA9ICJjZW50ZXIiCikKYGBgCgojIEludHJvZHVjdGlvbgoKVGhpcyB3b3JrYm9vayBpbmNsdWRlcyBhbnN3ZXJzIGFuZCBzb2x1dGlvbnMgdG8gdGhlIHF1aXp6ZXMgYW5kIGV4ZXJjaXNlcyBmcm9tIFtnZ3Bsb3QyOiBFbGVnYW50IEdyYXBoaWNzIGZvciBEYXRhIEFuYWx5c2lzXShodHRwczovL2dncGxvdDItYm9vay5vcmcvaW5kZXguaHRtbCkgYW5kIFtTb2x1dGlvbnMgdG8gZ2dwbG90MjogRWxlZ2FudCBHcmFwaGljcyBmb3IgRGF0YSBBbmFseXNpc10oaHR0cHM6Ly9nZ3Bsb3QyLWJvb2stc29sdXRpb25zLTNlZC5uZXRsaWZ5LmFwcCksIG9yZ2FuaXplZCBieSBjaGFwdGVyLiBJdCBpbmNsdWRlcyBleGNlcnB0cyBmcm9tIGJvdGggYm9va3MsIGNvcGllZCBoZXJlLgoKKipXQVJOSU5HLCBTUE9JTEVSUyEqKiBJZiB5b3UgaGF2ZW4ndCByZWFkIHRoZSBnZ3Bsb3QyIGJvb2sgYW5kIGludGVuZCB0byBjb21wbGV0ZSB0aGUgcXVpenplcyBhbmQgZXhlcmNpc2VzLCBkb24ndCByZWFkIHRoaXMgbm90ZWJvb2suIEl0IGNvbnRhaW5zIG15IChwb3RlbnRpYWxseSB3cm9uZykgYW5zd2VycyB0byBib3RoLgoKIyAyIEZpcnN0IHN0ZXBzCgpUaGUgZ29hbCBvZiB0aGlzIGNoYXB0ZXIgaXMgdG8gdGVhY2ggeW91IGhvdyB0byBwcm9kdWNlIHVzZWZ1bCBncmFwaGljcyB3aXRoIGdncGxvdDIgYXMgcXVpY2tseSBhcyBwb3NzaWJsZS4gWW914oCZbGwgbGVhcm4gdGhlIGJhc2ljcyBvZiBnZ3Bsb3QoKSBhbG9uZyB3aXRoIHNvbWUgdXNlZnVsIOKAnHJlY2lwZXPigJ0gdG8gbWFrZSB0aGUgbW9zdCBpbXBvcnRhbnQgcGxvdHMuIGdncGxvdCgpIGFsbG93cyB5b3UgdG8gbWFrZSBjb21wbGV4IHBsb3RzIHdpdGgganVzdCBhIGZldyBsaW5lcyBvZiBjb2RlIGJlY2F1c2UgaXTigJlzIGJhc2VkIG9uIGEgcmljaCB1bmRlcmx5aW5nIHRoZW9yeSwgdGhlIGdyYW1tYXIgb2YgZ3JhcGhpY3MuIEhlcmUgd2XigJlsbCBza2lwIHRoZSB0aGVvcnkgYW5kIGZvY3VzIG9uIHRoZSBwcmFjdGljZSwgYW5kIGluIGxhdGVyIGNoYXB0ZXJzIHlvdeKAmWxsIGxlYXJuIGhvdyB0byB1c2UgdGhlIGZ1bGwgZXhwcmVzc2l2ZSBwb3dlciBvZiB0aGUgZ3JhbW1hci4KCiMjIDIuMi4xIEV4ZXJjaXNlcwoKMS4gIExpc3QgZml2ZSBmdW5jdGlvbnMgdGhhdCB5b3UgY291bGQgdXNlIHRvIGdldCBtb3JlIGluZm9ybWF0aW9uIGFib3V0IHRoZQogICAgYG1wZ2AgZGF0YXNldC4KCkFuc3dlcjoKCkZpdmUgY29tbW9uIGJhc2UgUiBmdW5jdGlvbnMgSSB1c2UgdG8gaW50ZXJyb2dhdGUgZGF0YWZyYW1lcyBhcmU6CgoxLiBgc3VtbWFyeSgpYAoxLiBgaGlzdCgpYAoxLiBgcGxvdCgpYAoxLiBgbG0oKWAKMS4gYFZpZXcoKWAKCkdHIFNvbHV0aW9uczoKCi0gICBgaGVscChtcGcpYDogRG9jdW1lbnRhdGlvbiBvZiBkYXRhc2V0Ci0gICBgZGltKG1wZylgOiBEaW1lbnNpb25zIG9mIGRhdGFzZXQKLSAgIGBzdW1tYXJ5KG1wZylgOiBTdW1tYXJ5IG1lYXN1cmVzIG9mIGRhdGFzZXQKLSAgIGBzdHIobXBnKWA6IERpc3BsYXkgb2YgdGhlIGludGVybmFsIHN0cnVjdHVyZSBvZiBkYXRhc2V0Ci0gICBgZ2xpbXBzZShtcGcpYDogYGRwbHlyYCB2ZXJzaW9uIG9mIGBzdHIobXBnKWAKCi0tLQoKMi4gIEhvdyBjYW4geW91IGZpbmQgb3V0IHdoYXQgb3RoZXIgZGF0YXNldHMgYXJlIGluY2x1ZGVkIHdpdGggZ2dwbG90Mj8KCkFuc3dlcjogdXNlIGBkYXRhKHBhY2thZ2UgPSAiZ2dwbG90MiIpYCwgd2hpY2ggcmV0dXJucyB0aGUgZm9sbG93aW5nOgoKYGBgCkRhdGEgc2V0cyBpbiBwYWNrYWdlIOKAmGdncGxvdDLigJk6CgpkaWFtb25kcyAgICAgICAgICAgICAgICAgICAgICBQcmljZXMgb2Ygb3ZlciA1MCwwMDAgcm91bmQgY3V0IGRpYW1vbmRzCmVjb25vbWljcyAgICAgICAgICAgICAgICAgICAgIFVTIGVjb25vbWljIHRpbWUgc2VyaWVzCmVjb25vbWljc19sb25nICAgICAgICAgICAgICAgIFVTIGVjb25vbWljIHRpbWUgc2VyaWVzCmZhaXRoZnVsZCAgICAgICAgICAgICAgICAgICAgIDJkIGRlbnNpdHkgZXN0aW1hdGUgb2YgT2xkIEZhaXRoZnVsIGRhdGEKbHV2X2NvbG91cnMgICAgICAgICAgICAgICAgICAgJ2NvbG9ycygpJyBpbiBMdXYgc3BhY2UKbWlkd2VzdCAgICAgICAgICAgICAgICAgICAgICAgTWlkd2VzdCBkZW1vZ3JhcGhpY3MKbXBnICAgICAgICAgICAgICAgICAgICAgICAgICAgRnVlbCBlY29ub215IGRhdGEgZnJvbSAxOTk5IHRvIDIwMDggZm9yIDM4IHBvcHVsYXIgbW9kZWxzIG9mCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhcnMKbXNsZWVwICAgICAgICAgICAgICAgICAgICAgICAgQW4gdXBkYXRlZCBhbmQgZXhwYW5kZWQgdmVyc2lvbiBvZiB0aGUgbWFtbWFscyBzbGVlcCBkYXRhc2V0CnByZXNpZGVudGlhbCAgICAgICAgICAgICAgICAgIFRlcm1zIG9mIDEyIHByZXNpZGVudHMgZnJvbSBFaXNlbmhvd2VyIHRvIFRydW1wCnNlYWxzICAgICAgICAgICAgICAgICAgICAgICAgIFZlY3RvciBmaWVsZCBvZiBzZWFsIG1vdmVtZW50cwp0eGhvdXNpbmcgICAgICAgICAgICAgICAgICAgICBIb3VzaW5nIHNhbGVzIGluIFRYCmBgYAoKR0cgU29sdXRpb25zOgoKYGRhdGEocGFja2FnZSA9ICJnZ3Bsb3QyIilgIGxvYWRzIHRoZSBhdmFpbGFibGUgZGF0YSBzZXRzIGluIGdncGxvdDIuIEFsdGVybmF0aXZlbHksaWYgeW91IGhhdmUgaW50ZXJuZXQgYWNjZXNzLCBnbyB0byBodHRwczovL2dncGxvdDIudGlkeXZlcnNlLm9yZy9yZWZlcmVuY2UvaW5kZXguaHRtbCNzZWN0aW9uLWRhdGEKCi0tLQogICAgCjMuICBBcGFydCBmcm9tIHRoZSBVUywgbW9zdCBjb3VudHJpZXMgdXNlIGZ1ZWwgY29uc3VtcHRpb24gKGZ1ZWwgY29uc3VtZWQKICAgIG92ZXIgZml4ZWQgZGlzdGFuY2UpIHJhdGhlciB0aGFuIGZ1ZWwgZWNvbm9teSAoZGlzdGFuY2UgdHJhdmVsbGVkIHdpdGgKICAgIGZpeGVkIGFtb3VudCBvZiBmdWVsKS4gSG93IGNvdWxkIHlvdSBjb252ZXJ0IGBjdHlgIGFuZCBgaHd5YCBpbnRvIHRoZQogICAgRXVyb3BlYW4gc3RhbmRhcmQgb2YgbC8xMDBrbT8gCgpBbnN3ZXI6IHRvIGNvbnZlcnQgbWlsZXMvZ2FsbG9uIHRvIGxpdGVycy8xMDBrbSwgd2UgdXNlIHRoZSBmb3JtdWxhOgoKJFxmcmFjezF9e21pbGVzL2dhbGxvbn0gXHRpbWVzIFxmcmFjezMuNzg1NDF9ezEuNjA5MzQ0IFxkaXYgMTAwfSA9IGwvMTAwa20kCgpgYGB7cn0KbXBnX2wxMDBrbSA8LSBmdW5jdGlvbih4KSB7CiAgKDEgLyB4KSAqIDMuNzg1NDEgLyAoMS42MDkzNDQgLyAxMDApCn0KCiMgTmVlZCB0byB1c2UgZ2dwbG90Mjo6bXBnIHRvIGRpc2FtYmlndWF0ZSBmb3IgYnVpbGRfYW5hbHlzaXNfc2l0ZSgpCmdncGxvdDI6Om1wZyB8PgogIG11dGF0ZShjdHkgPSBtcGdfbDEwMGttKGN0eSksIGh3eSA9IG1wZ19sMTAwa20oaHd5KSkKYGBgCgpHRyBTb2x1dGlvbnM6CgotIEFjY29yZGluZyB0byBbYXNrbnVtYmVyc10oaHR0cHM6Ly93d3cuYXNrbnVtYmVycy5jb20vbXBnLXRvLUwxMDBrbS5hc3B4KSwgeW91IGRpdmlkZSAyMzUuMjE0NTgzIGJ5IHRoZSBtcGcgdmFsdWVzIGluIGBjdHlgIGFuZCBgaHd5YCB0byBjb252ZXJ0IHRoZW0gaW50byB0aGUgRXVyb3BlYW4gc3RhbmRhcmQgb2YgbC8xMDBrbS4gCgotIEZ1bmN0aW9uIHRvIGNvbnZlcnQgaW50byBFdXJvcGVhbiBzdGFuZGFyZCAoUmFkZW1ha2VyLCAyMDE2KToKCmBgYHtyfQojIG5vbGludCBzdGFydDogb2JqZWN0X25hbWVfbGludGVyLgptcGdUb2wxMDBrbSA8LSBmdW5jdGlvbihtaWxlc3BlcmdhbGxvbikgewogIEdhbGxvTGl0ZXIgPC0gMy43ODU0MTE3ODQKICBNaWxlS2lsb21ldGVyIDwtIDEuNjA5MzQ0CgogIGwxMDBrbSA8LSAoMTAwICogR2FsbG9MaXRlcikgLyAobWlsZXNwZXJnYWxsb24gKiBNaWxlS2lsb21ldGVyKQogIGwxMDBrbQp9CiMgbm9saW50IGVuZApgYGAKCi0tLQogICAgCjQuICBXaGljaCBtYW51ZmFjdHVyZXIgaGFzIHRoZSBtb3N0IG1vZGVscyBpbiB0aGlzIGRhdGFzZXQ/IFdoaWNoIG1vZGVsIGhhcyAKICAgIHRoZSBtb3N0IHZhcmlhdGlvbnM/IERvZXMgeW91ciBhbnN3ZXIgY2hhbmdlIGlmIHlvdSByZW1vdmUgdGhlIHJlZHVuZGFudAogICAgc3BlY2lmaWNhdGlvbiBvZiBkcml2ZSB0cmFpbiAoZS5nLiAicGF0aGZpbmRlciA0d2QiLCAiYTQgcXVhdHRybyIpIGZyb20gdGhlIAogICAgbW9kZWwgbmFtZT8KCkFuc3dlcjogd2UgY2FuIGdlbmVyYXRlIGEgZGF0YWZyYW1lIHdpdGggbWFudWZhY3R1cmVycywgbW9kZWxzLCBhbmQgdmFyaWF0aW9ucyB1c2luZzoKCmBgYHtyfQptcGdfc3VtbWFyeSA8LSBnZ3Bsb3QyOjptcGcgfD4KICBjb3VudChtYW51ZmFjdHVyZXIsIG1vZGVsKSB8PgogIHJlbmFtZSh2YXJpYXRpb25zID0gbikKCm1wZ19zdW1tYXJ5CmBgYAoKVGhlIG1vZGVsIHdpdGggdGhlIG1vc3QgdmFyaWF0aW9ucyBpcyB0aGUgRG9kZ2UgQ2FyYXZhbiAyd2QuCgpgYGB7cn0KbXBnX3N1bW1hcnkgfD4KICBhcnJhbmdlKHZhcmlhdGlvbnMpIHw+CiAgdGFpbCgxKQpgYGAKVGhlIG1hbnVmYWN0dXJlciB3aXRoIHRoZSBtb3N0IG1vZGVscyBpcyBUb3lvdGEuCgpgYGB7cn0KbXBnX3N1bW1hcnkgfD4KICBjb3VudChtYW51ZmFjdHVyZXIpIHw+CiAgYXJyYW5nZShuKSB8PgogIHRhaWwoMSkKYGBgCgpJZiB3ZSBmaXJzdCByZW1vdmUgdGhlIHJlZHVuZGFudCBkcml2ZSB0cmFpbiBmcm9tIHRoZSBzdW1tYXJ5LCB3ZSBnZXQ6CgpgYGB7cn0KbXBnX3N1bW1hcnkyIDwtIGdncGxvdDI6Om1wZyB8PgogIG11dGF0ZShtb2RlbCA9IGdzdWIoIiAocXVhdHRybyl8KDJ3ZCl8KDR3ZCl8KGF3ZCkkIiwgIiIsIG1vZGVsKSkgfD4KICBjb3VudChtYW51ZmFjdHVyZXIsIG1vZGVsKSB8PgogIHJlbmFtZSh2YXJpYXRpb25zID0gbikKCm1wZ19zdW1tYXJ5MgpgYGAKClRoZSBtb2RlbCB3aXRoIHRoZSBtb3N0IHZhcmlhdGlvbnMgaGFzIGNoYW5nZWQgdG8gdGhlIEF1ZGkgQTQuCgpgYGB7cn0KbXBnX3N1bW1hcnkyIHw+CiAgYXJyYW5nZSh2YXJpYXRpb25zKSB8PgogIHRhaWwoMSkKYGBgCgpUaGUgbWFudWZhY3R1cmVyIHdpdGggdGhlIG1vc3QgbW9kZWxzIGlzIHN0aWxsIFRveW90YS4KCmBgYHtyfQptcGdfc3VtbWFyeTIgfD4KICBjb3VudChtYW51ZmFjdHVyZXIpIHw+CiAgYXJyYW5nZShuKSB8PgogIHRhaWwoMSkKYGBgCgpHRyBTb2x1dGlvbnM6CgpOb3QgaW5jbHVkZWQgaGVyZSBiZWNhdXNlIEkgYmVsaWV2ZSB0aGUgYW5zd2VyIHRvIHF1ZXN0aW9uIDQgaW4gWzIuMiBFeGVyY2lzZXNdKGh0dHBzOi8vZ2dwbG90Mi1ib29rLXNvbHV0aW9ucy0zZWQubmV0bGlmeS5hcHAvZmlyc3Qtc3RlcHMuaHRtbCNleGVyY2lzZXMtMSkgaXMgaW5jb3JyZWN0LCBhcyBpdCBjb3VudHMgdmFyaWFudHMgYnkgbWFudWZhY3R1cmVyLCBub3QgbW9kZWxzIGJ5IG1hbnVmYWN0dXJlci4KCi0tLQoKIyMgMi4zLjEgRXhlcmNpc2VzCgoxLiAgSG93IHdvdWxkIHlvdSBkZXNjcmliZSB0aGUgcmVsYXRpb25zaGlwIGJldHdlZW4gYGN0eWAgYW5kIGBod3lgPwogICAgRG8geW91IGhhdmUgYW55IGNvbmNlcm5zIGFib3V0IGRyYXdpbmcgY29uY2x1c2lvbnMgZnJvbSB0aGF0IHBsb3Q/CgpBbnN3ZXI6IHdlIGNhbiBleHBsb3JlIHRoZSByZWxhdGlvbnNoaXAgdXNpbmcgYSBzY2F0dGVycGxvdDogCgpgYGB7cn0KZ2dwbG90KGdncGxvdDI6Om1wZywgYWVzKGN0eSwgaHd5KSkgKwogIGdlb21fcG9pbnQoKQpgYGAKClRoZXJlIGlzIGEgc3Ryb25nIGNvcnJlbGF0aW9uIGJldHdlZW4gYGN0eWAgYW5kIGBod3lgLCB3aGljaCBpcyBleHBlY3RlZCBzaW5jZSB0aGVzZSBhcmUgYm90aCBtZWFzdXJlcyBvZiBmdWVsIGVmZmljaWVuY3kgb2YgdGhlIHNhbWUgY2FyLgoKR0cgU29sdXRpb25zOgoKLSBUaGUgcGxvdCBzaG93cyBhIHN0cm9uZ2x5IGxpbmVhciByZWxhdGlvbnNoaXAsIHdoaWNoIHRlbGxzIG1lIHRoYXQgYGN0eWAgYW5kIGBod3lgIGFyZSBoaWdobHkgY29ycmVsYXRlZCB2YXJpYWJsZXMuIFRoZSBvbmx5IGNvbmNlcm4gSSBoYXZlIGlzIHRoYXQgdGhlIHBvaW50cyBzZWVtIHRvIGJlIG92ZXJsYXBwaW5nLgotIFRoZXJlIGlzIG5vdCBtdWNoIGluc2lnaHQgdG8gYmUgZ2FpbmVkIGV4Y2VwdCB0aGF0IGNhcnMgd2hpY2ggYXJlIGZ1ZWwgZWZmaWNpZW50IG9uIGEgaGlnaHdheSBhcmUgYWxzbyBmdWVsIGVmZmljaWVudCBpbiBjaXRpZXMuIFRoaXMgcmVsYXRpb25zaGlwIGlzIHByb2JhYmx5IGEgZnVuY3Rpb24gb2Ygc3BlZWQgKFJhZGVtYWtlciwgMjAxNikgCgotLS0KCjIuICBXaGF0IGRvZXMgYGdncGxvdChtcGcsIGFlcyhtb2RlbCwgbWFudWZhY3R1cmVyKSkgKyBnZW9tX3BvaW50KClgIHNob3c/CiAgICBJcyBpdCB1c2VmdWw/IEhvdyBjb3VsZCB5b3UgbW9kaWZ5IHRoZSBkYXRhIHRvIG1ha2UgaXQgbW9yZSBpbmZvcm1hdGl2ZT8KCkFuc3dlcjogdGhpcyBwbG90IHNob3dzIGVhY2ggbW9kZWwgYXMgYSBwb2ludCBmb3IgZWFjaCBtYW51ZmFjdHVyZXIsIHdoaWNoIGlzIG5vdCBwYXJ0aWN1bGFybHkgdXNlZnVsLCBhbHRob3VnaCBpdCBkb2VzIGFsbG93IGZvciBhIHF1aWNrIGNvdW50IG9mIG1vZGVscyBieSBtYW51ZmFjdHVyZXIuIEEgYmFyIGNoYXJ0IHNob3dpbmcgY291bnQgb2YgbW9kZWxzIGJ5IG1hbnVmYWN0dXJlciB3b3VsZCBiZSBtb3JlIHVzZWZ1bC4KCmBgYHtyfQpnZ3Bsb3QoZ2dwbG90Mjo6bXBnLCBhZXMobW9kZWwsIG1hbnVmYWN0dXJlcikpICsKICBnZW9tX3BvaW50KCkKYGBgCgpHRyBTb2x1dGlvbnM6CgotIFRoZSBwbG90IHNob3dzIHRoZSBtYW51ZmFjdHVyZXIgb2YgZWFjaCBtb2RlbC4gSXRzIG5vdCB2ZXJ5IHJlYWRhYmxlIHNpbmNlIHRoZXJlIGFyZSB0b28gbWFueSBtb2RlbHMgYW5kIHRoaXMgY2x1dHRlcnMgdXAgdGhlIHgtYXhpcyB3aXRoIHRvbyBtYW55IHRpY2tzISBJIHdvdWxkIGp1c3QgcGxvdCAyMCBvciBzbyBtb2RlbHMgc28gdGhhdCB0aGUgZ3JhcGggaXMgbW9yZSByZWFkYWJsZS4gU2VlIGJlbG93OgoKYGBge3J9CmdncGxvdDI6Om1wZyAlPiUKICBoZWFkKDI1KSAlPiUKICBnZ3Bsb3QoYWVzKG1vZGVsLCBtYW51ZmFjdHVyZXIpKSArCiAgZ2VvbV9wb2ludCgpCmBgYAoKLSBBIHBvc3NpYmxlIGFsdGVybmF0aXZlIHdvdWxkIGJlIHRvIGxvb2sgdG90YWwgbnVtYmVyIG9mIG9ic2VydmF0aW9ucyBmb3IgZWFjaCBtYW51ZmFjdHVyZXItbW9kZWwgY29tYmluYXRpb24gdXNpbmcgZ2VvbV9iYXIoKS4gKFJhZGVtYWtlciwgMjAxNikKCmBgYHtyfQpkZiA8LSBnZ3Bsb3QyOjptcGcgJT4lCiAgdHJhbnNtdXRlKCJtYW5fbW9kIiA9IHBhc3RlKG1hbnVmYWN0dXJlciwgbW9kZWwsIHNlcCA9ICIgIikpCmdncGxvdChkZiwgYWVzKG1hbl9tb2QpKSArCiAgZ2VvbV9iYXIoKSArCiAgY29vcmRfZmxpcCgpCmBgYAoKTm90ZTogSSBwcmVmZXIgbXkgc29sdXRpb24gZm9yIHRoaXMgZXhlcmNpc2UuCgotLS0KCjMuICBEZXNjcmliZSB0aGUgZGF0YSwgYWVzdGhldGljIG1hcHBpbmdzIGFuZCBsYXllcnMgdXNlZCBmb3IgZWFjaCBvZiB0aGUgCiAgICBmb2xsb3dpbmcgcGxvdHMuIFlvdSdsbCBuZWVkIHRvIGd1ZXNzIGEgbGl0dGxlIGJlY2F1c2UgeW91IGhhdmVuJ3Qgc2VlbgogICAgYWxsIHRoZSBkYXRhc2V0cyBhbmQgZnVuY3Rpb25zIHlldCwgYnV0IHVzZSB5b3VyIGNvbW1vbiBzZW5zZSEgU2VlIGlmIHlvdSAKICAgIGNhbiBwcmVkaWN0IHdoYXQgdGhlIHBsb3Qgd2lsbCBsb29rIGxpa2UgYmVmb3JlIHJ1bm5pbmcgdGhlIGNvZGUuCiAgICAKICAgIDEuIGBnZ3Bsb3QobXBnLCBhZXMoY3R5LCBod3kpKSArIGdlb21fcG9pbnQoKWAKICAgIDEuIGBnZ3Bsb3QoZGlhbW9uZHMsIGFlcyhjYXJhdCwgcHJpY2UpKSArIGdlb21fcG9pbnQoKWAKICAgIDEuIGBnZ3Bsb3QoZWNvbm9taWNzLCBhZXMoZGF0ZSwgdW5lbXBsb3kpKSArIGdlb21fbGluZSgpYAogICAgMS4gYGdncGxvdChtcGcsIGFlcyhjdHkpKSArIGdlb21faGlzdG9ncmFtKClgCgpBbnN3ZXI6CgoxLiBgZ2dwbG90KG1wZywgYWVzKGN0eSwgaHd5KSkgKyBnZW9tX3BvaW50KClgIC0gc2NhdHRlcnBsb3Qgb2YgY2l0eSBtcGcgYWdhaW5zdCBoaWdod2F5IG1wZwoxLiBgZ2dwbG90KGRpYW1vbmRzLCBhZXMoY2FyYXQsIHByaWNlKSkgKyBnZW9tX3BvaW50KClgIC0gc2NhdHRlcnBsb3Qgb2YgZGlhbW9uZCB3ZWlnaHQgaW4gY2FyYXRzCiAgIGFnYWluc3QgcHJpY2UKMS4gYGdncGxvdChlY29ub21pY3MsIGFlcyhkYXRlLCB1bmVtcGxveSkpICsgZ2VvbV9saW5lKClgIC0gYSBsaW5lIHBsb3Qgc2hvd2luZyB0aGUgdW5lbXBsb3ltZW50CiAgIHJhdGUgb3ZlciB0aW1lCjEuIGBnZ3Bsb3QobXBnLCBhZXMoY3R5KSkgKyBnZW9tX2hpc3RvZ3JhbSgpYCAtIGEgaGlzdG9ncmFtIG9mIGNpdHkgbXBnCgpgYGB7cn0KZ2dwbG90KGdncGxvdDI6Om1wZywgYWVzKGN0eSwgaHd5KSkgKwogIGdlb21fcG9pbnQoKQpnZ3Bsb3QoZGlhbW9uZHMsIGFlcyhjYXJhdCwgcHJpY2UpKSArCiAgZ2VvbV9wb2ludCgpCmdncGxvdChlY29ub21pY3MsIGFlcyhkYXRlLCB1bmVtcGxveSkpICsKICBnZW9tX2xpbmUoKQpnZ3Bsb3QoZ2dwbG90Mjo6bXBnLCBhZXMoY3R5KSkgKwogIGdlb21faGlzdG9ncmFtKCkKYGBgCgpJbiBnZW5lcmFsLCBteSBndWVzc2VzIGFyZSBjb3JyZWN0IChnaXZlbiBteSBleGlzdGluZyBleHBlcmllbmNlIHdpdGggZ2dwbG90KSwgZXhjZXB0IGZvciB0aGUgZWNvbm9taWNzIHBsb3QsIHdoaWNoIGFwcGVhcnMgdG8gc2hvdyB0aGUgbnVtYmVyIG9mIHVuZW1wbG95ZWQgcGVvcGxlIGluc3RlYWQgb2YgYW4gZW1wbG95bWVudCByYXRlLgoKR0cgU29sdXRpb25zOiAoUmFkZW1ha2VyLCAyMDE2KQoKMS4gYGdncGxvdChtcGcsIGFlcyhjdHksIGh3eSkpICsgZ2VvbV9wb2ludCgpYAotICAgKkRhdGEqOiBgbXBnYAotICAgKkFlc3RoZXRpYyo6IGhpZ2h3YXkgbWlsZXMgcGVyIGdhbGxvbiBpcyBtYXBwZWQgdG8geSBwb3NpdGlvbiBhbmQgY2l0eSBtaWxlcyBwZXIgZ2FsbG9uIGlzIG1hcHBlZCB0byB4IHBvc2l0aW9uLgotICAgKkxheWVyKjogcG9pbnRzCgoyLiBgZ2dwbG90KGRpYW1vbmRzLCBhZXMoY2FyYXQsIHByaWNlKSkgKyBnZW9tX3BvaW50KClgCi0gICAqRGF0YSo6IGBkaWFtb25kc2AKLSAgICpBZXN0aGV0aWMqOiBwcmljZSBpbiBVUyBkb2xsYXJzIGlzIG1hcHBlZCB0byB5IHBvc2l0aW9uLCB3ZWlnaHQgb2YgdGhlIGRpYW1vbmQgaXMgbWFwcGVkIHRvIHggcG9zaXRpb24uCi0gICAqTGF5ZXIqOiBwb2ludHMKCjMuICBgZ2dwbG90KGVjb25vbWljcywgYWVzKGRhdGUsIHVuZW1wbG95KSkgKyBnZW9tX2xpbmUoKWAKLSAgICpEYXRhKjogYGVjb25vbWljc2AKLSAgICpBZXN0aGV0aWMqOiBtZWRpYW4gZHVyYXRpb24gb2YgdW5lbXBsb3ltZW50LCBpbiB3ZWVrcywgaXMgbWFwcGVkIHRvIHkgcG9zaXRpb24gYW5kIG1vbnRoIG9mIGRhdGEgY29sbGVjdGlvbiBpcyBtYXBwZWQgdG8geCBwb3NpdGlvbi4KLSAgICpMYXllcio6IGxpbmUKCi0tLQoKIyMgMi40LjEgRXhlcmNpc2VzCgoxLiAgRXhwZXJpbWVudCB3aXRoIHRoZSBjb2xvdXIsIHNoYXBlIGFuZCBzaXplIGFlc3RoZXRpY3MuIFdoYXQgaGFwcGVucyB3aGVuIAogICAgeW91IG1hcCB0aGVtIHRvIGNvbnRpbnVvdXMgdmFsdWVzPyBXaGF0IGFib3V0IGNhdGVnb3JpY2FsIHZhbHVlcz8gV2hhdCAKICAgIGhhcHBlbnMgd2hlbiB5b3UgdXNlIG1vcmUgdGhhbiBvbmUgYWVzdGhldGljIGluIGEgcGxvdD8KCkFuc3dlcjogb2JzZXJ2YXRpb25zIGJhc2VkIG9uIHRoZSBwbG90cyBiZWxvdzoKCi0gVXNpbmcgYSBjb250aW51b3VzIHZhcmlhYmxlIHdpdGggc2hhcGUgZ2VuZXJhdGVzIGFuIGVycm9yCi0gVXNpbmcgYSBjYXRlZ29yaWNhbCB2YXJpYWJsZSB3aXRoIHNoYXBlIGZvciBtb3JlIHRoYW4gNiB2YWx1ZXMgZ2VuZXJhdGVzIGEgd2FybmluZwotIFVzaW5nIGEgY29udGludW91cyB2YXJpYWJsZSB3aXRoIHNpemUgd29ya3Mgd2VsbAotIFVzaW5nIGEgY2F0ZWdvcmljYWwgdmFyaWFibGUgd2l0aCBzaXplIGdlbmVyYXRlcyBhIHdhcm5pbmcKLSBVc2luZyBhIGNvbnRpbnVvdXMgdmFyaWFibGUgd2l0aCBjb2xvciBjcmVhdGVzIGEgZ3JhZGllbnQKLSBVc2luZyBhIGNhdGVnb3JpY2FsIHZhcmlhYmxlIHdpdGggY29sb3IgY3JlYXRlcyBhIGRpc2NyZXRlIG1hcHBpbmcKLSBNdWx0aXBsZSBhZXN0aGV0aWNzIGNhbiBvdmVybG9hZCB0aGUgcGxvdAoKYGBge3J9CiMgY29udGludW91cwpnZ3Bsb3QoZ2dwbG90Mjo6bXBnLCBhZXMoZGlzcGwsIGh3eSwgY29sb3IgPSBjeWwpKSArCiAgZ2VvbV9wb2ludCgpCiMgY2F0ZWdvcmljYWwKZ2dwbG90KGdncGxvdDI6Om1wZywgYWVzKGRpc3BsLCBod3ksIGNvbG9yID0gZHJ2KSkgKwogIGdlb21fcG9pbnQoKQojIG11bHRpcGxlCmdncGxvdDI6Om1wZyB8PgogIG11dGF0ZSh5ZWFyID0gYXMuZmFjdG9yKHllYXIpKSB8PgogIGdncGxvdChhZXMoZGlzcGwsIGh3eSwgY29sb3IgPSBkcnYsIHNpemUgPSBjeWwsIHNoYXBlID0geWVhcikpICsKICBnZW9tX3BvaW50KCkKYGBgCgpHRyBTb2x1dGlvbnMgb2ZmZXJzIGEgc2ltaWxhciBhbmQgbGVzcyBjb21wbGV0ZSBhbnN3ZXIuCgotLS0KCjIuICBXaGF0IGhhcHBlbnMgaWYgeW91IG1hcCBhIGNvbnRpbnVvdXMgdmFyaWFibGUgdG8gc2hhcGU/IFdoeT8gV2hhdCBoYXBwZW5zCiAgICBpZiB5b3UgbWFwIGB0cmFuc2AgdG8gc2hhcGU/IFdoeT8KCkFuc3dlcjogQXMgbm90ZWQgYWJvdmUsIHVzaW5nIGEgY29udGludW91cyB2YXJpYWJsZSB3aXRoIHNoYXBlIGdlbmVyYXRlcyBhbiBlcnJvciwgYmVjYXVzZSBwbG90cyBtdXN0IGhhdmUgZGlzY3JldGUgc2hhcGVzLiBVc2luZyBhIGNhdGVnb3JpY2FsIHZhcmlhYmxlIHdpdGggc2hhcGUgZm9yIG1vcmUgdGhhbiA2IHZhbHVlcyAobGlrZSBgdHJhbnNgKSBnZW5lcmF0ZXMgYSB3YXJuaW5nLCBzaW5jZSAoYXMgdGhlIGVycm9yIG5vdGVzKSBtYW55IGRpZmZlcmVudCBzaGFwZXMgY2FuIGJlIGhhcmQgdG8gZGlzdGluZ3Vpc2ggb24gYSBwbG90LgoKR0cgU29sdXRpb25zIHByZXNlbnRzIGEgc2ltaWxhciBhbnN3ZXIuCgotLS0KCjMuICBIb3cgaXMgZHJpdmUgdHJhaW4gcmVsYXRlZCB0byBmdWVsIGVjb25vbXk/IEhvdyBpcyBkcml2ZSB0cmFpbiByZWxhdGVkIHRvCiAgICBlbmdpbmUgc2l6ZSBhbmQgY2xhc3M/CgpBbnN3ZXI6IFRoZSBwbG90cyBiZWxvdyBzaG93IHRoYXQ6CgotIEZyb250IHdoZWVsIGRyaXZlIGlzIGNvcnJlbGF0ZWQgd2l0aCBoaWdoZXIgZnVlbCBlY29ub215Ci0gRnJvbnQgd2hlZWwgZHJpdmUgaXMgY29ycmVsYXRlZCB3aXRoIHNtYWxsZXIgZGlzcGxhY2VtZW50LCByZWFyIHdoZWVsIGRyaXZlIGlzIGNvcnJlbGF0ZWQgd2l0aAogIGxhcmdlciBkaXNwbGFjZW1lbnQsIGFuZCBmb3VyIHdoZWVsIGRyaXZlIGlzIG5vdCBjb3JyZWxhdGVkIHdpdGggZGlzcGxhY2VtZW50Ci0gU29tZSBjbGFzc2VzIG9ubHkgaGF2ZSBhIHNpbmdsZSBkcml2ZSB0cmFpbjoKICAtIFR3byBzZWF0ZXJzIG9ubHkgaGF2ZSByZWFyIHdoZWVsIGRyaXZlCiAgLSBNaW5pdmFucyBvbmx5IGhhdmUgZnJvbnQgd2hlZWwgZHJpdmUKICAtIFBpY2t1cHMgb25seSBoYXZlIGZvdXIgd2hlZWwgZHJpdmUKCmBgYHtyfQpnZ3Bsb3QoZ2dwbG90Mjo6bXBnLCBhZXMoaHd5LCBkcnYpKSArCiAgZ2VvbV9wb2ludCgpCmdncGxvdChnZ3Bsb3QyOjptcGcsIGFlcyhkaXNwbCwgZHJ2KSkgKwogIGdlb21fcG9pbnQoKQpnZ3Bsb3QoZ2dwbG90Mjo6bXBnLCBhZXMoY2xhc3MsIGRydikpICsKICBnZW9tX3BvaW50KCkKYGBgCgpHRyBTb2x1dGlvbnMgcHJlc2VudHMgYSBzaW1pbGFyIGFuc3dlciB1c2luZyBiYXIgY2hhcnRzLCBhbmQgY29tcGFyZXMgZW5naW5lIHNpemUgYW5kIGNsYXNzIHRvZ2V0aGVyIGluIGEgc2luZ2xlIHBsb3QuCgpOb3RlOiBHRyBTb2x1dGlvbnMgZG9lcyBub3QgZXhwbG9yZSB0aGUgcmVsYXRpb25zaGlwIGJldHdlZW4gZHJpdmUgdHJhaW4gYW5kIGNsYXNzLgoKLS0tCgojIyAyLjUuMSBFeGVyY2lzZXMKCjEuICBXaGF0IGhhcHBlbnMgaWYgeW91IHRyeSB0byBmYWNldCBieSBhIGNvbnRpbnVvdXMgdmFyaWFibGUgbGlrZSAKICAgIGBod3lgPyBXaGF0IGFib3V0IGBjeWxgPyAgV2hhdCdzIHRoZSBrZXkgZGlmZmVyZW5jZT8KCkFuc3dlcjogZmFjZXRpbmcgb24gYSBjb250aW51b3VzIHZhcmlhYmxlIGNyZWF0ZXMgYSBmYWNldCBmb3IgZWFjaCB1bmlxdWUgdmFsdWUgaW4gdGhlIGRhdGEgZnJhbWUsIHdoaWNoIGhvbGRzIHRydWUgZm9yIGJvdGggYGh3eWAgYW5kIGBjeWxgLiBUaGUga2V5IGRpZmZlcmVuY2UgaXMgdGhhdCBgY3lsYCBoYXMgZmV3ZXIgdW5pcXVlIHZhbHVlcywgbWFraW5nIHRoZSBwbG90IG1vcmUgcmVhZGFibGUgYW5kIHVzZWZ1bC4KCmBgYHtyfQpnZ3Bsb3QoZ2dwbG90Mjo6bXBnLCBhZXMoZGlzcGwsIGN0eSkpICsKICBnZW9tX3BvaW50KCkgKwogIGZhY2V0X3dyYXAodmFycyhod3kpKQoKZ2dwbG90KGdncGxvdDI6Om1wZywgYWVzKGRpc3BsLCBjdHkpKSArCiAgZ2VvbV9wb2ludCgpICsKICBmYWNldF93cmFwKHZhcnMoY3lsKSkKYGBgCgpHRyBTb2x1dGlvbnM6CgotIFRoZSBrZXkgZGlmZmVyZW5jZSBpcyBgaHd5YCBpcyBhIGNvbnRpbnVvdXMgdmFyaWFibGUgdGhhdCBoYXMgMjcgdW5pcXVlIHZhbHVlcywgc28geW91IGdldCAyNyBkaWZmZXJlbnQgc3Vic2V0cy4gSG93ZXZlciwgYGNseWAgaXMgYSBjYXRlZ29yaWNhbCB2YXJpYWJsZSBhbmQgaGFzIDQgdW5pcXVlIHZhbHVlcywgc28gYGN5bGAgb25seSBoYXMgNCBkaWZmZXJlbnQgc3Vic2V0cy4gSXQgaXMgbGVzcyBjbHV0dGVyZWQgd2hlbiB5b3UgdHJ5IHRvIGZhY2V0LgotIChSYWRlbWFrZXIsIDIwMTYpIEZhY2V0aW5nIGJ5IGEgY29udGludW91cyB2YXJpYWJsZSB3b3JrcyBidXQgYmVjb21lcyBoYXJkIHRvIHJlYWQgYW5kIGludGVycHJldCB3aGVuIHRoZSB2YXJpYWJsZSB0aGF0IHdlIGZhY2V0IGJ5IGhhcyB0b28gbWFueSBsZXZlbHMuIAoKLS0tCgoyLiAgVXNlIGZhY2V0aW5nIHRvIGV4cGxvcmUgdGhlIDMtd2F5IHJlbGF0aW9uc2hpcCBiZXR3ZWVuIGZ1ZWwgZWNvbm9teSwKICAgIGVuZ2luZSBzaXplLCBhbmQgbnVtYmVyIG9mIGN5bGluZGVycy4gSG93IGRvZXMgZmFjZXRpbmcgYnkgbnVtYmVyIG9mCiAgICBjeWxpbmRlcnMgY2hhbmdlIHlvdXIgYXNzZXNzbWVudCBvZiB0aGUgcmVsYXRpb25zaGlwIGJldHdlZW4KICAgIGVuZ2luZSBzaXplIGFuZCBmdWVsIGVjb25vbXk/CgpBbnN3ZXI6IGVuZ2luZXMgd2l0aCBmZXdlciBjeWxpbmRlcnMgaGF2ZSBhIHN0cm9uZ2VyIHJlbGF0aW9uc2hpcCBiZXR3ZWVuIGRpc3BsYWNlbWVudCBhbmQgZnVlbCBlY29ub215ICh3aGVyZSBsYXJnZXIgZW5naW5lcyBoYXZlIHBvb3JlciBmdWVsIGVjb25vbXkpLCBzdHJvbmdlc3Qgd2l0aCA0IGN5bGluZGVycywgdW5jbGVhciB3aXRoIDUgKGR1ZSB0byBsaW1pdGVkIGRhdGEpLCB3ZWFrZXIgd2l0aCA2LCBhbmQgbm8gYXBwYXJlbnQgcmVsYXRpb25zaGlwIHdpdGggOC4KCmBgYHtyfQpnZ3Bsb3QoZ2dwbG90Mjo6bXBnLCBhZXMoZGlzcGwsIGh3eSkpICsKICBnZW9tX3BvaW50KCkgKwogIGdlb21fc21vb3RoKG1ldGhvZCA9ICJsbSIsIGZvcm11bGEgPSB5IH4geCkgKwogIGZhY2V0X3dyYXAodmFycyhjeWwpKQpgYGAKCkdHIFNvbHV0aW9uczoKCi0gV2hlbiBJIGluaXRpYWxseSBwbG90IGVuZ2luZSBzaXplIGFuZCBmdWVsIGVjb25vbXksIEkgc2VlIGFuIG92ZXJhbGwgZGVjcmVhc2luZyBsaW5lYXIgcmVsYXRpb25zaGlwLiBVcG9uIGZhY2V0aW5nLCBJIHNlZSB0aGF0IHRoZSBkZWNyZWFzaW5nIHJlbGF0aW9uc2hpcCBpcyBtb3N0bHkgc2VlbiBpbiB0aGUgNCBjeWxpbmRlciBzdWJzZXQuIEluIHRoZSBvdGhlciBjeWxpbmRlciBzdWJzZXRzLCB3ZSBzZWUgYSBmbGF0IHJlbGF0aW9uc2hpcCAtIGFzIGVuZ2luZSBkaXNwbGFjZW1lbnQgaW5jcmVhc2VzLCBmdWVsIGVjb25vbXkgcmVtYWlucyBjb25zdGFudC4KCi0tLQoKMy4gIFJlYWQgdGhlIGRvY3VtZW50YXRpb24gZm9yIGBmYWNldF93cmFwKClgLiBXaGF0IGFyZ3VtZW50cyBjYW4geW91IHVzZQogICAgdG8gY29udHJvbCBob3cgbWFueSByb3dzIGFuZCBjb2x1bW5zIGFwcGVhciBpbiB0aGUgb3V0cHV0PwoKQW5zd2VyOiB1c2UgYG5yb3dgIGFuZCBgbmNvbGAuCgpHRyBTb2x1dGlvbnM6CgotIEkgY2FuIHVzZSB0aGUgYXJndW1lbnRzIGBucm93LCBuY29sYCB0byBjb250cm9sIGhvdyBtYW55IHJvd3MgYW5kIGNvbHVtbnMgYXBwZWFyIGluIHRoZSBvdXRwdXQuCgotLS0KCjQuICBXaGF0IGRvZXMgdGhlIGBzY2FsZXNgIGFyZ3VtZW50IHRvIGBmYWNldF93cmFwKClgIGRvPyBXaGVuIG1pZ2h0IHlvdSB1c2UgCiAgICBpdD8KCkFuc3dlcjogdGhlIGBzY2FsZXNgIGFyZ3VtZW50IGRldGVybWluZXMgd2hldGhlciBzY2FsZXMgYXJlIGZpeGVkICh0aGUgZGVmYXVsdCkgb3IgZnJlZSBvbiBvbmUgb3IgYm90aCBkaW1lbnNpb25zLiBVc2luZyBgc2NhbGVzID0gImZyZWUiYCBpcyBoZWxwZnVsIHdoZW4gY29tcGFyaW5nIHJlbGF0aW9uc2hpcHMgd2hlbiBzY2FsZSBpcyBsZXNzIGltcG9ydGFudCwgYXMgc2hvd24gaW4gdGhpcyByZXdvcmtlZCBleGFtcGxlIG9mIGV4ZXJjaXNlIDIsIHdoaWNoIGZvY3VzZXMgb24gdGhlIHNtb290aGVkIHBsb3Q6CgpgYGB7cn0KZ2dwbG90KGdncGxvdDI6Om1wZywgYWVzKGRpc3BsLCBod3kpKSArCiAgZ2VvbV9wb2ludCgpICsKICBnZW9tX3Ntb290aChtZXRob2QgPSAibG0iLCBmb3JtdWxhID0geSB+IHgpICsKICBmYWNldF93cmFwKHZhcnMoY3lsKSwgc2NhbGVzID0gImZyZWUiKQpgYGAKCkdHIFNvbHV0aW9uczoKCi0gSXQgYWxsb3dzIHVzZXJzIHRvIGRlY2lkZSB3aGV0aGVyIHNjYWxlcyBzaG91bGQgYmUgZml4ZWQuIEkgd291bGQgdXNlIGl0IHdoZW5ldmVyIGRpZmZlcmVudCBzdWJzZXRzIG9mIHRoZSBkYXRhIGFyZSBvbiB2YXN0bHkgZGlmZmVyZW50IHNjYWxlcy4gCi0gKFJhZGVtYWtlciwgMjAxNikgSWYgd2Ugd2FudCB0byBjb21wYXJlIGFjcm9zcyBmYWNldHMsIGBzY2FsZXMgPSAiZml4ZWQiYCBpcyBtb3JlIGFwcHJvcHJpYXRlLiBJZiBvdXIgZm9jdXMgaXMgb24gaW5kaXZpZHVhbCBwYXR0ZXJucyB3aXRoaW4gZWFjaCBmYWNldCwgc2V0dGluZyBgc2NhbGVzID0gImZyZWUiYCBtaWdodCBiZSBtb3JlIGFwcHJvcHJpYXRlLgoKLS0tCgojIyAyLjYuNiBFeGVyY2lzZXMKCjEuICBXaGF0J3MgdGhlIHByb2JsZW0gd2l0aCB0aGUgcGxvdCBjcmVhdGVkIGJ5IAogICAgYGdncGxvdChtcGcsIGFlcyhjdHksIGh3eSkpICsgZ2VvbV9wb2ludCgpYD8gV2hpY2ggb2YgdGhlIGdlb21zIAogICAgZGVzY3JpYmVkIGFib3ZlIGlzIG1vc3QgZWZmZWN0aXZlIGF0IHJlbWVkeWluZyB0aGUgcHJvYmxlbT8KCkFuc3dlcjogYXMgbm90ZWQgaW4gR0cgU29sdXRpb25zLCB0aGUgcHJvYmxlbSBpcyBvdmVycGxvdHRpbmcsIHdoaWNoIGBnZW9tX2ppdHRlcmAgZml4ZXM6CgpgYGB7cn0KZ2dwbG90KGdncGxvdDI6Om1wZywgYWVzKGN0eSwgaHd5KSkgKwogIGdlb21fcG9pbnQoKSArCiAgZ2VvbV9qaXR0ZXIoKQpgYGAKCkdHIFNvbHV0aW9uczoKCi0gVGhlIHByb2JsZW0gaXMgb3ZlcnBsb3R0aW5nLiAKClNvbHV0aW9uIDEuIFVzZSBgZ2VvbV9qaXR0ZXJgIHRvIGFkZCByYW5kb20gbm9pc2UgdG8gdGhlIGRhdGEgYW5kIGF2b2lkIG92ZXJwbG90dGluZy4KClNvbHV0aW9uIDIuIChSYWRlbWFrZXIsIDIwMTYpIFNldCBvcGFjaXR5IHdpdGggYGFscGhhYAoKLS0tCgoyLiAgT25lIGNoYWxsZW5nZSB3aXRoIGBnZ3Bsb3QobXBnLCBhZXMoY2xhc3MsIGh3eSkpICsgZ2VvbV9ib3hwbG90KClgCiAgICBpcyB0aGF0IHRoZSBvcmRlcmluZyBvZiBgY2xhc3NgIGlzIGFscGhhYmV0aWNhbCwgd2hpY2ggaXMgbm90IHRlcnJpYmx5IAogICAgdXNlZnVsLiBIb3cgY291bGQgeW91IGNoYW5nZSB0aGUgZmFjdG9yIGxldmVscyB0byBiZSBtb3JlIGluZm9ybWF0aXZlPyAKICAgIAogICAgUmF0aGVyIHRoYW4gcmVvcmRlcmluZyB0aGUgZmFjdG9yIGJ5IGhhbmQsIHlvdSBjYW4gZG8gaXQgYXV0b21hdGljYWxseQogICAgYmFzZWQgb24gdGhlIGRhdGE6CiAgICBgZ2dwbG90KG1wZywgYWVzKHJlb3JkZXIoY2xhc3MsIGh3eSksIGh3eSkpICsgZ2VvbV9ib3hwbG90KClgLgogICAgV2hhdCBkb2VzIGByZW9yZGVyKClgIGRvPyBSZWFkIHRoZSBkb2N1bWVudGF0aW9uLgoKQW5zd2VyOiBhcyBub3RlZCBpbiB0aGUgZXhlcmNpc2UsIG9yZGVyaW5nIG9mIGBjbGFzc2AgYnkgYGh3eWAgaXMgbW9yZSBpbmZvcm1hdGl2ZS4gYHJlb3JkZXIoKWAgcmVvcmRlcnMgbGV2ZWxzIGJhc2VkIG9uIHRoZSBzZWNvbmQsIG51bWVyaWMgdmFsdWUsIGJ5IGRlZmF1bHQgdXNpbmcgdGhlIG1lYW4uCgpgYGB7cn0KZ2dwbG90KGdncGxvdDI6Om1wZywgYWVzKGNsYXNzLCBod3kpKSArCiAgZ2VvbV9ib3hwbG90KCkKCmdncGxvdChnZ3Bsb3QyOjptcGcsIGFlcyhyZW9yZGVyKGNsYXNzLCBod3kpLCBod3kpKSArCiAgZ2VvbV9ib3hwbG90KCkKYGBgCgpHRyBTb2x1dGlvbnMgdGFrZXMgYSBzaW1pbGFyIGFwcHJvYWNoIGJ1dCBpbnN0ZWFkIHVzZXMgYG11dGF0ZShjbGFzcyA9IGZhY3RvcihjbGFzcyksIGNsYXNzID0gZmN0X3Jlb3JkZXIoY2xhc3MsIGh3eSkpYC4KCi0tLQoKMy4gIEV4cGxvcmUgdGhlIGRpc3RyaWJ1dGlvbiBvZiB0aGUgY2FyYXQgdmFyaWFibGUgaW4gdGhlIGBkaWFtb25kc2AKICAgIGRhdGFzZXQuIFdoYXQgYGJpbndpZHRoYCByZXZlYWxzIHRoZSBtb3N0IGludGVyZXN0aW5nIHBhdHRlcm5zPwoKQW5zd2VyOiB1c2luZyB0cmlhbCBhbmQgZXJyb3IsIGBiaW53aWR0aCA9IDAuMDFgIHJldmVhbHMgdGhhdCBjYXJhdCB3ZWlnaHQgaXMgc2tld2VkIHRvd2FyZHMgcm91bmQgbnVtYmVycyAoMSwgMS4yNSwgMS41LCAyLCBldGMuKS4gVXNpbmcgdGhlIHNtYWxsZXIgYGJpbndpZHRoID0gMC4wMDVgIGRvZXNuJ3QgaW1wcm92ZSB0aGUgcGF0dGVybiwgYW5kIG1ha2VzIGl0IGhhcmRlciB0byBzZWUuCgpgYGB7cn0KZ2dwbG90KGRpYW1vbmRzLCBhZXMoY2FyYXQpKSArCiAgZ2VvbV9oaXN0b2dyYW0oYmlud2lkdGggPSAwLjEpCgpnZ3Bsb3QoZGlhbW9uZHMsIGFlcyhjYXJhdCkpICsKICBnZW9tX2hpc3RvZ3JhbShiaW53aWR0aCA9IDAuMDEpCgpnZ3Bsb3QoZGlhbW9uZHMsIGFlcyhjYXJhdCkpICsKICBnZW9tX2hpc3RvZ3JhbShiaW53aWR0aCA9IDAuMDA1KQpgYGAKCkdHIFNvbHV0aW9uczoKCi0gVGhpcyBpcyBhIHN1YmplY3RpdmUgYW5zd2VyLCBidXQgYGJpbndpZHRoYCBvZiAwLjIgb3IgMC4zIHJldmVhbHMgdGhhdCB0aGUgZGlzdHJpYnV0aW9uIG9mIGNhcmF0IGlzIGhlYXZpbHkgc2tld2VkIHRvIHRoZSByaWdodC4gVGhpcyBtZWFucyB0aGF0IG1vc3QgZGlhbW9uZHMgY2FyYXRzIGFyZSBiZXR3ZWVuIDAgYW5kIDEuCgotLS0KCjQuICBFeHBsb3JlIHRoZSBkaXN0cmlidXRpb24gb2YgdGhlIHByaWNlIHZhcmlhYmxlIGluIHRoZSBgZGlhbW9uZHNgCiAgICBkYXRhLiBIb3cgZG9lcyB0aGUgZGlzdHJpYnV0aW9uIHZhcnkgYnkgY3V0PwoKQW5zd2VyOiBhIGJveHBsb3Qgb2YgcHJpY2UgYnkgY3V0IHNob3dzIHRoYXQgYmV0dGVyIGN1dHMgYXJlbid0IG5lY2Vzc2FyaWx5IG1vcmUgZXhwZW5zaXZlLgoKSG93ZXZlciwgYXMgbm90ZWQgaW4gbXkgW1IgVHJhaW5pbmcgTG9nXShyLXRyYWluaW5nLWxvZy5odG1sKToKCj4gWzcuNiBQYXR0ZXJucyBhbmQgbW9kZWxzXShodHRwczovL3I0ZHMuaGFkLmNvLm56L2V4cGxvcmF0b3J5LWRhdGEtYW5hbHlzaXMuaHRtbCNwYXR0ZXJucy1hbmQtbW9kZWxzKSBjb3ZlcnMgbW9kZWxzIGFuZCByZXNpZHVhbHMsIGhlcmUgc2hvd2luZyBob3cgdG8gcmV2ZWFsIHRoZSBleHBlY3RlZCByZWxhdGlvbnNoaXAgYmV0d2VlbiBjdXQgYW5kIHByaWNlOgoKV2UgY2FuIHJlbW92ZSB0aGUgcmVsYXRpb25zaGlwIGJldHdlZW4gY2FyYXRzIGFuZCBwcmljZSwgYW5kIHJlZG8gdGhlIGJveHBsb3Q6CgpgYGB7cn0KZ2dwbG90KGRpYW1vbmRzLCBhZXMoY3V0LCBwcmljZSkpICsKICBnZW9tX2JveHBsb3QoKQoKIyByZW1vdmUgY2FyYXQgd2VpZ2h0IGFzIGEgY29uZm91bmRpbmcgdmFyaWFibGUKbW9kIDwtIGxtKGxvZyhwcmljZSkgfiBsb2coY2FyYXQpLCBkYXRhID0gZGlhbW9uZHMpCgpkaWFtb25kczIgPC0gZGlhbW9uZHMgfD4KICBhZGRfcmVzaWR1YWxzKG1vZCkgfD4KICBtdXRhdGUocmVzaWQgPSBleHAocmVzaWQpKQoKZ2dwbG90KGRhdGEgPSBkaWFtb25kczIpICsKICBnZW9tX2JveHBsb3QobWFwcGluZyA9IGFlcyh4ID0gY3V0LCB5ID0gcmVzaWQpKQpgYGAKCkdHIFNvbHV0aW9ucyB1c2VzIGJvdGggYSBib3hwbG90IGFuZCBhIGZyZXF1ZW5jeSBwb2x5Z29uIHRvIGNvbXBhcmUgY3V0cywgYW5kIGNvbmNsdWRlczoKCi0gKFJhZGVtYWtlciwgMjAxNikgRmFpciBxdWFsaXR5IGRpYW1vbmRzIGFyZSBtb3JlIGV4cGVuc2l2ZSB0aGVuIG90aGVycy4gUG9zc2libGUgcmVhc29uIGlzIHRoZXkgYXJlIGJpZ2dlci4KCi0tLQoKNS4gIFlvdSBub3cga25vdyAoYXQgbGVhc3QpIHRocmVlIHdheXMgdG8gY29tcGFyZSB0aGUgZGlzdHJpYnV0aW9ucyBvZiAKICAgIHN1Ymdyb3VwczogYGdlb21fdmlvbGluKClgLCBgZ2VvbV9mcmVxcG9seSgpYCBhbmQgdGhlIGNvbG91ciBhZXN0aGV0aWMsCiAgICBvciBgZ2VvbV9oaXN0b2dyYW0oKWAgYW5kIGZhY2V0aW5nLiBXaGF0IGFyZSB0aGUgc3RyZW5ndGhzIGFuZCB3ZWFrbmVzc2VzIAogICAgb2YgZWFjaCBhcHByb2FjaD8gV2hhdCBvdGhlciBhcHByb2FjaGVzIGNvdWxkIHlvdSB0cnk/CgpBbnN3ZXI6IFZpb2xpbiBwbG90cyBjb252ZXkgdGhlIG1vc3QgaW5mb3JtYXRpb24gYnV0IHJlcXVpcmUgYW4gdW5kZXJzdGFuZGluZyBvZiBwcm9iYWJpbGl0eSBkZW5zaXR5LiBGcmVxdWVuY3kgcG9seWdvbnMgYWxsb3cgZm9yIGRpcmVjdCBjb21wYXJpc29uIG9uIHRoZSBzYW1lIHBsb3QgLSBpbiBjb250cmFzdCwgZmFjZXRlZCBoaXN0b2dyYW1zIHByb3ZpZGUgYSBiZXR0ZXIgdmlzdWFsaXphdGlvbiBvZiBlYWNoIHZhcmlhYmxlLCBidXQgbWFrZSBjb21wYXJpc29uIG1vcmUgZGlmZmljdWx0LiBPdGhlciBhcHByb2FjaGVzIGluY2x1ZGUgY29tcGFyaW5nIGJveHBsb3RzLCBtdWx0aXBsZSBkZW5zaXR5IHBsb3RzLCBvciBzaWRlLWJ5LXNpZGUgaGlzdG9ncmFtcyAtIGEgYmFyIHBsb3Qgc2hvd2luZyBtdWx0aXBsZSB2YXJpYWJsZXMgZm9yIGVhY2ggYmluLgoKR0cgU29sdXRpb25zOgoKLSBBY2NvcmRpbmcgdG8gdGhlIGJvb2ssIGBnZW9tX3Zpb2xpbigpYCBzaG93cyBhIGNvbXBhY3QgcmVwcmVzZW50YXRpb24gb2YgdGhlICJkZW5zaXR5IiBvZiB0aGUgZGlzdHJpYnV0aW9uLCBoaWdobGlnaHRpbmcgdGhlIGFyZWFzIHdoZXJlIG1vcmUgcG9pbnRzIGFyZSBmb3VuZC4gSXRzIHdlYWtuZXNzIGlzIHRoYXQgdmlvbGluIHBsb3RzIHJlbHkgb24gdGhlIGNhbGN1bGF0aW9uIG9mIGEgZGVuc2l0eSBlc3RpbWF0ZSwgd2hpY2ggaXMgaGFyZCB0byBpbnRlcnByZXQuCi0gQWNjb3JkaW5nIHRvIHRoZSBib29rLCBgZ2VvbV9mcmVxcGxveSgpYCBiaW5zIHRoZSBkYXRhLCB0aGVuIGNvdW50cyB0aGUgbnVtYmVyIG9mIG9ic2VydmF0aW9ucyBpbiBlYWNoIGJpbiB1c2luZyBsaW5lcy4gT25lIHBvc3NpYmxlIHdlYWtuZXNzIGlzIHRoYXQgeW91IGhhdmUgdG8gc2VsZWN0IHRoZSB3aWR0aCBvZiB0aGUgYmlucyB5b3Vyc2VsZiBieSBleHBlcmltZW50YXRpb24uCi0gQWNjb3JkaW5nIHRvIHRoZSBib29rLCBgZ2VvbV9oaXN0b2dyYW0oKWAgYW5kIGZhY2V0aW5nIG1ha2VzIGl0IGVhc2llciB0byBzZWUgdGhlIGRpc3RyaWJ1dGlvbiBvZiBlYWNoIGdyb3VwLCBidXQgbWFrZXMgY29tcGFyaXNvbnMgYmV0d2VlbiBncm91cHMgYSBsaXR0bGUgaGFyZGVyLgoKLS0tCgo2LiAgUmVhZCB0aGUgZG9jdW1lbnRhdGlvbiBmb3IgYGdlb21fYmFyKClgLiBXaGF0IGRvZXMgdGhlIGB3ZWlnaHRgIAogICAgYWVzdGhldGljIGRvPyAKCkFuc3dlcjogZm9yIGBnZW9tX2JhcigpYCwgdGhlIGB3ZWlnaHRgIGFlc3RoZXRpYyBjaGFuZ2VzIHRoZSBoZWlnaHQgb2YgdGhlIGJhciBmcm9tIHRoZSBudW1iZXIgb2YgY2FzZXMgaW4gZWFjaCBncm91cCB0byB0aGUgc3VtIG9mIHRoZSB3ZWlnaHRzLgoKR0cgU29sdXRpb25zOgoKLSBUaGUgYHdlaWdodGAgYWVzdGhldGljIGNvbnZlcnRzIHRoZSBudW1iZXIgb2YgY2FzZXMgdG8gYSB3ZWlnaHQgYW5kIG1ha2VzIHRoZSBoZWlnaHQgb2YgdGhlIGJhciBwcm9wb3J0aW9uYWwgdG8gdGhlIHN1bSBvZiB0aGUgd2VpZ2h0cy4gU2VlIGJlbG93OgoKYGBge3J9CmcgPC0gZ2dwbG90KGdncGxvdDI6Om1wZywgYWVzKGNsYXNzKSkKIyBOdW1iZXIgb2YgY2FycyBpbiBlYWNoIGNsYXNzOgpnICsgZ2VvbV9iYXIoKQojIFRvdGFsIGVuZ2luZSBkaXNwbGFjZW1lbnQgb2YgZWFjaCBjbGFzcwpnICsgZ2VvbV9iYXIoYWVzKHdlaWdodCA9IGRpc3BsKSkKYGBgCgotLS0KCjcuICBVc2luZyB0aGUgdGVjaG5pcXVlcyBhbHJlYWR5IGRpc2N1c3NlZCBpbiB0aGlzIGNoYXB0ZXIsIGNvbWUgdXAgd2l0aAogICAgdGhyZWUgd2F5cyB0byB2aXN1YWxpc2UgYSAyZCBjYXRlZ29yaWNhbCBkaXN0cmlidXRpb24uIFRyeSB0aGVtIG91dCAKICAgIGJ5IHZpc3VhbGlzaW5nIHRoZSBkaXN0cmlidXRpb24gb2YgYG1vZGVsYCBhbmQgYG1hbnVmYWN0dXJlcmAsIGB0cmFuc2AgYW5kIAogICAgYGNsYXNzYCwgYW5kIGBjeWxgIGFuZCBgdHJhbnNgLgoKQW5zd2VyOiB0aHJlZSB3YXlzIHRvIHZpc3VhbGl6ZSBjYXRlZ29yaWNhbCBkaXN0cmlidXRpb25zOgoKLSBCYXIgY2hhcnRzCi0gQSBzY2F0dGVycGxvdCB1c2luZyBhbHBoYQotIEEgc2NhdHRlcnBsb3QgdXNpbmcgc2l6ZQoKYGBge3J9CmdncGxvdDI6Om1wZ1tjKCJtYW51ZmFjdHVyZXIiLCAibW9kZWwiKV0gfD4KICB1bmlxdWUoKSB8PgogIGdncGxvdChhZXMobWFudWZhY3R1cmVyKSkgKwogIGdlb21fYmFyKGNvbG9yID0gImJsYWNrIiwgZmlsbCA9ICJ3aGl0ZSIsIHdpZHRoID0gMC44KSArCiAgY29vcmRfZmxpcCgpICsKICBzY2FsZV94X2Rpc2NyZXRlKGxpbWl0cyA9IHJldikgKwogIGxhYnMoeCA9ICIiLCB5ID0gIm1vZGVscyIpICsKICB0aGVtZV9xdW8oKQoKZ2dwbG90Mjo6bXBnIHw+CiAgZ2dwbG90KGFlcyh0cmFucywgY2xhc3MpKSArCiAgZ2VvbV9wb2ludChhbHBoYSA9IDAuMSkgKwogIHNjYWxlX3lfZGlzY3JldGUobGltaXRzID0gcmV2KSArCiAgbGFicyh4ID0gIiIsIHkgPSAiIikgKwogIHRoZW1lX3F1bygpCgpnZ3Bsb3QyOjptcGcgfD4KICBjb3VudCh0cmFucywgY3lsKSB8PgogIGdncGxvdChhZXMoY3lsLCB0cmFucywgc2l6ZSA9IG4pKSArCiAgZ2VvbV9wb2ludCgpICsKICBzY2FsZV95X2Rpc2NyZXRlKGxpbWl0cyA9IHJldikgKwogIGxhYnMoeCA9ICJjeWxpbmRlcnMiLCB5ID0gIiIsIHNpemUgPSAiY291bnQiKSArCiAgdGhlbWVfcXVvKG1pbm9yLnggPSBGQUxTRSkKYGBgCgpHRyBTb2x1dGlvbnMgZG9lcyBub3QgcHJvdmlkZSBhbiBhbnN3ZXIuCgotLS0K</div>


</div>
</div>

</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.odd').parent('tbody').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- tabsets -->

<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});

$(document).ready(function () {
  $('.tabset-dropdown > .nav-tabs > li').click(function () {
    $(this).parent().toggleClass('nav-tabs-open');
  });
});
</script>

<!-- code folding -->
<script>
$(document).ready(function () {
  window.initializeSourceEmbed("ggplot2-1.Rmd");
  window.initializeCodeFolding("show" === "show");
});
</script>

<script>
$(document).ready(function ()  {

    // temporarily add toc-ignore selector to headers for the consistency with Pandoc
    $('.unlisted.unnumbered').addClass('toc-ignore')

    // move toc-ignore selectors from section div to header
    $('div.section.toc-ignore')
        .removeClass('toc-ignore')
        .children('h1,h2,h3,h4,h5').addClass('toc-ignore');

    // establish options
    var options = {
      selectors: "h1,h2,h3",
      theme: "bootstrap3",
      context: '.toc-content',
      hashGenerator: function (text) {
        return text.replace(/[.\\/?&!#<>]/g, '').replace(/\s/g, '_');
      },
      ignoreSelector: ".toc-ignore",
      scrollTo: 0
    };
    options.showAndHide = true;
    options.smoothScroll = false;

    // tocify
    var toc = $("#TOC").tocify(options).data("toc-tocify");
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
