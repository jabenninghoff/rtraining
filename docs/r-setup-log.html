<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />



<meta name="date" content="2020-12-30" />

<title>R Setup Log</title>

<script src="site_libs/header-attrs-2.25/header-attrs.js"></script>
<script src="site_libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
<link href="site_libs/bootstrap-5.2.2/bootstrap.min.css" rel="stylesheet" />
<script src="site_libs/bootstrap-5.2.2/bootstrap.bundle.min.js"></script>
<script src="site_libs/bs3compat-0.5.1/transition.js"></script>
<script src="site_libs/bs3compat-0.5.1/tabs.js"></script>
<script src="site_libs/bs3compat-0.5.1/bs3compat.js"></script>
<script src="site_libs/jqueryui-1.13.2/jquery-ui.min.js"></script>
<link href="site_libs/tocify-1.9.1/jquery.tocify.css" rel="stylesheet" />
<script src="site_libs/tocify-1.9.1/jquery.tocify.js"></script>
<script src="site_libs/navigation-1.1/tabsets.js"></script>
<script src="site_libs/navigation-1.1/codefolding.js"></script>
<script src="site_libs/navigation-1.1/sourceembed.js"></script>
<link href="site_libs/highlightjs-9.12.0/textmate.css" rel="stylesheet" />
<script src="site_libs/highlightjs-9.12.0/highlight.js"></script>
<link href="site_libs/pagedtable-1.1/css/pagedtable.css" rel="stylesheet" />
<script src="site_libs/pagedtable-1.1/js/pagedtable.js"></script>
<link href="site_libs/font-awesome-6.4.2/css/all.min.css" rel="stylesheet" />
<link href="site_libs/font-awesome-6.4.2/css/v4-shims.min.css" rel="stylesheet" />

<style type="text/css">
  code{white-space: pre-wrap;}
  span.smallcaps{font-variant: small-caps;}
  span.underline{text-decoration: underline;}
  div.column{display: inline-block; vertical-align: top; width: 50%;}
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
  ul.task-list{list-style: none;}
    </style>

<style type="text/css">code{white-space: pre;}</style>
<script type="text/javascript">
if (window.hljs) {
  hljs.configure({languages: []});
  hljs.initHighlightingOnLoad();
  if (document.readyState && document.readyState === "complete") {
    window.setTimeout(function() { hljs.initHighlighting(); }, 0);
  }
}
</script>




<style type="text/css">
#rmd-source-code {
  display: none;
}
</style>





<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
img {
  max-width:100%;
}
.tabbed-pane {
  padding-top: 12px;
}
.html-widget {
  margin-bottom: 20px;
}
button.code-folding-btn:focus {
  outline: none;
}
summary {
  display: list-item;
}
details > summary > p:only-child {
  display: inline;
}
pre code {
  padding: 0;
}
</style>


<style type="text/css">
.dropdown-submenu {
  position: relative;
}
.dropdown-submenu>.dropdown-menu {
  top: 0;
  left: 100%;
  margin-top: -6px;
  margin-left: -1px;
  border-radius: 0 6px 6px 6px;
}
.dropdown-submenu:hover>.dropdown-menu {
  display: block;
}
.dropdown-submenu>a:after {
  display: block;
  content: " ";
  float: right;
  width: 0;
  height: 0;
  border-color: transparent;
  border-style: solid;
  border-width: 5px 0 5px 5px;
  border-left-color: #cccccc;
  margin-top: 5px;
  margin-right: -10px;
}
.dropdown-submenu:hover>a:after {
  border-left-color: #adb5bd;
}
.dropdown-submenu.pull-left {
  float: none;
}
.dropdown-submenu.pull-left>.dropdown-menu {
  left: -100%;
  margin-left: 10px;
  border-radius: 6px 0 6px 6px;
}
</style>

<script type="text/javascript">
// manage active state of menu based on current page
$(document).ready(function () {
  // active menu anchor
  href = window.location.pathname
  href = href.substr(href.lastIndexOf('/') + 1)
  if (href === "")
    href = "index.html";
  var menuAnchor = $('a[href="' + href + '"]');

  // mark the anchor link active (and if it's in a dropdown, also mark that active)
  var dropdown = menuAnchor.closest('li.dropdown');
  if (window.bootstrap) { // Bootstrap 4+
    menuAnchor.addClass('active');
    dropdown.find('> .dropdown-toggle').addClass('active');
  } else { // Bootstrap 3
    menuAnchor.parent().addClass('active');
    dropdown.addClass('active');
  }

  // Navbar adjustments
  var navHeight = $(".navbar").first().height() + 15;
  var style = document.createElement('style');
  var pt = "padding-top: " + navHeight + "px; ";
  var mt = "margin-top: -" + navHeight + "px; ";
  var css = "";
  // offset scroll position for anchor links (for fixed navbar)
  for (var i = 1; i <= 6; i++) {
    css += ".section h" + i + "{ " + pt + mt + "}\n";
  }
  style.innerHTML = "body {" + pt + "padding-bottom: 40px; }\n" + css;
  document.head.appendChild(style);
});
</script>

<!-- tabsets -->

<style type="text/css">
.tabset-dropdown > .nav-tabs {
  display: inline-table;
  max-height: 500px;
  min-height: 44px;
  overflow-y: auto;
  border: 1px solid #ddd;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs > li.active:before, .tabset-dropdown > .nav-tabs.nav-tabs-open:before {
  content: "\e259";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li.active:before {
  content: "\e258";
  font-family: 'Glyphicons Halflings';
  border: none;
}

.tabset-dropdown > .nav-tabs > li.active {
  display: block;
}

.tabset-dropdown > .nav-tabs > li > a,
.tabset-dropdown > .nav-tabs > li > a:focus,
.tabset-dropdown > .nav-tabs > li > a:hover {
  border: none;
  display: inline-block;
  border-radius: 4px;
  background-color: transparent;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li {
  display: block;
  float: none;
}

.tabset-dropdown > .nav-tabs > li {
  display: none;
}
</style>

<!-- code folding -->
<style type="text/css">
.code-folding-btn { margin-bottom: 4px; }
</style>



<style type="text/css">

#TOC {
  margin: 25px 0px 20px 0px;
}
@media (max-width: 768px) {
#TOC {
  position: relative;
  width: 100%;
}
}

@media print {
.toc-content {
  /* see https://github.com/w3c/csswg-drafts/issues/4434 */
  float: right;
}
}

.toc-content {
  padding-left: 30px;
  padding-right: 40px;
}

div.main-container {
  max-width: 1200px;
}

div.tocify {
  width: 20%;
  max-width: 260px;
  max-height: 85%;
}

@media (min-width: 768px) and (max-width: 991px) {
  div.tocify {
    width: 25%;
  }
}

@media (max-width: 767px) {
  div.tocify {
    width: 100%;
    max-width: none;
  }
}

.tocify ul, .tocify li {
  line-height: 20px;
}

.tocify-subheader .tocify-item {
  font-size: 0.90em;
}

.tocify .list-group-item {
  border-radius: 0px;
}

.tocify-subheader {
  display: inline;
}
.tocify-subheader .tocify-item {
  font-size: 0.95em;
}

</style>



</head>

<body>


<div class="container-fluid main-container">


<!-- setup 3col/9col grid for toc_float and main content  -->
<div class="row">
<div class="col-xs-12 col-sm-4 col-md-3">
<div id="TOC" class="tocify">
</div>
</div>

<div class="toc-content col-xs-12 col-sm-8 col-md-9">




<div class="navbar navbar-default  navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-bs-toggle="collapse" data-target="#navbar" data-bs-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html">rtraining notebooks</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="reference/index.html">Reference</a>
</li>
<li>
  <a href="news/index.html">Changelog</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Analysis
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="FaultTree.html">FaultTree.widget Test</a>
    </li>
    <li>
      <a href="advanced-r-1.html">Advanced R Workbook (Foundations)</a>
    </li>
    <li>
      <a href="advanced-r-2.html">Advanced R Workbook (Functional programming)</a>
    </li>
    <li>
      <a href="advanced-r-3.html">Advanced R Workbook (Object-oriented programming)</a>
    </li>
    <li>
      <a href="advanced-r-4.html">Advanced R Workbook (Metaprogramming)</a>
    </li>
    <li>
      <a href="ggplot2-1.html">ggplot2 (Getting started)</a>
    </li>
    <li>
      <a href="ggplot2-2.html">ggplot2 (Layers)</a>
    </li>
    <li>
      <a href="ggplot2-3.html">ggplot2 (Scales)</a>
    </li>
    <li>
      <a href="ggplot2-4.html">ggplot2 (Grammar)</a>
    </li>
    <li>
      <a href="ggplot2-5.html">ggplot2 (Extending)</a>
    </li>
    <li>
      <a href="r-setup-log.html">R Setup Log</a>
    </li>
    <li>
      <a href="r-training-log.html">R Training Log</a>
    </li>
  </ul>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/jabenninghoff/rtraining/">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

<div id="header">

<div class="btn-group pull-right float-right">
<button type="button" class="btn btn-default btn-xs btn-secondary btn-sm dropdown-toggle" data-toggle="dropdown" data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false"><span>Code</span> <span class="caret"></span></button>
<ul class="dropdown-menu dropdown-menu-right" style="min-width: 50px;">
<li><a id="rmd-show-all-code" href="#">Show All Code</a></li>
<li><a id="rmd-hide-all-code" href="#">Hide All Code</a></li>
<li role="separator" class="divider"></li>
<li><a id="rmd-download-source" href="#">Download Rmd</a></li>
</ul>
</div>



<h1 class="title toc-ignore">R Setup Log</h1>
<h4 class="date">2020-12-30</h4>

</div>


<p>My notes on my personal R setup. I started my R journey in <a
href="https://www.information-safety.org/2020/09/11/working-with-r/">September
2020</a> after <a
href="https://societyinforisk.org/event-3899786">SIRACon 2020</a>.</p>
<pre class="r"><code># no libraries</code></pre>
<div id="installing-r" class="section level1">
<h1>Installing R</h1>
<p>I prefer installing R and RStudio using <a
href="https://brew.sh">Homebrew</a>. I use <a
href="https://github.com/Homebrew/homebrew-bundle">Homebrew Bundle</a>
to install all software on my systems, but installing R and RStudio is
simple enough using the command line:</p>
<!-- note: lintr version <= 2.0.1 throws an error when using language identifiers: <https://github.com/r-lib/lintr/issues/505> -->
<pre class="sh"><code>brew install --formula r &amp;&amp; brew install --cask rstudio</code></pre>
<div id="r-variants" class="section level2">
<h2>R Variants</h2>
<p><strong>TL;DR: just use homebrew.</strong></p>
<p>I don’t recommend installing the <code>cask</code> variant of r
because it creates problems with <code>brew doctor</code>:</p>
<pre class="sh"><code>brew info --cask r</code></pre>
<pre><code>## ==&gt; r: 4.3.2
## https://www.r-project.org/
## Not installed
## From: https://github.com/Homebrew/homebrew-cask/blob/HEAD/Casks/r/r.rb
## ==&gt; Name
## R
## ==&gt; Description
## Environment for statistical computing and graphics
## ==&gt; Artifacts
## R-4.3.2-x86_64.pkg (Pkg)
## ==&gt; Analytics
## install: 849 (30 days), 2,498 (90 days), 5,937 (365 days)</code></pre>
<p>I tried “<a
href="https://luispuerto.net/blog/2018/05/11/installing-r-with-homebrew-with-all-the-capabilities/">installing
all the things</a>” with <a
href="https://github.com/sethrfore/homebrew-r-srf">homebrew-r-srf</a>
but didn’t like how the uninstall doesn’t clean up, and frankly, I
haven’t found a need for more than the capabilities included with
homebrew R:</p>
<pre class="r"><code>capabilities()</code></pre>
<pre><code>##        jpeg         png        tiff       tcltk         X11        aqua    http/ftp     sockets 
##        TRUE        TRUE        TRUE        TRUE        TRUE        TRUE        TRUE        TRUE 
##      libxml        fifo      cledit       iconv         NLS       Rprof     profmem       cairo 
##       FALSE        TRUE        TRUE        TRUE        TRUE        TRUE        TRUE        TRUE 
##         ICU long.double     libcurl 
##        TRUE        TRUE        TRUE</code></pre>
<p>Currently, this is everything except the X11 dependencies, which
aren’t really needed:</p>
<pre class="r"><code>?capabilities</code></pre>
<blockquote>
<p><strong>Note to macOS users</strong></p>
<p>Capabilities “jpeg”, “png” and “tiff” refer to the X11-based versions
of these devices. If capabilities(“aqua”) is true, then these devices
with type = “quartz” will be available, and out-of-the-box will be the
default type. Thus for example the tiff device will be available if
capabilities(“aqua”) || capabilities(“tiff”) if the defaults are
unchanged.</p>
</blockquote>
<p>As an active contributor to Homebrew, I <em>strongly</em> recommend
using it for any/all software; their quality control is excellent.</p>
</div>
</div>
<div id="r-workspace" class="section level1">
<h1>R Workspace</h1>
<p>Once R and RStudio have been installed, you’ll need a development
environment and some packages.</p>
<div id="development-environment" class="section level2">
<h2>Development Environment</h2>
<p>Well, obviously, I use <a
href="https://posit.co/download/rstudio-desktop/">RStudio</a>. There are
other IDEs available, and it’s also possible to develop using the
command line, but RStudio provides a pleasant, integrated experience for
R development, and actively supports the R community. I don’t typically
use the built-in Git client, instead using the GitHub Desktop client and
git command-line tool.</p>
<pre class="sh"><code>brew install github</code></pre>
<p>I also occasionally use <code>vim</code> (mainly for shell scripts)
and <a href="https://atom.io">atom</a> (mainly for vanilla
<code>.md</code> files using <a
href="https://atom.io/packages/markdown-preview-enhanced">markdown-preview-enhanced</a>).</p>
</div>
<div id="packages" class="section level2">
<h2>Packages</h2>
<p>Managing packages and environments are a challenge for most modern
languages. Thankfully R doesn’t have the same level of challenge as
python, or even ruby, managing packages available within a project is a
best practice. I use <a href="https://github.com/rstudio/renv">renv</a>
for this purpose. (I originally discovered <a
href="https://rstudio.github.io/packrat/">packrat</a> but quickly
discovered RStudio is replacing it with renv)</p>
<p>Here is my package maintenance approach:</p>
<div id="base-r-packages" class="section level3">
<h3>Base R Packages</h3>
<p>With no projects open, I periodically check for updates to the base R
packages using the RStudio Packages “Update” function. These are the
only packages I install to the base directory
<code>/usr/local/Cellar/r/4.0.3_2/lib/R/library</code>. <em>Note:
upgrading or reinstalling r through homebrew may ‘downgrade’ the base
packages.</em></p>
</div>
<div id="development-packages" class="section level3">
<h3>Development Packages</h3>
<p>The only other tools I install outside of projects are for supporting
development. Originally this was just renv, but now it includes a number
of development tools needed to create projects. I use the R site library
used by <a
href="https://github.com/Homebrew/homebrew-core/blob/master/Formula/r/r.rb">homebrew</a>,
currently <code>/usr/local/lib/R/4.0/site-library</code>. I’ve developed
a shell script to install development packages that you can find in the
tools directory of <a
href="https://github.com/jabenninghoff/rtraining">this
repository</a>.</p>
<pre class="sh"><code>#!/bin/sh
# install development packages to site repository
# thanks to https://blog.sellorm.com/2017/10/21/quick-script-to-install-an-r-package-from-the-command-line/
# and https://github.com/Homebrew/homebrew-core/blob/master/Formula/r/r.rb
# designed to work with homebrew: `brew install --formula r &amp;&amp; brew install --cask rstudio`
set -ex # halt script on error, echo on

PREFIX=`brew --prefix`
RVERSION=`${PREFIX}/bin/Rscript -e &#39;cat(as.character(getRversion()[1,1:2]))&#39;`
SITELIB=&quot;${PREFIX}/lib/R/${RVERSION}/site-library&quot;
DEVPKG=&#39;c(&quot;renv&quot;, &quot;styler&quot;, &quot;lintr&quot;, &quot;miniUI&quot;, &quot;devtools&quot;, &quot;available&quot;)&#39;

if [ ! -d &quot;${SITELIB}&quot; ]
then
    echo &quot;fatal error: ${SITELIB} does not exist - not using \`brew install --formula r\`?&quot;
    exit 1
fi

brew install libgit2 # required by devtools

echo &quot;install.packages(${DEVPKG}, repos=\&quot;https://cran.rstudio.com\&quot;, lib=\&quot;${SITELIB}\&quot;)&quot; | R --no-save</code></pre>
</div>
<div id="project-packages" class="section level3">
<h3>Project Packages</h3>
<p>Any packages <em>not</em> needed to create projects I install within
a project using renv - here are some good intros:</p>
<ul>
<li>A <a
href="https://www.rstudio.com/resources/rstudioconf-2020/renv-project-environments-for-r/">presentation
at rstudio::conf 2020</a></li>
<li>The <a
href="https://posit.co/blog/renv-project-environments-for-r/">RStudio
Blog post</a></li>
<li>An <a
href="https://rstudio.github.io/renv/articles/renv.html">Introduction to
renv</a></li>
<li><a href="https://github.com/rstudio/renv">renv</a> on GitHub</li>
</ul>
<pre class="r"><code>renv::init() # to set up renv in the project
renv::install(&quot;rtraining&quot;) # to install a package
renv::status() # checks if renv.lock is in sync
renv::snapshot() # save libraries in renv.lock
renv::restore() # restore libraries from renv.lock - use when first using an existing project
renv::clean() # remove extra libraries
renv::update() # check for unpdated versions of installed libraries</code></pre>
<p>If you’re installing (development) versions of packages from GitHub,
you’ll be prompted to set up a personal access token using
<code>create_github_token()</code> and adding it to your
<code>.Renviron</code> as <code>GITHUB_PAT=</code> using
<code>usethis::edit_r_environ()</code>. I had to install the development
versions of both <code>styler</code> and <code>lintr</code> due to bugs
not yet fixed in the released (CRAN) versions. I did also look at using
<a href="https://pak.r-lib.org">pak</a> but found it too buggy to
use.</p>
<p><em>Note:</em> I came across an odd quirk where renv will prompt you
to upgrade base R projects, even if they’re not used. I resolved these
by just upgrading the base packages with RStudio with no project
open.</p>
<p>I’ve included some comments on useful packages in my <em>R Training
Log</em> notebook.</p>
</div>
</div>
</div>
<div id="using-r" class="section level1">
<h1>Using R</h1>
<p>So - what have I learned about using R? I won’t cover the actual Data
Science part here, but have some recommended reading in my <em>R
Training Log</em>.</p>
<div id="use-git" class="section level2">
<h2>Use git!</h2>
<p>This wasn’t really something I learned with R, but use of version
control for any kind of code/script is crucial. These days, I keep all
scripts and configuration files in some flavor of public or private
version control. Mostly that means GitHub, but also private git servers
(via ssh) are easy to set up for work that you want to keep off of
GitHub.</p>
<p>I don’t want to get too much into managing code via version control,
but I favor trunk-based development with short-lived branches, small
commits of working code, and rebase and merge for linear commit history.
There’s a lot of good research on this topic from Google’s <a
href="https://cloud.google.com/devops">Dev Ops Research and
Assessment</a> team.</p>
</div>
<div id="using-rstudio-with-github" class="section level2">
<h2>Using RStudio with GitHub</h2>
<p>RStudio has good integration with GitHub. I’ve adopted the convention
of “one RStudio Project (.Rproj) per repository” and storing the Rproj
file in the repository. That seems to be the norm.</p>
</div>
<div id="r-notebooks" class="section level2">
<h2>R Notebooks</h2>
<p>R Notebooks are my preferred file format for data analysis, as they
allow an easy mixing of text (using pandoc markdown) and R code chunks.
This allows me to document what I’m doing as I go, both for
reproducibility as well as recording my observations, thoughts and
conclusions. It especially lends itself to iterative development:</p>
<ol style="list-style-type: decimal">
<li>Write code</li>
<li>Run code</li>
<li>See results</li>
<li>Update code</li>
</ol>
<p>This method of development is not always appropriate, but fits well
with exploratory analysis. Once I get to writing functions, I’m starting
to adopt the formal structure of <a
href="https://r-pkgs.org/index.html">packages</a>, <a
href="https://testthat.r-lib.org">testthat</a>, and <a
href="https://roxygen2.r-lib.org">roxygen2</a>.</p>
<p>Specifically, I use <code>html_notebook</code>, which was recommended
to me. RStudio handles this differently than
<code>html_document</code>:</p>
<table>
<colgroup>
<col width="21%" />
<col width="39%" />
<col width="39%" />
</colgroup>
<thead>
<tr class="header">
<th>Behavior</th>
<th><code>html_notebook</code></th>
<th><code>html_document</code></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Quick View</td>
<td>Preview Button</td>
<td>No Preview Button</td>
</tr>
<tr class="even">
<td>Saving Files</td>
<td>Automatically knits file on save</td>
<td>Manually knit file</td>
</tr>
<tr class="odd">
<td>Rendering Files</td>
<td>Renders R output as it exists in the IDE on save</td>
<td>Renders R output by running all R code</td>
</tr>
<tr class="even">
<td>Default Options</td>
<td>Includes options for readability, hiding and downloading code, and
paged tables</td>
<td>Higher-quality rendering of PNG graphics</td>
</tr>
</tbody>
</table>
<p>Essentially, R Notebooks are generally faster and more convenient
when <em>doing</em> analysis, and <code>html_document</code> R Markdown
files offer higher-quality output. This site uses a custom framework to
convert html_notebooks to html_documents for publishing (see the next
section for details). They are also a convenient way to share analysis
with peers - just email the <code>.nb.html</code> file, which will
include all of the output, as well as embedding the <code>.Rmd</code>
source code for easy editing. This also allows people who don’t have
R/RStudio to see the results of an analysis.</p>
<p>There are some drawbacks to using R Notebooks:</p>
<ul>
<li>Because R Notebooks are render-on-save, you can inadvertently end up
with missing or outdated R output from your notebook when saving, if
you’ve made updates and haven’t re-run the entire document. My habit is
to do the following at the end of a writing session, before committing
to git, which ensures a “clean” notebook:
<ol style="list-style-type: decimal">
<li>Clear the Global Environment</li>
<li>“Restart R and Clear Output”</li>
<li>“Run All”</li>
<li>Save</li>
</ol></li>
<li><a
href="https://support.posit.co/hc/en-us/articles/205612627-Debugging-with-RStudio#debugging-in-r-markdown-documents">Debug
breakpoints don’t work in R Markdown documents</a>. To fix this, <a
href="https://bookdown.org/yihui/rmarkdown-cookbook/purl.html">convert R
Markdown documents to R Scripts using purl</a> for debugging.</li>
<li>Not really a drawback, but…<code>Rcpp</code> and
<code>rprojroot</code> are erroneously listed in RStudio as required to
create R Markdown, which can also cause problems with <code>renv</code>.
This is a <a href="https://github.com/rstudio/rstudio/issues/7935">bug
in RStudio</a>, which will be fixed in version 1.4.944.</li>
</ul>
</div>
<div id="publishing-r-notebooks" class="section level2">
<h2>Publishing R Notebooks</h2>
<p>Since R Notebooks are saved as html files, it’s possible to publish
them on GitHub using GitHub pages. GitHub published a <a
href="https://resources.github.com/github-and-rstudio/">tutorial</a> in
2018 on getting RStudio integrated with GitHub, and I started working on
that. Quickly I discovered that while the tutorial was helpful, it
wasn’t quite the setup I wanted; it published R Markdown through GitHub
pages, but wouldn’t directly support the automatically generated html of
R Notebooks. After more searching, I was able to get Notebooks working
on GitHub, but I used the method described in <a
href="https://github.com/rstudio/rmarkdown/issues/1020">rstudio/rmarkdown
#1020</a> - checking in the .nb.html into git, and using GitHub Pages so
that you can view the rendered HTML instead of just the HTML code.</p>
<div id="publishing-with-rmarkdown" class="section level3">
<h3>Publishing with rmarkdown</h3>
<p>After using <code>README.md</code> and GitHub pages to publish
notebooks, I found I wanted an easier way to publish and navigate across
collections of notebooks. Publishing R Notebooks on GitHub pages works
fine, but doesn’t offer an easy navigation structure, like <a
href="https://pkgdown.r-lib.org">pkgdown</a>. I tried using pkgdown to
display notebooks, but pkgdown only supports building
<code>vignettes</code>, which have a distinctly different look and feel
than R Notebooks. The <a
href="https://bookdown.org/yihui/rmarkdown/rmarkdown-site.html">rmarkdown
site generator</a>, <a
href="https://rdrr.io/cran/rmarkdown/man/render_site.html">render_site</a>,
allows more flexible building of websites from R Markdown files with a
simple navigation bar at the top, but doesn’t support
<code>html_notebook</code> files OOB.</p>
<p>To work around this, I created a simple framework for converting
<code>html_notebook</code> files to <code>html_document</code> and
building a <code>_site.yml</code> from a list of notebooks stored in the
non-standard <code>notebooks/</code> directory, initially using a shell
script, <code>build_site</code> (stored at the root of this <a
href="https://github.com/jabenninghoff/rtraining">repo</a>). It does the
following:</p>
<ol style="list-style-type: decimal">
<li>Creates a working directory, <code>.build-site</code></li>
<li>Builds a <code>rmarkdown::render_site()</code>
<code>_site.yml</code> file that includes a menu with all notebooks in
the <code>notebooks/</code> directory</li>
<li>Copies all <code>.Rmd</code> files to <code>.build-site</code>
changing their type from <code>html_notebook</code> to
<code>html_document</code></li>
<li>Includes some configuration to make <code>html_documents</code> work
more like <code>html_notebook</code></li>
<li>Calls <code>rmarkdown::render_site()</code> to render the site in
the <code>docs/</code> directory</li>
</ol>
<p>I typically rebuild a site with the following command, run from the
top-level directory of the project:</p>
<pre class="sh"><code>rm -rf .build-site &amp;&amp; sh build-site &amp;&amp; open docs/index.html</code></pre>
<p>This approach leverages the <a
href="https://help.github.com/articles/configuring-a-publishing-source-for-github-pages/#publishing-your-github-pages-site-from-a-docs-folder-on-your-master-branch">docs
functionality</a> of GitHub pages, like pkgdown.</p>
</div>
<div id="update-on-publishing" class="section level3">
<h3>Update on Publishing</h3>
<p><code>build-site</code> has been replaced with
<code>build_analysis_site()</code>! At its core, it is functionally the
same: builds a <code>pkgdown</code> site, adding an “Analysis” menu with
all notebooks in the (renamed) <code>analysis/</code> directory, then
converts and builds the notebooks using <code>rmarkdown</code>, and
moves them into the <code>docs/</code> directory. Since it is now an R
Script, it’s more portable and can be more easily bundled with packages.
I will be migrating its functionality to <a
href="https://jabenninghoff.github.io/rdev/">rdev</a> shortly, so that
it’s usable across multiple analysis projects.</p>
</div>
</div>
<div id="r-package-layout" class="section level2">
<h2>R Package Layout</h2>
<p>Here is my package layout - the table shows the path, whether it’s
part of the formal R package definition, and my notes on its use.</p>
<table>
<colgroup>
<col width="13%" />
<col width="7%" />
<col width="78%" />
</colgroup>
<thead>
<tr class="header">
<th>Path</th>
<th align="center">R</th>
<th>Notes</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>.Rbuildignore</td>
<td align="center"><code>x</code></td>
<td>Exclude files from package</td>
</tr>
<tr class="even">
<td>.Rprofile</td>
<td align="center"><code>x</code></td>
<td>Used by <code>renv</code> and to <a
href="https://r-pkgs.org/setup.html?#personal-startup-configuration">attach
development tools</a></td>
</tr>
<tr class="odd">
<td>.github</td>
<td align="center"></td>
<td>GitHub templates and workflows</td>
</tr>
<tr class="even">
<td>.gitignore</td>
<td align="center"><code>x</code></td>
<td>I use <a
href="https://github.com/github/gitignore/blob/master/R.gitignore">R</a>
and macOS exclusions, and <strong>always</strong> exclude generated
files outside of <code>docs/</code></td>
</tr>
<tr class="odd">
<td>.lintr</td>
<td align="center"></td>
<td><a href="https://github.com/r-lib/lintr">lintr</a> default linters
with 100 columns:
<code>linters: with_defaults(line_length_linter(100))</code></td>
</tr>
<tr class="even">
<td>DESCRIPTION</td>
<td align="center"><code>x</code></td>
<td>use “Suggests” for development tools, per <a
href="https://rstudio.github.io/renv/articles/faq.html#how-should-i-handle-development-dependencies-">renv</a></td>
</tr>
<tr class="odd">
<td>LICENSE</td>
<td align="center"><code>x</code></td>
<td>Generated with <a
href="https://usethis.r-lib.org/reference/licenses.html"><code>use_mit_license()</code></a></td>
</tr>
<tr class="even">
<td>LICENSE.md</td>
<td align="center"></td>
<td>See above, used by <a
href="https://pkgdown.r-lib.org">pkgdown</a></td>
</tr>
<tr class="odd">
<td>NAMESPACE</td>
<td align="center"><code>x</code></td>
<td>Generated with <a
href="https://roxygen2.r-lib.org">roxygen2</a></td>
</tr>
<tr class="even">
<td>NEWS.md</td>
<td align="center"></td>
<td>Release notes, used by <a
href="https://pkgdown.r-lib.org">pkgdown</a></td>
</tr>
<tr class="odd">
<td>README.Rmd</td>
<td align="center"><code>x</code></td>
<td>Generated with <a
href="https://usethis.r-lib.org/reference/use_readme_rmd.html"><code>use_readme_md()</code></a></td>
</tr>
<tr class="even">
<td>README.md</td>
<td align="center"><code>x</code></td>
<td>Generated with <a
href="https://devtools.r-lib.org/reference/build_rmd.html"><code>build_readme()</code></a></td>
</tr>
<tr class="odd">
<td>R</td>
<td align="center"><code>x</code></td>
<td>All project functions go here, with <a
href="https://roxygen2.r-lib.org">roxygen2</a> comments</td>
</tr>
<tr class="even">
<td>TODO.md</td>
<td align="center"></td>
<td>To-do list, inspired by <a
href="https://github.com/rstudio/renv/blob/master/TODO.md"
class="uri">https://github.com/rstudio/renv/blob/master/TODO.md</a></td>
</tr>
<tr class="odd">
<td>analysis</td>
<td align="center"></td>
<td>Exploratory data analysis in R Notebooks and R Presentations</td>
</tr>
<tr class="even">
<td>analysis/data</td>
<td align="center"></td>
<td>When appropriate, analysis data lives here</td>
</tr>
<tr class="odd">
<td>analysis/assets</td>
<td align="center"></td>
<td>External assets (images, other files) included in R Notebooks</td>
</tr>
<tr class="even">
<td>analysis/rendered</td>
<td align="center"></td>
<td>Manually rendered html versions of <code>analysis/</code> files to
be included in <code>docs/</code>, ie <a
href="https://stackoverflow.com/questions/27930127/render-r-presentation-from-the-command-line">.Rpres
files</a>, not stored in git</td>
</tr>
<tr class="odd">
<td><del>demos</del></td>
<td align="center"><code>x</code></td>
<td>I don’t use demos, as recommended by <a
href="https://r-pkgs.org/misc.html">R Packages</a></td>
</tr>
<tr class="even">
<td>docs</td>
<td align="center"></td>
<td>Used by <a
href="https://pkgdown.r-lib.org/reference/build_site.html"><code>pkgdown::build_site()</code></a>
and R Notebooks rendered as <code>html_document</code> using <a
href="https://rdrr.io/cran/rmarkdown/man/render_site.html"><code>rmarkdown::render_site()</code></a>
via <a
href="https://jabenninghoff.github.io/rdev/reference/build_analysis_site.html"><code>build_analysis_site()</code></a></td>
</tr>
<tr class="odd">
<td><em>exec</em></td>
<td align="center"><code>x</code></td>
<td>In theory this is where command line executable scrips reside</td>
</tr>
<tr class="even">
<td>inst/templates/rmarkdown</td>
<td align="center"><code>x</code></td>
<td><em>Planned location for <a
href="https://rstudio.github.io/rstudio-extensions/rmarkdown_templates.html">R
Markdown Templates</a></em></td>
</tr>
<tr class="odd">
<td>man</td>
<td align="center"><code>x</code></td>
<td>Generated with <a
href="https://roxygen2.r-lib.org">roxygen2</a></td>
</tr>
<tr class="even">
<td>package.Rproj</td>
<td align="center"></td>
<td>I use the same name for the package, .Rproj, directory, and GitHub
repo</td>
</tr>
<tr class="odd">
<td>pkgdown</td>
<td align="center"></td>
<td>I store all <a href="https://pkgdown.r-lib.org">pkgdown</a> files
here</td>
</tr>
<tr class="even">
<td><em>po</em></td>
<td align="center"><code>x</code></td>
<td>Used for <a
href="https://cran.r-project.org/doc/manuals/r-devel/R-exts.html#Internationalization">Internationalization</a></td>
</tr>
<tr class="odd">
<td>renv</td>
<td align="center"></td>
<td>Used by <a href="https://rstudio.github.io/renv/">renv</a></td>
</tr>
<tr class="even">
<td>renv.lock</td>
<td align="center"></td>
<td>The renv <a
href="https://rstudio.github.io/renv/reference/lockfiles.html">lockfile</a></td>
</tr>
<tr class="odd">
<td>tests</td>
<td align="center"><code>x</code></td>
<td>Tests using <a href="https://testthat.r-lib.org">testthat</a></td>
</tr>
<tr class="even">
<td>tools</td>
<td align="center"><code>x</code></td>
<td>I use <code>tools/</code> for shell scripts that support
development, like <code>setup-r</code></td>
</tr>
<tr class="odd">
<td>vignettes</td>
<td align="center"><code>x</code></td>
<td>More typical package articles, used by <a
href="https://pkgdown.r-lib.org">pkgdown</a></td>
</tr>
</tbody>
</table>
</div>
<div id="r-workflow" class="section level2">
<h2>R Workflow</h2>
<p>Here is the typical workflow I’m settling into (or at least trying
to…I still don’t have TDD down just yet), once a project is created.
Projects are either vanilla packages and don’t contain
<code>analysis/</code>, like <a
href="https://jabenninghoff.github.io/rdev/">rdev</a>, or “analysis
packages” and bundle analysis notebooks as a project, like <a
href="https://jabenninghoff.github.io/rtraining/">rtraining</a>.</p>
<ol style="list-style-type: decimal">
<li>Check for updated packages when starting to work, (I created <a
href="https://jabenninghoff.github.io/rdev/reference/check_renv.html"><code>check_renv()</code></a>
for this) and check for errors using local CI checks (<a
href="https://jabenninghoff.github.io/rdev/reference/ci.html"><code>ci()</code></a>).</li>
<li>When creating a new function, write the documentation first, using
Roxygen - this helps encourage up-front design and clarifies
goals/requirements.</li>
<li>Write tests next - both happy path and negative test cases whenever
possible. 100% test coverage is overkill, but I try to write a ‘data
validity checker’ which also helps define the expected format of the
data.</li>
<li><a
href="https://en.wikipedia.org/wiki/Test-driven_development">TDD</a>:
run tests, write code that fails tests, fix code, repeat. (Don’t forget
to refactor)</li>
<li>I use trunk-based development, which I learned from <a
href="https://brew.sh">Homebrew</a>. I try to keep commits small,
related, and implementing changes that don’t break code, merge back to
main frequently - before the end of the day - and require linear commit
history (ie rebase and merge).</li>
<li>Before pushing commits, I run <a
href="https://jabenninghoff.github.io/rdev/reference/style_all.html"><code>style_all()</code></a>
and <a
href="https://jabenninghoff.github.io/rdev/reference/ci.html"><code>ci()</code></a>
to fix any problems locally (just “undo” in GitHub Desktop, fix, and
re-commit).</li>
</ol>
<p>One thing that annoys me is that by default, devtools just writes new
lines to the end of <code>.Rbuildignore</code>, so I wrote <a
href="https://jabenninghoff.github.io/rdev/reference/sort_rbuildignore.html"><code>sort_rbuildignore()</code></a>.</p>
</div>
</div>
<div id="next-steps" class="section level1">
<h1>Next Steps</h1>
<p>I’ll keep adding to this document as I go, and will likely eventually
migrate this notebook to a <code>vignette</code> and switch to
<code>pkgdown</code>.</p>
</div>

<div id="rmd-source-code">LS0tCnRpdGxlOiBSIFNldHVwIExvZwpkYXRlOiAnMjAyMC0xMi0zMCcKb3V0cHV0OgogIGh0bWxfZG9jdW1lbnQ6CiAgICB0aGVtZToKICAgICAgdmVyc2lvbjogNQogICAgdG9jOiB5ZXMKICAgIHRvY19mbG9hdDoKICAgICAgY29sbGFwc2VkOiBubwogICAgICBzbW9vdGhfc2Nyb2xsOiBubwotLS0KCk15IG5vdGVzIG9uIG15IHBlcnNvbmFsIFIgc2V0dXAuIEkgc3RhcnRlZCBteSBSIGpvdXJuZXkgaW4gW1NlcHRlbWJlciAyMDIwXShodHRwczovL3d3dy5pbmZvcm1hdGlvbi1zYWZldHkub3JnLzIwMjAvMDkvMTEvd29ya2luZy13aXRoLXIvKSBhZnRlciBbU0lSQUNvbiAyMDIwXShodHRwczovL3NvY2lldHlpbmZvcmlzay5vcmcvZXZlbnQtMzg5OTc4NikuCgpgYGB7ciBzdGFydHVwLCBtZXNzYWdlID0gRkFMU0UsIHdhcm5pbmcgPSBGQUxTRX0KIyBubyBsaWJyYXJpZXMKYGBgCgojIEluc3RhbGxpbmcgUgoKSSBwcmVmZXIgaW5zdGFsbGluZyBSIGFuZCBSU3R1ZGlvIHVzaW5nIFtIb21lYnJld10oaHR0cHM6Ly9icmV3LnNoKS4gSSB1c2UgW0hvbWVicmV3IEJ1bmRsZV0oaHR0cHM6Ly9naXRodWIuY29tL0hvbWVicmV3L2hvbWVicmV3LWJ1bmRsZSkgdG8gaW5zdGFsbCBhbGwgc29mdHdhcmUgb24gbXkgc3lzdGVtcywgYnV0IGluc3RhbGxpbmcgUiBhbmQgUlN0dWRpbyBpcyBzaW1wbGUgZW5vdWdoIHVzaW5nIHRoZSBjb21tYW5kIGxpbmU6Cgo8IS0tIG5vdGU6IGxpbnRyIHZlcnNpb24gPD0gMi4wLjEgdGhyb3dzIGFuIGVycm9yIHdoZW4gdXNpbmcgbGFuZ3VhZ2UgaWRlbnRpZmllcnM6IDxodHRwczovL2dpdGh1Yi5jb20vci1saWIvbGludHIvaXNzdWVzLzUwNT4gLS0+CgpgYGBzaApicmV3IGluc3RhbGwgLS1mb3JtdWxhIHIgJiYgYnJldyBpbnN0YWxsIC0tY2FzayByc3R1ZGlvCmBgYAoKIyMgUiBWYXJpYW50cwoKKipUTDtEUjoganVzdCB1c2UgaG9tZWJyZXcuKioKCkkgZG9uJ3QgcmVjb21tZW5kIGluc3RhbGxpbmcgdGhlIGBjYXNrYCB2YXJpYW50IG9mIHIgYmVjYXVzZSBpdCBjcmVhdGVzIHByb2JsZW1zIHdpdGggYGJyZXcgZG9jdG9yYDoKCmBgYHtzaCBicmV3IGluZm8gcn0KYnJldyBpbmZvIC0tY2FzayByCmBgYAoKSSB0cmllZCAiW2luc3RhbGxpbmcgYWxsIHRoZSB0aGluZ3NdKGh0dHBzOi8vbHVpc3B1ZXJ0by5uZXQvYmxvZy8yMDE4LzA1LzExL2luc3RhbGxpbmctci13aXRoLWhvbWVicmV3LXdpdGgtYWxsLXRoZS1jYXBhYmlsaXRpZXMvKSIgd2l0aCBbaG9tZWJyZXctci1zcmZdKGh0dHBzOi8vZ2l0aHViLmNvbS9zZXRocmZvcmUvaG9tZWJyZXctci1zcmYpIGJ1dCBkaWRuJ3QgbGlrZSBob3cgdGhlIHVuaW5zdGFsbCBkb2Vzbid0IGNsZWFuIHVwLCBhbmQgZnJhbmtseSwgSSBoYXZlbid0IGZvdW5kIGEgbmVlZCBmb3IgbW9yZSB0aGFuIHRoZSBjYXBhYmlsaXRpZXMgaW5jbHVkZWQgd2l0aCBob21lYnJldyBSOgoKYGBge3IgY2FwYWJpbGl0aWVzfQpjYXBhYmlsaXRpZXMoKQpgYGAKCkN1cnJlbnRseSwgdGhpcyBpcyBldmVyeXRoaW5nIGV4Y2VwdCB0aGUgWDExIGRlcGVuZGVuY2llcywgd2hpY2ggYXJlbid0IHJlYWxseSBuZWVkZWQ6CgpgYGByCj9jYXBhYmlsaXRpZXMKYGBgCgo+ICoqTm90ZSB0byBtYWNPUyB1c2VycyoqCj4KPiBDYXBhYmlsaXRpZXMgImpwZWciLCAicG5nIiBhbmQgInRpZmYiIHJlZmVyIHRvIHRoZSBYMTEtYmFzZWQgdmVyc2lvbnMgb2YgdGhlc2UgZGV2aWNlcy4gSWYgY2FwYWJpbGl0aWVzKCJhcXVhIikgaXMgdHJ1ZSwgdGhlbiB0aGVzZSBkZXZpY2VzIHdpdGggdHlwZSA9ICJxdWFydHoiIHdpbGwgYmUgYXZhaWxhYmxlLCBhbmQgb3V0LW9mLXRoZS1ib3ggd2lsbCBiZSB0aGUgZGVmYXVsdCB0eXBlLiBUaHVzIGZvciBleGFtcGxlIHRoZSB0aWZmIGRldmljZSB3aWxsIGJlIGF2YWlsYWJsZSBpZiBjYXBhYmlsaXRpZXMoImFxdWEiKSB8fCBjYXBhYmlsaXRpZXMoInRpZmYiKSBpZiB0aGUgZGVmYXVsdHMgYXJlIHVuY2hhbmdlZC4KCkFzIGFuIGFjdGl2ZSBjb250cmlidXRvciB0byBIb21lYnJldywgSSAqc3Ryb25nbHkqIHJlY29tbWVuZCB1c2luZyBpdCBmb3IgYW55L2FsbCBzb2Z0d2FyZTsgdGhlaXIgcXVhbGl0eSBjb250cm9sIGlzIGV4Y2VsbGVudC4KCiMgUiBXb3Jrc3BhY2UKCk9uY2UgUiBhbmQgUlN0dWRpbyBoYXZlIGJlZW4gaW5zdGFsbGVkLCB5b3UnbGwgbmVlZCBhIGRldmVsb3BtZW50IGVudmlyb25tZW50IGFuZCBzb21lIHBhY2thZ2VzLgoKIyMgRGV2ZWxvcG1lbnQgRW52aXJvbm1lbnQKCldlbGwsIG9idmlvdXNseSwgSSB1c2UgW1JTdHVkaW9dKGh0dHBzOi8vcG9zaXQuY28vZG93bmxvYWQvcnN0dWRpby1kZXNrdG9wLykuIFRoZXJlIGFyZSBvdGhlciBJREVzIGF2YWlsYWJsZSwgYW5kIGl0J3MgYWxzbyBwb3NzaWJsZSB0byBkZXZlbG9wIHVzaW5nIHRoZSBjb21tYW5kIGxpbmUsIGJ1dCBSU3R1ZGlvIHByb3ZpZGVzIGEgcGxlYXNhbnQsIGludGVncmF0ZWQgZXhwZXJpZW5jZSBmb3IgUiBkZXZlbG9wbWVudCwgYW5kIGFjdGl2ZWx5IHN1cHBvcnRzIHRoZSBSIGNvbW11bml0eS4gSSBkb24ndCB0eXBpY2FsbHkgdXNlIHRoZSBidWlsdC1pbiBHaXQgY2xpZW50LCBpbnN0ZWFkIHVzaW5nIHRoZSBHaXRIdWIgRGVza3RvcCBjbGllbnQgYW5kIGdpdCBjb21tYW5kLWxpbmUgdG9vbC4KCmBgYHNoCmJyZXcgaW5zdGFsbCBnaXRodWIKYGBgCgpJIGFsc28gb2NjYXNpb25hbGx5IHVzZSBgdmltYCAobWFpbmx5IGZvciBzaGVsbCBzY3JpcHRzKSBhbmQgW2F0b21dKGh0dHBzOi8vYXRvbS5pbykgKG1haW5seSBmb3IgdmFuaWxsYSBgLm1kYCBmaWxlcyB1c2luZyBbbWFya2Rvd24tcHJldmlldy1lbmhhbmNlZF0oaHR0cHM6Ly9hdG9tLmlvL3BhY2thZ2VzL21hcmtkb3duLXByZXZpZXctZW5oYW5jZWQpKS4KCiMjIFBhY2thZ2VzCgpNYW5hZ2luZyBwYWNrYWdlcyBhbmQgZW52aXJvbm1lbnRzIGFyZSBhIGNoYWxsZW5nZSBmb3IgbW9zdCBtb2Rlcm4gbGFuZ3VhZ2VzLiBUaGFua2Z1bGx5IFIgZG9lc24ndCBoYXZlIHRoZSBzYW1lIGxldmVsIG9mIGNoYWxsZW5nZSBhcyBweXRob24sIG9yIGV2ZW4gcnVieSwgbWFuYWdpbmcgcGFja2FnZXMgYXZhaWxhYmxlIHdpdGhpbiBhIHByb2plY3QgaXMgYSBiZXN0IHByYWN0aWNlLiBJIHVzZSBbcmVudl0oaHR0cHM6Ly9naXRodWIuY29tL3JzdHVkaW8vcmVudikgZm9yIHRoaXMgcHVycG9zZS4gKEkgb3JpZ2luYWxseSBkaXNjb3ZlcmVkIFtwYWNrcmF0XShodHRwczovL3JzdHVkaW8uZ2l0aHViLmlvL3BhY2tyYXQvKSBidXQgcXVpY2tseSBkaXNjb3ZlcmVkIFJTdHVkaW8gaXMgcmVwbGFjaW5nIGl0IHdpdGggcmVudikKCkhlcmUgaXMgbXkgcGFja2FnZSBtYWludGVuYW5jZSBhcHByb2FjaDoKCiMjIyBCYXNlIFIgUGFja2FnZXMKCldpdGggbm8gcHJvamVjdHMgb3BlbiwgSSBwZXJpb2RpY2FsbHkgY2hlY2sgZm9yIHVwZGF0ZXMgdG8gdGhlIGJhc2UgUiBwYWNrYWdlcyB1c2luZyB0aGUgUlN0dWRpbyBQYWNrYWdlcyAiVXBkYXRlIiBmdW5jdGlvbi4gVGhlc2UgYXJlIHRoZSBvbmx5IHBhY2thZ2VzIEkgaW5zdGFsbCB0byB0aGUgYmFzZSBkaXJlY3RvcnkgYC91c3IvbG9jYWwvQ2VsbGFyL3IvNC4wLjNfMi9saWIvUi9saWJyYXJ5YC4gKk5vdGU6IHVwZ3JhZGluZyBvciByZWluc3RhbGxpbmcgciB0aHJvdWdoIGhvbWVicmV3IG1heSAnZG93bmdyYWRlJyB0aGUgYmFzZSBwYWNrYWdlcy4qCgojIyMgRGV2ZWxvcG1lbnQgUGFja2FnZXMKClRoZSBvbmx5IG90aGVyIHRvb2xzIEkgaW5zdGFsbCBvdXRzaWRlIG9mIHByb2plY3RzIGFyZSBmb3Igc3VwcG9ydGluZyBkZXZlbG9wbWVudC4gT3JpZ2luYWxseSB0aGlzIHdhcyBqdXN0IHJlbnYsIGJ1dCBub3cgaXQgaW5jbHVkZXMgYSBudW1iZXIgb2YgZGV2ZWxvcG1lbnQgdG9vbHMgbmVlZGVkIHRvIGNyZWF0ZSBwcm9qZWN0cy4gSSB1c2UgdGhlIFIgc2l0ZSBsaWJyYXJ5IHVzZWQgYnkgW2hvbWVicmV3XShodHRwczovL2dpdGh1Yi5jb20vSG9tZWJyZXcvaG9tZWJyZXctY29yZS9ibG9iL21hc3Rlci9Gb3JtdWxhL3Ivci5yYiksIGN1cnJlbnRseSBgL3Vzci9sb2NhbC9saWIvUi80LjAvc2l0ZS1saWJyYXJ5YC4gSSd2ZSBkZXZlbG9wZWQgYSBzaGVsbCBzY3JpcHQgdG8gaW5zdGFsbCBkZXZlbG9wbWVudCBwYWNrYWdlcyB0aGF0IHlvdSBjYW4gZmluZCBpbiB0aGUgdG9vbHMgZGlyZWN0b3J5IG9mIFt0aGlzIHJlcG9zaXRvcnldKGh0dHBzOi8vZ2l0aHViLmNvbS9qYWJlbm5pbmdob2ZmL3J0cmFpbmluZykuCgpgYGBzaAojIS9iaW4vc2gKIyBpbnN0YWxsIGRldmVsb3BtZW50IHBhY2thZ2VzIHRvIHNpdGUgcmVwb3NpdG9yeQojIHRoYW5rcyB0byBodHRwczovL2Jsb2cuc2VsbG9ybS5jb20vMjAxNy8xMC8yMS9xdWljay1zY3JpcHQtdG8taW5zdGFsbC1hbi1yLXBhY2thZ2UtZnJvbS10aGUtY29tbWFuZC1saW5lLwojIGFuZCBodHRwczovL2dpdGh1Yi5jb20vSG9tZWJyZXcvaG9tZWJyZXctY29yZS9ibG9iL21hc3Rlci9Gb3JtdWxhL3Ivci5yYgojIGRlc2lnbmVkIHRvIHdvcmsgd2l0aCBob21lYnJldzogYGJyZXcgaW5zdGFsbCAtLWZvcm11bGEgciAmJiBicmV3IGluc3RhbGwgLS1jYXNrIHJzdHVkaW9gCnNldCAtZXggIyBoYWx0IHNjcmlwdCBvbiBlcnJvciwgZWNobyBvbgoKUFJFRklYPWBicmV3IC0tcHJlZml4YApSVkVSU0lPTj1gJHtQUkVGSVh9L2Jpbi9Sc2NyaXB0IC1lICdjYXQoYXMuY2hhcmFjdGVyKGdldFJ2ZXJzaW9uKClbMSwxOjJdKSknYApTSVRFTElCPSIke1BSRUZJWH0vbGliL1IvJHtSVkVSU0lPTn0vc2l0ZS1saWJyYXJ5IgpERVZQS0c9J2MoInJlbnYiLCAic3R5bGVyIiwgImxpbnRyIiwgIm1pbmlVSSIsICJkZXZ0b29scyIsICJhdmFpbGFibGUiKScKCmlmIFsgISAtZCAiJHtTSVRFTElCfSIgXQp0aGVuCgllY2hvICJmYXRhbCBlcnJvcjogJHtTSVRFTElCfSBkb2VzIG5vdCBleGlzdCAtIG5vdCB1c2luZyBcYGJyZXcgaW5zdGFsbCAtLWZvcm11bGEgclxgPyIKCWV4aXQgMQpmaQoKYnJldyBpbnN0YWxsIGxpYmdpdDIgIyByZXF1aXJlZCBieSBkZXZ0b29scwoKZWNobyAiaW5zdGFsbC5wYWNrYWdlcygke0RFVlBLR30sIHJlcG9zPVwiaHR0cHM6Ly9jcmFuLnJzdHVkaW8uY29tXCIsIGxpYj1cIiR7U0lURUxJQn1cIikiIHwgUiAtLW5vLXNhdmUKYGBgCgojIyMgUHJvamVjdCBQYWNrYWdlcwoKQW55IHBhY2thZ2VzICpub3QqIG5lZWRlZCB0byBjcmVhdGUgcHJvamVjdHMgSSBpbnN0YWxsIHdpdGhpbiBhIHByb2plY3QgdXNpbmcgcmVudiAtIGhlcmUgYXJlIHNvbWUgZ29vZCBpbnRyb3M6CgotIEEgW3ByZXNlbnRhdGlvbiBhdCByc3R1ZGlvOjpjb25mIDIwMjBdKGh0dHBzOi8vd3d3LnJzdHVkaW8uY29tL3Jlc291cmNlcy9yc3R1ZGlvY29uZi0yMDIwL3JlbnYtcHJvamVjdC1lbnZpcm9ubWVudHMtZm9yLXIvKQotIFRoZSBbUlN0dWRpbyBCbG9nIHBvc3RdKGh0dHBzOi8vcG9zaXQuY28vYmxvZy9yZW52LXByb2plY3QtZW52aXJvbm1lbnRzLWZvci1yLykKLSBBbiBbSW50cm9kdWN0aW9uIHRvIHJlbnZdKGh0dHBzOi8vcnN0dWRpby5naXRodWIuaW8vcmVudi9hcnRpY2xlcy9yZW52Lmh0bWwpCi0gW3JlbnZdKGh0dHBzOi8vZ2l0aHViLmNvbS9yc3R1ZGlvL3JlbnYpIG9uIEdpdEh1YgoKYGBgcgpyZW52Ojppbml0KCkgIyB0byBzZXQgdXAgcmVudiBpbiB0aGUgcHJvamVjdApyZW52OjppbnN0YWxsKCJydHJhaW5pbmciKSAjIHRvIGluc3RhbGwgYSBwYWNrYWdlCnJlbnY6OnN0YXR1cygpICMgY2hlY2tzIGlmIHJlbnYubG9jayBpcyBpbiBzeW5jCnJlbnY6OnNuYXBzaG90KCkgIyBzYXZlIGxpYnJhcmllcyBpbiByZW52LmxvY2sKcmVudjo6cmVzdG9yZSgpICMgcmVzdG9yZSBsaWJyYXJpZXMgZnJvbSByZW52LmxvY2sgLSB1c2Ugd2hlbiBmaXJzdCB1c2luZyBhbiBleGlzdGluZyBwcm9qZWN0CnJlbnY6OmNsZWFuKCkgIyByZW1vdmUgZXh0cmEgbGlicmFyaWVzCnJlbnY6OnVwZGF0ZSgpICMgY2hlY2sgZm9yIHVucGRhdGVkIHZlcnNpb25zIG9mIGluc3RhbGxlZCBsaWJyYXJpZXMKYGBgCgpJZiB5b3UncmUgaW5zdGFsbGluZyAoZGV2ZWxvcG1lbnQpIHZlcnNpb25zIG9mIHBhY2thZ2VzIGZyb20gR2l0SHViLCB5b3UnbGwgYmUgcHJvbXB0ZWQgdG8gc2V0IHVwIGEgcGVyc29uYWwgYWNjZXNzIHRva2VuIHVzaW5nIGBjcmVhdGVfZ2l0aHViX3Rva2VuKClgIGFuZCBhZGRpbmcgaXQgdG8geW91ciBgLlJlbnZpcm9uYCBhcyBgR0lUSFVCX1BBVD1gIHVzaW5nIGB1c2V0aGlzOjplZGl0X3JfZW52aXJvbigpYC4gSSBoYWQgdG8gaW5zdGFsbCB0aGUgZGV2ZWxvcG1lbnQgdmVyc2lvbnMgb2YgYm90aCBgc3R5bGVyYCBhbmQgYGxpbnRyYCBkdWUgdG8gYnVncyBub3QgeWV0IGZpeGVkIGluIHRoZSByZWxlYXNlZCAoQ1JBTikgdmVyc2lvbnMuIEkgZGlkIGFsc28gbG9vayBhdCB1c2luZyBbcGFrXShodHRwczovL3Bhay5yLWxpYi5vcmcpIGJ1dCBmb3VuZCBpdCB0b28gYnVnZ3kgdG8gdXNlLgoKKk5vdGU6KiBJIGNhbWUgYWNyb3NzIGFuIG9kZCBxdWlyayB3aGVyZSByZW52IHdpbGwgcHJvbXB0IHlvdSB0byB1cGdyYWRlIGJhc2UgUiBwcm9qZWN0cywgZXZlbiBpZiB0aGV5J3JlIG5vdCB1c2VkLiBJIHJlc29sdmVkIHRoZXNlIGJ5IGp1c3QgdXBncmFkaW5nIHRoZSBiYXNlIHBhY2thZ2VzIHdpdGggUlN0dWRpbyB3aXRoIG5vIHByb2plY3Qgb3Blbi4KCkkndmUgaW5jbHVkZWQgc29tZSBjb21tZW50cyBvbiB1c2VmdWwgcGFja2FnZXMgaW4gbXkgKlIgVHJhaW5pbmcgTG9nKiBub3RlYm9vay4KCiMgVXNpbmcgUgoKU28gLSB3aGF0IGhhdmUgSSBsZWFybmVkIGFib3V0IHVzaW5nIFI/IEkgd29uJ3QgY292ZXIgdGhlIGFjdHVhbCBEYXRhIFNjaWVuY2UgcGFydCBoZXJlLCBidXQgaGF2ZSBzb21lIHJlY29tbWVuZGVkIHJlYWRpbmcgaW4gbXkgKlIgVHJhaW5pbmcgTG9nKi4KCiMjIFVzZSBnaXQhCgpUaGlzIHdhc24ndCByZWFsbHkgc29tZXRoaW5nIEkgbGVhcm5lZCB3aXRoIFIsIGJ1dCB1c2Ugb2YgdmVyc2lvbiBjb250cm9sIGZvciBhbnkga2luZCBvZiBjb2RlL3NjcmlwdCBpcyBjcnVjaWFsLiBUaGVzZSBkYXlzLCBJIGtlZXAgYWxsIHNjcmlwdHMgYW5kIGNvbmZpZ3VyYXRpb24gZmlsZXMgaW4gc29tZSBmbGF2b3Igb2YgcHVibGljIG9yIHByaXZhdGUgdmVyc2lvbiBjb250cm9sLiBNb3N0bHkgdGhhdCBtZWFucyBHaXRIdWIsIGJ1dCBhbHNvIHByaXZhdGUgZ2l0IHNlcnZlcnMgKHZpYSBzc2gpIGFyZSBlYXN5IHRvIHNldCB1cCBmb3Igd29yayB0aGF0IHlvdSB3YW50IHRvIGtlZXAgb2ZmIG9mIEdpdEh1Yi4KCkkgZG9uJ3Qgd2FudCB0byBnZXQgdG9vIG11Y2ggaW50byBtYW5hZ2luZyBjb2RlIHZpYSB2ZXJzaW9uIGNvbnRyb2wsIGJ1dCBJIGZhdm9yIHRydW5rLWJhc2VkIGRldmVsb3BtZW50IHdpdGggc2hvcnQtbGl2ZWQgYnJhbmNoZXMsIHNtYWxsIGNvbW1pdHMgb2Ygd29ya2luZyBjb2RlLCBhbmQgcmViYXNlIGFuZCBtZXJnZSBmb3IgbGluZWFyIGNvbW1pdCBoaXN0b3J5LiBUaGVyZSdzIGEgbG90IG9mIGdvb2QgcmVzZWFyY2ggb24gdGhpcyB0b3BpYyBmcm9tIEdvb2dsZSdzIFtEZXYgT3BzIFJlc2VhcmNoIGFuZCBBc3Nlc3NtZW50XShodHRwczovL2Nsb3VkLmdvb2dsZS5jb20vZGV2b3BzKSB0ZWFtLgoKIyMgVXNpbmcgUlN0dWRpbyB3aXRoIEdpdEh1YgoKUlN0dWRpbyBoYXMgZ29vZCBpbnRlZ3JhdGlvbiB3aXRoIEdpdEh1Yi4gSSd2ZSBhZG9wdGVkIHRoZSBjb252ZW50aW9uIG9mICJvbmUgUlN0dWRpbyBQcm9qZWN0ICguUnByb2opIHBlciByZXBvc2l0b3J5IiBhbmQgc3RvcmluZyB0aGUgUnByb2ogZmlsZSBpbiB0aGUgcmVwb3NpdG9yeS4gVGhhdCBzZWVtcyB0byBiZSB0aGUgbm9ybS4KCiMjIFIgTm90ZWJvb2tzCgpSIE5vdGVib29rcyBhcmUgbXkgcHJlZmVycmVkIGZpbGUgZm9ybWF0IGZvciBkYXRhIGFuYWx5c2lzLCBhcyB0aGV5IGFsbG93IGFuIGVhc3kgbWl4aW5nIG9mIHRleHQgKHVzaW5nIHBhbmRvYyBtYXJrZG93bikgYW5kIFIgY29kZSBjaHVua3MuIFRoaXMgYWxsb3dzIG1lIHRvIGRvY3VtZW50IHdoYXQgSSdtIGRvaW5nIGFzIEkgZ28sIGJvdGggZm9yIHJlcHJvZHVjaWJpbGl0eSBhcyB3ZWxsIGFzIHJlY29yZGluZyBteSBvYnNlcnZhdGlvbnMsIHRob3VnaHRzIGFuZCBjb25jbHVzaW9ucy4gSXQgZXNwZWNpYWxseSBsZW5kcyBpdHNlbGYgdG8gaXRlcmF0aXZlIGRldmVsb3BtZW50OgoKMS4gV3JpdGUgY29kZQoxLiBSdW4gY29kZQoxLiBTZWUgcmVzdWx0cwoxLiBVcGRhdGUgY29kZQoKVGhpcyBtZXRob2Qgb2YgZGV2ZWxvcG1lbnQgaXMgbm90IGFsd2F5cyBhcHByb3ByaWF0ZSwgYnV0IGZpdHMgd2VsbCB3aXRoIGV4cGxvcmF0b3J5IGFuYWx5c2lzLiBPbmNlIEkgZ2V0IHRvIHdyaXRpbmcgZnVuY3Rpb25zLCBJJ20gc3RhcnRpbmcgdG8gYWRvcHQgdGhlIGZvcm1hbCBzdHJ1Y3R1cmUgb2YgW3BhY2thZ2VzXShodHRwczovL3ItcGtncy5vcmcvaW5kZXguaHRtbCksIFt0ZXN0dGhhdF0oaHR0cHM6Ly90ZXN0dGhhdC5yLWxpYi5vcmcpLCBhbmQgW3JveHlnZW4yXShodHRwczovL3JveHlnZW4yLnItbGliLm9yZykuCgpTcGVjaWZpY2FsbHksIEkgdXNlIGBodG1sX25vdGVib29rYCwgd2hpY2ggd2FzIHJlY29tbWVuZGVkIHRvIG1lLiBSU3R1ZGlvIGhhbmRsZXMgdGhpcyBkaWZmZXJlbnRseSB0aGFuIGBodG1sX2RvY3VtZW50YDoKCkJlaGF2aW9yfGBodG1sX25vdGVib29rYHxgaHRtbF9kb2N1bWVudGAKLS0tLS0tLS18LS0tLS0tLS0tLS0tLS0tfC0tLS0tLS0tLS0tLS0tLQpRdWljayBWaWV3fFByZXZpZXcgQnV0dG9ufE5vIFByZXZpZXcgQnV0dG9uClNhdmluZyBGaWxlc3xBdXRvbWF0aWNhbGx5IGtuaXRzIGZpbGUgb24gc2F2ZXxNYW51YWxseSBrbml0IGZpbGUKUmVuZGVyaW5nIEZpbGVzfFJlbmRlcnMgUiBvdXRwdXQgYXMgaXQgZXhpc3RzIGluIHRoZSBJREUgb24gc2F2ZXxSZW5kZXJzIFIgb3V0cHV0IGJ5IHJ1bm5pbmcgYWxsIFIgY29kZQpEZWZhdWx0IE9wdGlvbnN8SW5jbHVkZXMgb3B0aW9ucyBmb3IgcmVhZGFiaWxpdHksIGhpZGluZyBhbmQgZG93bmxvYWRpbmcgY29kZSwgYW5kIHBhZ2VkIHRhYmxlc3xIaWdoZXItcXVhbGl0eSByZW5kZXJpbmcgb2YgUE5HIGdyYXBoaWNzCgpFc3NlbnRpYWxseSwgUiBOb3RlYm9va3MgYXJlIGdlbmVyYWxseSBmYXN0ZXIgYW5kIG1vcmUgY29udmVuaWVudCB3aGVuICpkb2luZyogYW5hbHlzaXMsIGFuZCBgaHRtbF9kb2N1bWVudGAgUiBNYXJrZG93biBmaWxlcyBvZmZlciBoaWdoZXItcXVhbGl0eSBvdXRwdXQuIFRoaXMgc2l0ZSB1c2VzIGEgY3VzdG9tIGZyYW1ld29yayB0byBjb252ZXJ0IGh0bWxfbm90ZWJvb2tzIHRvIGh0bWxfZG9jdW1lbnRzIGZvciBwdWJsaXNoaW5nIChzZWUgdGhlIG5leHQgc2VjdGlvbiBmb3IgZGV0YWlscykuIFRoZXkgYXJlIGFsc28gYSBjb252ZW5pZW50IHdheSB0byBzaGFyZSBhbmFseXNpcyB3aXRoIHBlZXJzIC0ganVzdCBlbWFpbCB0aGUgYC5uYi5odG1sYCBmaWxlLCB3aGljaCB3aWxsIGluY2x1ZGUgYWxsIG9mIHRoZSBvdXRwdXQsIGFzIHdlbGwgYXMgZW1iZWRkaW5nIHRoZSBgLlJtZGAgc291cmNlIGNvZGUgZm9yIGVhc3kgZWRpdGluZy4gVGhpcyBhbHNvIGFsbG93cyBwZW9wbGUgd2hvIGRvbid0IGhhdmUgUi9SU3R1ZGlvIHRvIHNlZSB0aGUgcmVzdWx0cyBvZiBhbiBhbmFseXNpcy4KClRoZXJlIGFyZSBzb21lIGRyYXdiYWNrcyB0byB1c2luZyBSIE5vdGVib29rczoKCi0gQmVjYXVzZSBSIE5vdGVib29rcyBhcmUgcmVuZGVyLW9uLXNhdmUsIHlvdSBjYW4gaW5hZHZlcnRlbnRseSBlbmQgdXAgd2l0aCBtaXNzaW5nIG9yIG91dGRhdGVkIFIgb3V0cHV0IGZyb20geW91ciBub3RlYm9vayB3aGVuIHNhdmluZywgaWYgeW91J3ZlIG1hZGUgdXBkYXRlcyBhbmQgaGF2ZW4ndCByZS1ydW4gdGhlIGVudGlyZSBkb2N1bWVudC4gTXkgaGFiaXQgaXMgdG8gZG8gdGhlIGZvbGxvd2luZyBhdCB0aGUgZW5kIG9mIGEgd3JpdGluZyBzZXNzaW9uLCBiZWZvcmUgY29tbWl0dGluZyB0byBnaXQsIHdoaWNoIGVuc3VyZXMgYSAiY2xlYW4iIG5vdGVib29rOgogIDEuIENsZWFyIHRoZSBHbG9iYWwgRW52aXJvbm1lbnQKICAxLiAiUmVzdGFydCBSIGFuZCBDbGVhciBPdXRwdXQiCiAgMS4gIlJ1biBBbGwiCiAgMS4gU2F2ZQotIFtEZWJ1ZyBicmVha3BvaW50cyBkb24ndCB3b3JrIGluIFIgTWFya2Rvd24gZG9jdW1lbnRzXShodHRwczovL3N1cHBvcnQucG9zaXQuY28vaGMvZW4tdXMvYXJ0aWNsZXMvMjA1NjEyNjI3LURlYnVnZ2luZy13aXRoLVJTdHVkaW8jZGVidWdnaW5nLWluLXItbWFya2Rvd24tZG9jdW1lbnRzKS4gVG8gZml4IHRoaXMsIFtjb252ZXJ0IFIgTWFya2Rvd24gZG9jdW1lbnRzIHRvIFIgU2NyaXB0cyB1c2luZyBwdXJsXShodHRwczovL2Jvb2tkb3duLm9yZy95aWh1aS9ybWFya2Rvd24tY29va2Jvb2svcHVybC5odG1sKSBmb3IgZGVidWdnaW5nLgotIE5vdCByZWFsbHkgYSBkcmF3YmFjaywgYnV0Li4uYFJjcHBgIGFuZCBgcnByb2pyb290YCBhcmUgZXJyb25lb3VzbHkgbGlzdGVkIGluIFJTdHVkaW8gYXMgcmVxdWlyZWQgdG8gY3JlYXRlIFIgTWFya2Rvd24sIHdoaWNoIGNhbiBhbHNvIGNhdXNlIHByb2JsZW1zIHdpdGggYHJlbnZgLiBUaGlzIGlzIGEgW2J1ZyBpbiBSU3R1ZGlvXShodHRwczovL2dpdGh1Yi5jb20vcnN0dWRpby9yc3R1ZGlvL2lzc3Vlcy83OTM1KSwgd2hpY2ggd2lsbCBiZSBmaXhlZCBpbiB2ZXJzaW9uIDEuNC45NDQuCgojIyBQdWJsaXNoaW5nIFIgTm90ZWJvb2tzCgpTaW5jZSBSIE5vdGVib29rcyBhcmUgc2F2ZWQgYXMgaHRtbCBmaWxlcywgaXQncyBwb3NzaWJsZSB0byBwdWJsaXNoIHRoZW0gb24gR2l0SHViIHVzaW5nIEdpdEh1YiBwYWdlcy4gR2l0SHViIHB1Ymxpc2hlZCBhIFt0dXRvcmlhbF0oaHR0cHM6Ly9yZXNvdXJjZXMuZ2l0aHViLmNvbS9naXRodWItYW5kLXJzdHVkaW8vKSBpbiAyMDE4IG9uIGdldHRpbmcgUlN0dWRpbyBpbnRlZ3JhdGVkIHdpdGggR2l0SHViLCBhbmQgSSBzdGFydGVkIHdvcmtpbmcgb24gdGhhdC4gUXVpY2tseSBJIGRpc2NvdmVyZWQgdGhhdCB3aGlsZSB0aGUgdHV0b3JpYWwgd2FzIGhlbHBmdWwsIGl0IHdhc24ndCBxdWl0ZSB0aGUgc2V0dXAgSSB3YW50ZWQ7IGl0IHB1Ymxpc2hlZCBSIE1hcmtkb3duIHRocm91Z2ggR2l0SHViIHBhZ2VzLCBidXQgd291bGRuJ3QgZGlyZWN0bHkgc3VwcG9ydCB0aGUgYXV0b21hdGljYWxseSBnZW5lcmF0ZWQgaHRtbCBvZiBSIE5vdGVib29rcy4gQWZ0ZXIgbW9yZSBzZWFyY2hpbmcsIEkgd2FzIGFibGUgdG8gZ2V0IE5vdGVib29rcyB3b3JraW5nIG9uIEdpdEh1YiwgYnV0IEkgdXNlZCB0aGUgbWV0aG9kIGRlc2NyaWJlZCBpbiBbcnN0dWRpby9ybWFya2Rvd24gIzEwMjBdKGh0dHBzOi8vZ2l0aHViLmNvbS9yc3R1ZGlvL3JtYXJrZG93bi9pc3N1ZXMvMTAyMCkgLSBjaGVja2luZyBpbiB0aGUgLm5iLmh0bWwgaW50byBnaXQsIGFuZCB1c2luZyBHaXRIdWIgUGFnZXMgc28gdGhhdCB5b3UgY2FuIHZpZXcgdGhlIHJlbmRlcmVkIEhUTUwgaW5zdGVhZCBvZiBqdXN0IHRoZSBIVE1MIGNvZGUuCgojIyMgUHVibGlzaGluZyB3aXRoIHJtYXJrZG93bgoKQWZ0ZXIgdXNpbmcgYFJFQURNRS5tZGAgYW5kIEdpdEh1YiBwYWdlcyB0byBwdWJsaXNoIG5vdGVib29rcywgSSBmb3VuZCBJIHdhbnRlZCBhbiBlYXNpZXIgd2F5IHRvIHB1Ymxpc2ggYW5kIG5hdmlnYXRlIGFjcm9zcyBjb2xsZWN0aW9ucyBvZiBub3RlYm9va3MuIFB1Ymxpc2hpbmcgUiBOb3RlYm9va3Mgb24gR2l0SHViIHBhZ2VzIHdvcmtzIGZpbmUsIGJ1dCBkb2Vzbid0IG9mZmVyIGFuIGVhc3kgbmF2aWdhdGlvbiBzdHJ1Y3R1cmUsIGxpa2UgW3BrZ2Rvd25dKGh0dHBzOi8vcGtnZG93bi5yLWxpYi5vcmcpLiBJIHRyaWVkIHVzaW5nIHBrZ2Rvd24gdG8gZGlzcGxheSBub3RlYm9va3MsIGJ1dCBwa2dkb3duIG9ubHkgc3VwcG9ydHMgYnVpbGRpbmcgYHZpZ25ldHRlc2AsIHdoaWNoIGhhdmUgYSBkaXN0aW5jdGx5IGRpZmZlcmVudCBsb29rIGFuZCBmZWVsIHRoYW4gUiBOb3RlYm9va3MuIFRoZSBbcm1hcmtkb3duIHNpdGUgZ2VuZXJhdG9yXShodHRwczovL2Jvb2tkb3duLm9yZy95aWh1aS9ybWFya2Rvd24vcm1hcmtkb3duLXNpdGUuaHRtbCksIFtyZW5kZXJfc2l0ZV0oaHR0cHM6Ly9yZHJyLmlvL2NyYW4vcm1hcmtkb3duL21hbi9yZW5kZXJfc2l0ZS5odG1sKSwgYWxsb3dzIG1vcmUgZmxleGlibGUgYnVpbGRpbmcgb2Ygd2Vic2l0ZXMgZnJvbSBSIE1hcmtkb3duIGZpbGVzIHdpdGggYSBzaW1wbGUgbmF2aWdhdGlvbiBiYXIgYXQgdGhlIHRvcCwgYnV0IGRvZXNuJ3Qgc3VwcG9ydCBgaHRtbF9ub3RlYm9va2AgZmlsZXMgT09CLgoKVG8gd29yayBhcm91bmQgdGhpcywgSSBjcmVhdGVkIGEgc2ltcGxlIGZyYW1ld29yayBmb3IgY29udmVydGluZyBgaHRtbF9ub3RlYm9va2AgZmlsZXMgdG8gYGh0bWxfZG9jdW1lbnRgIGFuZCBidWlsZGluZyBhIGBfc2l0ZS55bWxgIGZyb20gYSBsaXN0IG9mIG5vdGVib29rcyBzdG9yZWQgaW4gdGhlIG5vbi1zdGFuZGFyZCBgbm90ZWJvb2tzL2AgZGlyZWN0b3J5LCBpbml0aWFsbHkgdXNpbmcgYSBzaGVsbCBzY3JpcHQsIGBidWlsZF9zaXRlYCAoc3RvcmVkIGF0IHRoZSByb290IG9mIHRoaXMgW3JlcG9dKGh0dHBzOi8vZ2l0aHViLmNvbS9qYWJlbm5pbmdob2ZmL3J0cmFpbmluZykpLiBJdCBkb2VzIHRoZSBmb2xsb3dpbmc6CgoxLiBDcmVhdGVzIGEgd29ya2luZyBkaXJlY3RvcnksIGAuYnVpbGQtc2l0ZWAKMS4gQnVpbGRzIGEgYHJtYXJrZG93bjo6cmVuZGVyX3NpdGUoKWAgYF9zaXRlLnltbGAgZmlsZSB0aGF0IGluY2x1ZGVzIGEgbWVudSB3aXRoIGFsbCBub3RlYm9va3MgaW4gdGhlIGBub3RlYm9va3MvYCBkaXJlY3RvcnkKMS4gQ29waWVzIGFsbCBgLlJtZGAgZmlsZXMgdG8gYC5idWlsZC1zaXRlYCBjaGFuZ2luZyB0aGVpciB0eXBlIGZyb20gYGh0bWxfbm90ZWJvb2tgIHRvIGBodG1sX2RvY3VtZW50YAoxLiBJbmNsdWRlcyBzb21lIGNvbmZpZ3VyYXRpb24gdG8gbWFrZSBgaHRtbF9kb2N1bWVudHNgIHdvcmsgbW9yZSBsaWtlIGBodG1sX25vdGVib29rYAoxLiBDYWxscyBgcm1hcmtkb3duOjpyZW5kZXJfc2l0ZSgpYCB0byByZW5kZXIgdGhlIHNpdGUgaW4gdGhlIGBkb2NzL2AgZGlyZWN0b3J5CgpJIHR5cGljYWxseSByZWJ1aWxkIGEgc2l0ZSB3aXRoIHRoZSBmb2xsb3dpbmcgY29tbWFuZCwgcnVuIGZyb20gdGhlIHRvcC1sZXZlbCBkaXJlY3Rvcnkgb2YgdGhlIHByb2plY3Q6CgpgYGBzaApybSAtcmYgLmJ1aWxkLXNpdGUgJiYgc2ggYnVpbGQtc2l0ZSAmJiBvcGVuIGRvY3MvaW5kZXguaHRtbApgYGAKClRoaXMgYXBwcm9hY2ggbGV2ZXJhZ2VzIHRoZSBbZG9jcyBmdW5jdGlvbmFsaXR5XShodHRwczovL2hlbHAuZ2l0aHViLmNvbS9hcnRpY2xlcy9jb25maWd1cmluZy1hLXB1Ymxpc2hpbmctc291cmNlLWZvci1naXRodWItcGFnZXMvI3B1Ymxpc2hpbmcteW91ci1naXRodWItcGFnZXMtc2l0ZS1mcm9tLWEtZG9jcy1mb2xkZXItb24teW91ci1tYXN0ZXItYnJhbmNoKSBvZiBHaXRIdWIgcGFnZXMsIGxpa2UgcGtnZG93bi4KCiMjIyBVcGRhdGUgb24gUHVibGlzaGluZwoKYGJ1aWxkLXNpdGVgIGhhcyBiZWVuIHJlcGxhY2VkIHdpdGggYGJ1aWxkX2FuYWx5c2lzX3NpdGUoKWAhIEF0IGl0cyBjb3JlLCBpdCBpcyBmdW5jdGlvbmFsbHkgdGhlIHNhbWU6IGJ1aWxkcyBhIGBwa2dkb3duYCBzaXRlLCBhZGRpbmcgYW4gIkFuYWx5c2lzIiBtZW51IHdpdGggYWxsIG5vdGVib29rcyBpbiB0aGUgKHJlbmFtZWQpIGBhbmFseXNpcy9gIGRpcmVjdG9yeSwgdGhlbiBjb252ZXJ0cyBhbmQgYnVpbGRzIHRoZSBub3RlYm9va3MgdXNpbmcgYHJtYXJrZG93bmAsIGFuZCBtb3ZlcyB0aGVtIGludG8gdGhlIGBkb2NzL2AgZGlyZWN0b3J5LiBTaW5jZSBpdCBpcyBub3cgYW4gUiBTY3JpcHQsIGl0J3MgbW9yZSBwb3J0YWJsZSBhbmQgY2FuIGJlIG1vcmUgZWFzaWx5IGJ1bmRsZWQgd2l0aCBwYWNrYWdlcy4gSSB3aWxsIGJlIG1pZ3JhdGluZyBpdHMgZnVuY3Rpb25hbGl0eSB0byBbcmRldl0oaHR0cHM6Ly9qYWJlbm5pbmdob2ZmLmdpdGh1Yi5pby9yZGV2Lykgc2hvcnRseSwgc28gdGhhdCBpdCdzIHVzYWJsZSBhY3Jvc3MgbXVsdGlwbGUgYW5hbHlzaXMgcHJvamVjdHMuCgojIyBSIFBhY2thZ2UgTGF5b3V0CgpIZXJlIGlzIG15IHBhY2thZ2UgbGF5b3V0IC0gdGhlIHRhYmxlIHNob3dzIHRoZSBwYXRoLCB3aGV0aGVyIGl0J3MgcGFydCBvZiB0aGUgZm9ybWFsIFIgcGFja2FnZSBkZWZpbml0aW9uLCBhbmQgbXkgbm90ZXMgb24gaXRzIHVzZS4KClBhdGggfCBSIHwgTm90ZXMKLS0tLS18Oi06fC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQouUmJ1aWxkaWdub3JlfGB4YHxFeGNsdWRlIGZpbGVzIGZyb20gcGFja2FnZQouUnByb2ZpbGV8YHhgfFVzZWQgYnkgYHJlbnZgIGFuZCB0byBbYXR0YWNoIGRldmVsb3BtZW50IHRvb2xzXShodHRwczovL3ItcGtncy5vcmcvc2V0dXAuaHRtbD8jcGVyc29uYWwtc3RhcnR1cC1jb25maWd1cmF0aW9uKQouZ2l0aHVifCB8R2l0SHViIHRlbXBsYXRlcyBhbmQgd29ya2Zsb3dzCi5naXRpZ25vcmV8YHhgfEkgdXNlIFtSXShodHRwczovL2dpdGh1Yi5jb20vZ2l0aHViL2dpdGlnbm9yZS9ibG9iL21hc3Rlci9SLmdpdGlnbm9yZSkgYW5kIG1hY09TIGV4Y2x1c2lvbnMsIGFuZCAqKmFsd2F5cyoqIGV4Y2x1ZGUgZ2VuZXJhdGVkIGZpbGVzIG91dHNpZGUgb2YgYGRvY3MvYAoubGludHJ8IHxbbGludHJdKGh0dHBzOi8vZ2l0aHViLmNvbS9yLWxpYi9saW50cikgZGVmYXVsdCBsaW50ZXJzIHdpdGggMTAwIGNvbHVtbnM6IGBsaW50ZXJzOiB3aXRoX2RlZmF1bHRzKGxpbmVfbGVuZ3RoX2xpbnRlcigxMDApKWAKREVTQ1JJUFRJT058YHhgfHVzZSAiU3VnZ2VzdHMiIGZvciBkZXZlbG9wbWVudCB0b29scywgcGVyIFtyZW52XShodHRwczovL3JzdHVkaW8uZ2l0aHViLmlvL3JlbnYvYXJ0aWNsZXMvZmFxLmh0bWwjaG93LXNob3VsZC1pLWhhbmRsZS1kZXZlbG9wbWVudC1kZXBlbmRlbmNpZXMtKQpMSUNFTlNFfGB4YHxHZW5lcmF0ZWQgd2l0aCBbYHVzZV9taXRfbGljZW5zZSgpYF0oaHR0cHM6Ly91c2V0aGlzLnItbGliLm9yZy9yZWZlcmVuY2UvbGljZW5zZXMuaHRtbCkKTElDRU5TRS5tZHwgfFNlZSBhYm92ZSwgdXNlZCBieSBbcGtnZG93bl0oaHR0cHM6Ly9wa2dkb3duLnItbGliLm9yZykKTkFNRVNQQUNFfGB4YHxHZW5lcmF0ZWQgd2l0aCBbcm94eWdlbjJdKGh0dHBzOi8vcm94eWdlbjIuci1saWIub3JnKQpORVdTLm1kfCB8UmVsZWFzZSBub3RlcywgdXNlZCBieSBbcGtnZG93bl0oaHR0cHM6Ly9wa2dkb3duLnItbGliLm9yZykKUkVBRE1FLlJtZHxgeGB8R2VuZXJhdGVkIHdpdGggW2B1c2VfcmVhZG1lX21kKClgXShodHRwczovL3VzZXRoaXMuci1saWIub3JnL3JlZmVyZW5jZS91c2VfcmVhZG1lX3JtZC5odG1sKQpSRUFETUUubWR8YHhgfEdlbmVyYXRlZCB3aXRoIFtgYnVpbGRfcmVhZG1lKClgXShodHRwczovL2RldnRvb2xzLnItbGliLm9yZy9yZWZlcmVuY2UvYnVpbGRfcm1kLmh0bWwpClJ8YHhgfEFsbCBwcm9qZWN0IGZ1bmN0aW9ucyBnbyBoZXJlLCB3aXRoIFtyb3h5Z2VuMl0oaHR0cHM6Ly9yb3h5Z2VuMi5yLWxpYi5vcmcpIGNvbW1lbnRzClRPRE8ubWR8IHxUby1kbyBsaXN0LCBpbnNwaXJlZCBieSA8aHR0cHM6Ly9naXRodWIuY29tL3JzdHVkaW8vcmVudi9ibG9iL21hc3Rlci9UT0RPLm1kPgphbmFseXNpc3wgfEV4cGxvcmF0b3J5IGRhdGEgYW5hbHlzaXMgaW4gUiBOb3RlYm9va3MgYW5kIFIgUHJlc2VudGF0aW9ucwphbmFseXNpcy9kYXRhfCB8V2hlbiBhcHByb3ByaWF0ZSwgYW5hbHlzaXMgZGF0YSBsaXZlcyBoZXJlCmFuYWx5c2lzL2Fzc2V0c3wgfEV4dGVybmFsIGFzc2V0cyAoaW1hZ2VzLCBvdGhlciBmaWxlcykgaW5jbHVkZWQgaW4gUiBOb3RlYm9va3MKYW5hbHlzaXMvcmVuZGVyZWR8IHxNYW51YWxseSByZW5kZXJlZCBodG1sIHZlcnNpb25zIG9mIGBhbmFseXNpcy9gIGZpbGVzIHRvIGJlIGluY2x1ZGVkIGluIGBkb2NzL2AsIGllIFsuUnByZXMgZmlsZXNdKGh0dHBzOi8vc3RhY2tvdmVyZmxvdy5jb20vcXVlc3Rpb25zLzI3OTMwMTI3L3JlbmRlci1yLXByZXNlbnRhdGlvbi1mcm9tLXRoZS1jb21tYW5kLWxpbmUpLCBub3Qgc3RvcmVkIGluIGdpdAp+fmRlbW9zfn58YHhgfEkgZG9uJ3QgdXNlIGRlbW9zLCBhcyByZWNvbW1lbmRlZCBieSBbUiBQYWNrYWdlc10oaHR0cHM6Ly9yLXBrZ3Mub3JnL21pc2MuaHRtbCkKZG9jc3wgfFVzZWQgYnkgW2Bwa2dkb3duOjpidWlsZF9zaXRlKClgXShodHRwczovL3BrZ2Rvd24uci1saWIub3JnL3JlZmVyZW5jZS9idWlsZF9zaXRlLmh0bWwpIGFuZCBSIE5vdGVib29rcyByZW5kZXJlZCBhcyBgaHRtbF9kb2N1bWVudGAgdXNpbmcgW2BybWFya2Rvd246OnJlbmRlcl9zaXRlKClgXShodHRwczovL3JkcnIuaW8vY3Jhbi9ybWFya2Rvd24vbWFuL3JlbmRlcl9zaXRlLmh0bWwpIHZpYSBbYGJ1aWxkX2FuYWx5c2lzX3NpdGUoKWBdKGh0dHBzOi8vamFiZW5uaW5naG9mZi5naXRodWIuaW8vcmRldi9yZWZlcmVuY2UvYnVpbGRfYW5hbHlzaXNfc2l0ZS5odG1sKQoqZXhlYyp8YHhgfEluIHRoZW9yeSB0aGlzIGlzIHdoZXJlIGNvbW1hbmQgbGluZSBleGVjdXRhYmxlIHNjcmlwcyByZXNpZGUKaW5zdC90ZW1wbGF0ZXMvcm1hcmtkb3dufGB4YHwqUGxhbm5lZCBsb2NhdGlvbiBmb3IgW1IgTWFya2Rvd24gVGVtcGxhdGVzXShodHRwczovL3JzdHVkaW8uZ2l0aHViLmlvL3JzdHVkaW8tZXh0ZW5zaW9ucy9ybWFya2Rvd25fdGVtcGxhdGVzLmh0bWwpKgptYW58YHhgfEdlbmVyYXRlZCB3aXRoIFtyb3h5Z2VuMl0oaHR0cHM6Ly9yb3h5Z2VuMi5yLWxpYi5vcmcpCnBhY2thZ2UuUnByb2p8IHxJIHVzZSB0aGUgc2FtZSBuYW1lIGZvciB0aGUgcGFja2FnZSwgLlJwcm9qLCBkaXJlY3RvcnksIGFuZCBHaXRIdWIgcmVwbwpwa2dkb3dufCB8SSBzdG9yZSBhbGwgW3BrZ2Rvd25dKGh0dHBzOi8vcGtnZG93bi5yLWxpYi5vcmcpIGZpbGVzIGhlcmUKKnBvKnxgeGB8VXNlZCBmb3IgW0ludGVybmF0aW9uYWxpemF0aW9uXShodHRwczovL2NyYW4uci1wcm9qZWN0Lm9yZy9kb2MvbWFudWFscy9yLWRldmVsL1ItZXh0cy5odG1sI0ludGVybmF0aW9uYWxpemF0aW9uKQpyZW52fCB8VXNlZCBieSBbcmVudl0oaHR0cHM6Ly9yc3R1ZGlvLmdpdGh1Yi5pby9yZW52LykKcmVudi5sb2NrfCB8VGhlIHJlbnYgW2xvY2tmaWxlXShodHRwczovL3JzdHVkaW8uZ2l0aHViLmlvL3JlbnYvcmVmZXJlbmNlL2xvY2tmaWxlcy5odG1sKQp0ZXN0c3xgeGB8VGVzdHMgdXNpbmcgW3Rlc3R0aGF0XShodHRwczovL3Rlc3R0aGF0LnItbGliLm9yZykKdG9vbHN8YHhgfEkgdXNlIGB0b29scy9gIGZvciBzaGVsbCBzY3JpcHRzIHRoYXQgc3VwcG9ydCBkZXZlbG9wbWVudCwgbGlrZSBgc2V0dXAtcmAKdmlnbmV0dGVzfGB4YHxNb3JlIHR5cGljYWwgcGFja2FnZSBhcnRpY2xlcywgdXNlZCBieSBbcGtnZG93bl0oaHR0cHM6Ly9wa2dkb3duLnItbGliLm9yZykKCiMjIFIgV29ya2Zsb3cKCkhlcmUgaXMgdGhlIHR5cGljYWwgd29ya2Zsb3cgSSdtIHNldHRsaW5nIGludG8gKG9yIGF0IGxlYXN0IHRyeWluZyB0by4uLkkgc3RpbGwgZG9uJ3QgaGF2ZSBUREQgZG93biBqdXN0IHlldCksIG9uY2UgYSBwcm9qZWN0IGlzIGNyZWF0ZWQuIFByb2plY3RzIGFyZSBlaXRoZXIgdmFuaWxsYSBwYWNrYWdlcyBhbmQgZG9uJ3QgY29udGFpbiBgYW5hbHlzaXMvYCwgbGlrZSBbcmRldl0oaHR0cHM6Ly9qYWJlbm5pbmdob2ZmLmdpdGh1Yi5pby9yZGV2LyksIG9yICJhbmFseXNpcyBwYWNrYWdlcyIgYW5kIGJ1bmRsZSBhbmFseXNpcyBub3RlYm9va3MgYXMgYSBwcm9qZWN0LCBsaWtlIFtydHJhaW5pbmddKGh0dHBzOi8vamFiZW5uaW5naG9mZi5naXRodWIuaW8vcnRyYWluaW5nLykuCgoxLiBDaGVjayBmb3IgdXBkYXRlZCBwYWNrYWdlcyB3aGVuIHN0YXJ0aW5nIHRvIHdvcmssIChJIGNyZWF0ZWQgW2BjaGVja19yZW52KClgXShodHRwczovL2phYmVubmluZ2hvZmYuZ2l0aHViLmlvL3JkZXYvcmVmZXJlbmNlL2NoZWNrX3JlbnYuaHRtbCkgZm9yIHRoaXMpIGFuZCBjaGVjayBmb3IgZXJyb3JzIHVzaW5nIGxvY2FsIENJIGNoZWNrcyAoW2BjaSgpYF0oaHR0cHM6Ly9qYWJlbm5pbmdob2ZmLmdpdGh1Yi5pby9yZGV2L3JlZmVyZW5jZS9jaS5odG1sKSkuCjEuIFdoZW4gY3JlYXRpbmcgYSBuZXcgZnVuY3Rpb24sIHdyaXRlIHRoZSBkb2N1bWVudGF0aW9uIGZpcnN0LCB1c2luZyBSb3h5Z2VuIC0gdGhpcyBoZWxwcyBlbmNvdXJhZ2UgdXAtZnJvbnQgZGVzaWduIGFuZCBjbGFyaWZpZXMgZ29hbHMvcmVxdWlyZW1lbnRzLgoxLiBXcml0ZSB0ZXN0cyBuZXh0IC0gYm90aCBoYXBweSBwYXRoIGFuZCBuZWdhdGl2ZSB0ZXN0IGNhc2VzIHdoZW5ldmVyIHBvc3NpYmxlLiAxMDAlIHRlc3QgY292ZXJhZ2UgaXMgb3ZlcmtpbGwsIGJ1dCBJIHRyeSB0byB3cml0ZSBhICdkYXRhIHZhbGlkaXR5IGNoZWNrZXInIHdoaWNoIGFsc28gaGVscHMgZGVmaW5lIHRoZSBleHBlY3RlZCBmb3JtYXQgb2YgdGhlIGRhdGEuCjEuIFtURERdKGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL1Rlc3QtZHJpdmVuX2RldmVsb3BtZW50KTogcnVuIHRlc3RzLCB3cml0ZSBjb2RlIHRoYXQgZmFpbHMgdGVzdHMsIGZpeCBjb2RlLCByZXBlYXQuIChEb24ndCBmb3JnZXQgdG8gcmVmYWN0b3IpCjEuIEkgdXNlIHRydW5rLWJhc2VkIGRldmVsb3BtZW50LCB3aGljaCBJIGxlYXJuZWQgZnJvbSBbSG9tZWJyZXddKGh0dHBzOi8vYnJldy5zaCkuIEkgdHJ5IHRvIGtlZXAgY29tbWl0cyBzbWFsbCwgcmVsYXRlZCwgYW5kIGltcGxlbWVudGluZyBjaGFuZ2VzIHRoYXQgZG9uJ3QgYnJlYWsgY29kZSwgbWVyZ2UgYmFjayB0byBtYWluIGZyZXF1ZW50bHkgLSBiZWZvcmUgdGhlIGVuZCBvZiB0aGUgZGF5IC0gYW5kIHJlcXVpcmUgbGluZWFyIGNvbW1pdCBoaXN0b3J5IChpZSByZWJhc2UgYW5kIG1lcmdlKS4KMS4gQmVmb3JlIHB1c2hpbmcgY29tbWl0cywgSSBydW4gW2BzdHlsZV9hbGwoKWBdKGh0dHBzOi8vamFiZW5uaW5naG9mZi5naXRodWIuaW8vcmRldi9yZWZlcmVuY2Uvc3R5bGVfYWxsLmh0bWwpIGFuZCBbYGNpKClgXShodHRwczovL2phYmVubmluZ2hvZmYuZ2l0aHViLmlvL3JkZXYvcmVmZXJlbmNlL2NpLmh0bWwpIHRvIGZpeCBhbnkgcHJvYmxlbXMgbG9jYWxseSAoanVzdCAidW5kbyIgaW4gR2l0SHViIERlc2t0b3AsIGZpeCwgYW5kIHJlLWNvbW1pdCkuCgpPbmUgdGhpbmcgdGhhdCBhbm5veXMgbWUgaXMgdGhhdCBieSBkZWZhdWx0LCBkZXZ0b29scyBqdXN0IHdyaXRlcyBuZXcgbGluZXMgdG8gdGhlIGVuZCBvZiBgLlJidWlsZGlnbm9yZWAsIHNvIEkgd3JvdGUgW2Bzb3J0X3JidWlsZGlnbm9yZSgpYF0oaHR0cHM6Ly9qYWJlbm5pbmdob2ZmLmdpdGh1Yi5pby9yZGV2L3JlZmVyZW5jZS9zb3J0X3JidWlsZGlnbm9yZS5odG1sKS4KCiMgTmV4dCBTdGVwcwoKSSdsbCBrZWVwIGFkZGluZyB0byB0aGlzIGRvY3VtZW50IGFzIEkgZ28sIGFuZCB3aWxsIGxpa2VseSBldmVudHVhbGx5IG1pZ3JhdGUgdGhpcyBub3RlYm9vayB0byBhIGB2aWduZXR0ZWAgYW5kIHN3aXRjaCB0byBgcGtnZG93bmAuCg==</div>


</div>
</div>

</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.odd').parent('tbody').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- tabsets -->

<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});

$(document).ready(function () {
  $('.tabset-dropdown > .nav-tabs > li').click(function () {
    $(this).parent().toggleClass('nav-tabs-open');
  });
});
</script>

<!-- code folding -->
<script>
$(document).ready(function () {
  window.initializeSourceEmbed("r-setup-log.Rmd");
  window.initializeCodeFolding("show" === "show");
});
</script>

<script>
$(document).ready(function ()  {

    // temporarily add toc-ignore selector to headers for the consistency with Pandoc
    $('.unlisted.unnumbered').addClass('toc-ignore')

    // move toc-ignore selectors from section div to header
    $('div.section.toc-ignore')
        .removeClass('toc-ignore')
        .children('h1,h2,h3,h4,h5').addClass('toc-ignore');

    // establish options
    var options = {
      selectors: "h1,h2,h3",
      theme: "bootstrap3",
      context: '.toc-content',
      hashGenerator: function (text) {
        return text.replace(/[.\\/?&!#<>]/g, '').replace(/\s/g, '_');
      },
      ignoreSelector: ".toc-ignore",
      scrollTo: 0
    };
    options.showAndHide = false;
    options.smoothScroll = false;

    // tocify
    var toc = $("#TOC").tocify(options).data("toc-tocify");
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
